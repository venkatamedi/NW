function LoginCtrl($rootScope,$state,AuthService,AUTH_EVENTS,FE_VERSION,$sessionStorage,TDMService,LOGIN_BANNER){var loginCtrl=this;loginCtrl.banner=LOGIN_BANNER,loginCtrl.version=FE_VERSION.version,loginCtrl.currentYear=(new Date).getFullYear(),loginCtrl.init=function(){AuthService.clearSession()},$sessionStorage.taskTableHideColumns=null,$sessionStorage.taskHistoryTableHideColumns=null,loginCtrl.login=function(){var request={username:loginCtrl.username,password:loginCtrl.password};AuthService.login(request).then((function(response){"SUCCESS"==response.errorCode?($rootScope.$broadcast(AUTH_EVENTS.loginSuccess),TDMService.getSupportedDbTypes().then((function(response){"SUCCESS"==response.errorCode&&TDMService.saveDBTypes(response.result)})),$state.go("dashboard")):loginCtrl.errorMessage=response.message}))},loginCtrl.init()}angular.module("TDM-FE").controller("LoginCtrl",LoginCtrl);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXJzL2xvZ2luQ3RybC5qcyJdLCJuYW1lcyI6WyJMb2dpbkN0cmwiLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwiQXV0aFNlcnZpY2UiLCJBVVRIX0VWRU5UUyIsIkZFX1ZFUlNJT04iLCIkc2Vzc2lvblN0b3JhZ2UiLCJURE1TZXJ2aWNlIiwiTE9HSU5fQkFOTkVSIiwibG9naW5DdHJsIiwidGhpcyIsImJhbm5lciIsInZlcnNpb24iLCJjdXJyZW50WWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImluaXQiLCJjbGVhclNlc3Npb24iLCJ0YXNrVGFibGVIaWRlQ29sdW1ucyIsInRhc2tIaXN0b3J5VGFibGVIaWRlQ29sdW1ucyIsImxvZ2luIiwicmVxdWVzdCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ0aGVuIiwicmVzcG9uc2UiLCJlcnJvckNvZGUiLCIkYnJvYWRjYXN0IiwibG9naW5TdWNjZXNzIiwiZ2V0U3VwcG9ydGVkRGJUeXBlcyIsInNhdmVEQlR5cGVzIiwicmVzdWx0IiwiZ28iLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFVBQVdDLFdBQVdDLE9BQU9DLFlBQVlDLFlBQVlDLFdBQVdDLGdCQUFpQkMsV0FBWUMsY0FDbEcsSUFBSUMsVUFBWUMsS0FDaEJELFVBQVVFLE9BQVNILGFBQ25CQyxVQUFVRyxRQUFVUCxXQUFXTyxRQUMvQkgsVUFBVUksYUFBZSxJQUFJQyxNQUFPQyxjQUNwQ04sVUFBVU8sS0FBTyxXQUNiYixZQUFZYyxnQkFHaEJYLGdCQUFnQlkscUJBQXVCLEtBQ3ZDWixnQkFBZ0JhLDRCQUE4QixLQUU5Q1YsVUFBVVcsTUFBUSxXQUNkLElBQUlDLFFBQVUsQ0FDVkMsU0FBV2IsVUFBVWEsU0FDckJDLFNBQVdkLFVBQVVjLFVBRXpCcEIsWUFBWWlCLE1BQU1DLFNBQVNHLE1BQUssU0FBU0MsVUFDWCxXQUF0QkEsU0FBU0MsV0FFVHpCLFdBQVcwQixXQUFXdkIsWUFBWXdCLGNBQ2xDckIsV0FBV3NCLHNCQUFzQkwsTUFBSyxTQUFVQyxVQUNsQixXQUF0QkEsU0FBU0MsV0FFVG5CLFdBQVd1QixZQUFZTCxTQUFTTSxXQU14QzdCLE9BQU84QixHQUFHLGNBR1Z2QixVQUFVd0IsYUFBZVIsU0FBU1MsWUFLOUN6QixVQUFVTyxPQUdkbUIsUUFDS0MsT0FBTyxVQUNQQyxXQUFXLFlBQWNyQyIsImZpbGUiOiJjb250cm9sbGVycy9sb2dpbkN0cmwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBMb2dpbkN0cmwgKCRyb290U2NvcGUsJHN0YXRlLEF1dGhTZXJ2aWNlLEFVVEhfRVZFTlRTLEZFX1ZFUlNJT04sJHNlc3Npb25TdG9yYWdlLCBURE1TZXJ2aWNlLCBMT0dJTl9CQU5ORVIpe1xuICAgIHZhciBsb2dpbkN0cmwgPSB0aGlzO1xuICAgIGxvZ2luQ3RybC5iYW5uZXIgPSBMT0dJTl9CQU5ORVI7XG4gICAgbG9naW5DdHJsLnZlcnNpb24gPSBGRV9WRVJTSU9OLnZlcnNpb247XG4gICAgbG9naW5DdHJsLmN1cnJlbnRZZWFyID0gIG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbiAgICBsb2dpbkN0cmwuaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIEF1dGhTZXJ2aWNlLmNsZWFyU2Vzc2lvbigpO1xuICAgIH07XG5cbiAgICAkc2Vzc2lvblN0b3JhZ2UudGFza1RhYmxlSGlkZUNvbHVtbnMgPSBudWxsO1xuICAgICRzZXNzaW9uU3RvcmFnZS50YXNrSGlzdG9yeVRhYmxlSGlkZUNvbHVtbnMgPSBudWxsO1xuXG4gICAgbG9naW5DdHJsLmxvZ2luID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICAgICAgICB1c2VybmFtZSA6IGxvZ2luQ3RybC51c2VybmFtZSxcbiAgICAgICAgICAgIHBhc3N3b3JkIDogbG9naW5DdHJsLnBhc3N3b3JkXG4gICAgICAgIH07XG4gICAgICAgIEF1dGhTZXJ2aWNlLmxvZ2luKHJlcXVlc3QpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PSBcIlNVQ0NFU1NcIil7XG4gICAgICAgICAgICAgICAgLy8gb25seSBpZiB0aGUgbG9naW4gc3VjY2VlZGVkIHRoZW4gZ28gdG8gbWFpblxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdChBVVRIX0VWRU5UUy5sb2dpblN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIFRETVNlcnZpY2UuZ2V0U3VwcG9ydGVkRGJUeXBlcygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT0gXCJTVUNDRVNTXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETyBTdWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBURE1TZXJ2aWNlLnNhdmVEQlR5cGVzKHJlc3BvbnNlLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE8gZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdkYXNoYm9hcmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2luQ3RybC5lcnJvck1lc3NhZ2UgPSByZXNwb25zZS5tZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgbG9naW5DdHJsLmluaXQoKTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ1RETS1GRScpXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcgLCBMb2dpbkN0cmwpOyJdfQ==
