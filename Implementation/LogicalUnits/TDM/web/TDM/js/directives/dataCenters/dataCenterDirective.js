function centerDataDirective(){return{restrict:"E",templateUrl:"views/dataCenters/dataCenter.html",scope:{content:"="},controller:function($scope,TDMService,BreadCrumbsService,SweetAlert,toastr,$timeout,AuthService){var dataCenterCtrl=this;dataCenterCtrl.dataCenterData=$scope.content.dataCenter,dataCenterCtrl.disableChange=!1,dataCenterCtrl.ipRegex=new RegExp(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),dataCenterCtrl.etlAddressOptions=[{id:1,name:"IP address"},{id:2,name:"Host name"}],dataCenterCtrl.etlAddress=2,dataCenterCtrl.ipRegex.test(dataCenterCtrl.dataCenterData.data_center_etl_ip_address)&&(dataCenterCtrl.etlAddress=1),dataCenterCtrl.disableChange="Inactive"==dataCenterCtrl.dataCenterData.data_center_status||!AuthService.authorizedToEdit(0),TDMService.getDataCenterEnvironmentCount(dataCenterCtrl.dataCenterData.data_center_id).then((function(response){"SUCCESS"==response.errorCode?dataCenterCtrl.dataCenterEnvironments=response.result.length:dataCenterCtrl.dataCenterEnvironments=0})),dataCenterCtrl.saveChanges=function(){1!=$scope.dataCenterForm.$invalid&&TDMService.updateDataCenter(dataCenterCtrl.dataCenterData.data_center_id,dataCenterCtrl.dataCenterData).then((function(response){"SUCCESS"==response.errorCode?(toastr.success("Data Center # "+dataCenterCtrl.dataCenterData.data_center_name,"Updated Successfully"),$timeout((function(){$scope.content.openDataCenters()}),400)):toastr.error("Data Center # "+dataCenterCtrl.dataCenterData.data_center_name,"failed to Update : "+response.message)}))},dataCenterCtrl.deleteDataCenter=function(){dataCenterCtrl.dataCenterEnvironments>0?SweetAlert.swal({title:"Product attached to this data center will be deleted from environments. Related tasks will also be deleted. Are you sure ?",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"No",cancelButtonText:"Yes",closeOnConfirm:!0,closeOnCancel:!0,animation:"false",customClass:"animated fadeInUp"},(function(isConfirm){isConfirm||TDMService.deleteDataCenter(dataCenterCtrl.dataCenterData.data_center_id).then((function(response){"SUCCESS"==response.errorCode?(toastr.success("Data Center # "+dataCenterCtrl.dataCenterData.data_center_name,"deleted Successfully"),$timeout((function(){$scope.content.openDataCenters()}),400)):toastr.error("Data Center # "+dataCenterCtrl.dataCenterData.data_center_name,"failed to delete")}))})):TDMService.deleteDataCenter(dataCenterCtrl.dataCenterData.data_center_id).then((function(response){"SUCCESS"==response.errorCode?(toastr.success("Data Center # "+dataCenterCtrl.dataCenterData.data_center_name,"deleted Successfully"),$timeout((function(){$scope.content.openDataCenters()}),400)):toastr.error("Data Center # "+dataCenterCtrl.dataCenterData.data_center_name,"failed to delete")}))},BreadCrumbsService.push({data_center_name:dataCenterCtrl.dataCenterData.data_center_name},"DATA_CENTER_BREADCRUMB",(function(){}))},controllerAs:"dataCenterCtrl"}}angular.module("TDM-FE").directive("centerDataDirective",centerDataDirective);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdGl2ZXMvZGF0YUNlbnRlcnMvZGF0YUNlbnRlckRpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6WyJjZW50ZXJEYXRhRGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInNjb3BlIiwiY29udGVudCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJURE1TZXJ2aWNlIiwiQnJlYWRDcnVtYnNTZXJ2aWNlIiwiU3dlZXRBbGVydCIsInRvYXN0ciIsIiR0aW1lb3V0IiwiQXV0aFNlcnZpY2UiLCJkYXRhQ2VudGVyQ3RybCIsInRoaXMiLCJkYXRhQ2VudGVyRGF0YSIsImRhdGFDZW50ZXIiLCJkaXNhYmxlQ2hhbmdlIiwiaXBSZWdleCIsIlJlZ0V4cCIsImV0bEFkZHJlc3NPcHRpb25zIiwiaWQiLCJuYW1lIiwiZXRsQWRkcmVzcyIsInRlc3QiLCJkYXRhX2NlbnRlcl9ldGxfaXBfYWRkcmVzcyIsImRhdGFfY2VudGVyX3N0YXR1cyIsImF1dGhvcml6ZWRUb0VkaXQiLCJnZXREYXRhQ2VudGVyRW52aXJvbm1lbnRDb3VudCIsImRhdGFfY2VudGVyX2lkIiwidGhlbiIsInJlc3BvbnNlIiwiZXJyb3JDb2RlIiwiZGF0YUNlbnRlckVudmlyb25tZW50cyIsInJlc3VsdCIsImxlbmd0aCIsInNhdmVDaGFuZ2VzIiwiZGF0YUNlbnRlckZvcm0iLCIkaW52YWxpZCIsInVwZGF0ZURhdGFDZW50ZXIiLCJzdWNjZXNzIiwiZGF0YV9jZW50ZXJfbmFtZSIsIm9wZW5EYXRhQ2VudGVycyIsImVycm9yIiwibWVzc2FnZSIsImRlbGV0ZURhdGFDZW50ZXIiLCJzd2FsIiwidGl0bGUiLCJ0eXBlIiwic2hvd0NhbmNlbEJ1dHRvbiIsImNvbmZpcm1CdXR0b25Db2xvciIsImNvbmZpcm1CdXR0b25UZXh0IiwiY2FuY2VsQnV0dG9uVGV4dCIsImNsb3NlT25Db25maXJtIiwiY2xvc2VPbkNhbmNlbCIsImFuaW1hdGlvbiIsImN1c3RvbUNsYXNzIiwiaXNDb25maXJtIiwicHVzaCIsImNvbnRyb2xsZXJBcyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJkaXJlY3RpdmUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLHNCQXVHTCxNQUFPLENBQ0hDLFNBQVUsSUFDVkMsWUF2R1csb0NBd0dYQyxNQUFPLENBQ0hDLFFBQVMsS0FFYkMsV0F6R2EsU0FBVUMsT0FBT0MsV0FBV0MsbUJBQW1CQyxXQUFXQyxPQUFPQyxTQUFTQyxhQUN2RixJQUFJQyxlQUFpQkMsS0FDckJELGVBQWVFLGVBQWlCVCxPQUFPRixRQUFRWSxXQUMvQ0gsZUFBZUksZUFBZ0IsRUFDL0JKLGVBQWVLLFFBQVUsSUFBSUMsT0FBTyxpR0FFcENOLGVBQWVPLGtCQUFvQixDQUMvQixDQUNJQyxHQUFLLEVBQ0xDLEtBQU8sY0FFWCxDQUNJRCxHQUFLLEVBQ0xDLEtBQU8sY0FHZlQsZUFBZVUsV0FBYSxFQUN4QlYsZUFBZUssUUFBUU0sS0FBS1gsZUFBZUUsZUFBZVUsOEJBQzFEWixlQUFlVSxXQUFhLEdBRWhDVixlQUFlSSxjQUFxRSxZQUFwREosZUFBZUUsZUFBZVcscUJBQXFDZCxZQUFZZSxpQkFBaUIsR0FFaElwQixXQUFXcUIsOEJBQThCZixlQUFlRSxlQUFlYyxnQkFBZ0JDLE1BQUssU0FBU0MsVUFDdkUsV0FBdEJBLFNBQVNDLFVBQ1RuQixlQUFlb0IsdUJBQXlCRixTQUFTRyxPQUFPQyxPQUd4RHRCLGVBQWVvQix1QkFBeUIsS0FLaERwQixlQUFldUIsWUFBYyxXQUNhLEdBQWxDOUIsT0FBTytCLGVBQWVDLFVBRzFCL0IsV0FBV2dDLGlCQUFpQjFCLGVBQWVFLGVBQWVjLGVBQWVoQixlQUFlRSxnQkFBZ0JlLE1BQUssU0FBU0MsVUFDeEYsV0FBdEJBLFNBQVNDLFdBQ1R0QixPQUFPOEIsUUFBUSxpQkFBbUIzQixlQUFlRSxlQUFlMEIsaUJBQWlCLHdCQUNqRjlCLFVBQVMsV0FDTEwsT0FBT0YsUUFBUXNDLG9CQUNqQixNQUdGaEMsT0FBT2lDLE1BQU0saUJBQW1COUIsZUFBZUUsZUFBZTBCLGlCQUFpQixzQkFBd0JWLFNBQVNhLGFBSzVIL0IsZUFBZWdDLGlCQUFtQixXQUMxQmhDLGVBQWVvQix1QkFBeUIsRUFDeEN4QixXQUFXcUMsS0FBSyxDQUNSQyxNQUFPLDZIQUNQQyxLQUFNLFVBQ05DLGtCQUFrQixFQUNsQkMsbUJBQW9CLFVBQ3BCQyxrQkFBbUIsS0FDbkJDLGlCQUFrQixNQUNsQkMsZ0JBQWdCLEVBQ2hCQyxlQUFlLEVBQ2ZDLFVBQVcsUUFDWEMsWUFBYSxzQkFFakIsU0FBVUMsV0FDREEsV0FDRGxELFdBQVdzQyxpQkFBaUJoQyxlQUFlRSxlQUFlYyxnQkFBZ0JDLE1BQUssU0FBU0MsVUFDMUQsV0FBdEJBLFNBQVNDLFdBQ1R0QixPQUFPOEIsUUFBUSxpQkFBbUIzQixlQUFlRSxlQUFlMEIsaUJBQWlCLHdCQUNqRjlCLFVBQVMsV0FDTEwsT0FBT0YsUUFBUXNDLG9CQUNqQixNQUdGaEMsT0FBT2lDLE1BQU0saUJBQW1COUIsZUFBZUUsZUFBZTBCLGlCQUFpQiwwQkFPbkdsQyxXQUFXc0MsaUJBQWlCaEMsZUFBZUUsZUFBZWMsZ0JBQWdCQyxNQUFLLFNBQVNDLFVBQzFELFdBQXRCQSxTQUFTQyxXQUNUdEIsT0FBTzhCLFFBQVEsaUJBQW1CM0IsZUFBZUUsZUFBZTBCLGlCQUFpQix3QkFDakY5QixVQUFTLFdBQ0xMLE9BQU9GLFFBQVFzQyxvQkFDakIsTUFHRmhDLE9BQU9pQyxNQUFNLGlCQUFtQjlCLGVBQWVFLGVBQWUwQixpQkFBaUIsd0JBTS9GakMsbUJBQW1Ca0QsS0FBSyxDQUFDakIsaUJBQWtCNUIsZUFBZUUsZUFBZTBCLGtCQUFrQiwwQkFBeUIsZ0JBWXBIa0IsYUFBYyxrQkFLdEJDLFFBQ0tDLE9BQU8sVUFDUEMsVUFBVSxzQkFBdUI5RCIsImZpbGUiOiJkaXJlY3RpdmVzL2RhdGFDZW50ZXJzL2RhdGFDZW50ZXJEaXJlY3RpdmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjZW50ZXJEYXRhRGlyZWN0aXZlICgpe1xuXG4gICAgdmFyIHRlbXBsYXRlID0gXCJ2aWV3cy9kYXRhQ2VudGVycy9kYXRhQ2VudGVyLmh0bWxcIjtcblxuICAgIHZhciBjb250cm9sbGVyID0gZnVuY3Rpb24gKCRzY29wZSxURE1TZXJ2aWNlLEJyZWFkQ3J1bWJzU2VydmljZSxTd2VldEFsZXJ0LHRvYXN0ciwkdGltZW91dCxBdXRoU2VydmljZSkge1xuICAgICAgICB2YXIgZGF0YUNlbnRlckN0cmwgPSB0aGlzO1xuICAgICAgICBkYXRhQ2VudGVyQ3RybC5kYXRhQ2VudGVyRGF0YSA9ICRzY29wZS5jb250ZW50LmRhdGFDZW50ZXI7XG4gICAgICAgIGRhdGFDZW50ZXJDdHJsLmRpc2FibGVDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgZGF0YUNlbnRlckN0cmwuaXBSZWdleCA9IG5ldyBSZWdFeHAoL1xcYig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVxcYi8pO1xuXG4gICAgICAgIGRhdGFDZW50ZXJDdHJsLmV0bEFkZHJlc3NPcHRpb25zID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkIDogMSxcbiAgICAgICAgICAgICAgICBuYW1lIDogXCJJUCBhZGRyZXNzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQgOiAyLFxuICAgICAgICAgICAgICAgIG5hbWUgOiBcIkhvc3QgbmFtZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIGRhdGFDZW50ZXJDdHJsLmV0bEFkZHJlc3MgPSAyO1xuICAgICAgICBpZiAoZGF0YUNlbnRlckN0cmwuaXBSZWdleC50ZXN0KGRhdGFDZW50ZXJDdHJsLmRhdGFDZW50ZXJEYXRhLmRhdGFfY2VudGVyX2V0bF9pcF9hZGRyZXNzKSl7XG4gICAgICAgICAgICBkYXRhQ2VudGVyQ3RybC5ldGxBZGRyZXNzID0gMTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhQ2VudGVyQ3RybC5kaXNhYmxlQ2hhbmdlID0gKGRhdGFDZW50ZXJDdHJsLmRhdGFDZW50ZXJEYXRhLmRhdGFfY2VudGVyX3N0YXR1cyA9PSAnSW5hY3RpdmUnIHx8ICFBdXRoU2VydmljZS5hdXRob3JpemVkVG9FZGl0KDApKTtcblxuICAgICAgICBURE1TZXJ2aWNlLmdldERhdGFDZW50ZXJFbnZpcm9ubWVudENvdW50KGRhdGFDZW50ZXJDdHJsLmRhdGFDZW50ZXJEYXRhLmRhdGFfY2VudGVyX2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT0gJ1NVQ0NFU1MnKXtcbiAgICAgICAgICAgICAgICBkYXRhQ2VudGVyQ3RybC5kYXRhQ2VudGVyRW52aXJvbm1lbnRzID0gcmVzcG9uc2UucmVzdWx0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckVudmlyb25tZW50cyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgZGF0YUNlbnRlckN0cmwuc2F2ZUNoYW5nZXMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCRzY29wZS5kYXRhQ2VudGVyRm9ybS4kaW52YWxpZCA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBURE1TZXJ2aWNlLnVwZGF0ZURhdGFDZW50ZXIoZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckRhdGEuZGF0YV9jZW50ZXJfaWQsZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckRhdGEpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT0gXCJTVUNDRVNTXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXRhIENlbnRlciAjIFwiICsgZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckRhdGEuZGF0YV9jZW50ZXJfbmFtZSxcIlVwZGF0ZWQgU3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRlbnQub3BlbkRhdGFDZW50ZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sNDAwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJEYXRhIENlbnRlciAjIFwiICsgZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckRhdGEuZGF0YV9jZW50ZXJfbmFtZSxcImZhaWxlZCB0byBVcGRhdGUgOiBcIiArIHJlc3BvbnNlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRhdGFDZW50ZXJDdHJsLmRlbGV0ZURhdGFDZW50ZXIgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKGRhdGFDZW50ZXJDdHJsLmRhdGFDZW50ZXJFbnZpcm9ubWVudHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgU3dlZXRBbGVydC5zd2FsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIlByb2R1Y3QgYXR0YWNoZWQgdG8gdGhpcyBkYXRhIGNlbnRlciB3aWxsIGJlIGRlbGV0ZWQgZnJvbSBlbnZpcm9ubWVudHMuIFJlbGF0ZWQgdGFza3Mgd2lsbCBhbHNvIGJlIGRlbGV0ZWQuIEFyZSB5b3Ugc3VyZSA/XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIndhcm5pbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwiTm9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiWWVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZU9uQ29uZmlybTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlT25DYW5jZWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IFwiZmFsc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUNsYXNzOiBcImFuaW1hdGVkIGZhZGVJblVwXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGlzQ29uZmlybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0NvbmZpcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBURE1TZXJ2aWNlLmRlbGV0ZURhdGFDZW50ZXIoZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckRhdGEuZGF0YV9jZW50ZXJfaWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JDb2RlID09IFwiU1VDQ0VTU1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdGEgQ2VudGVyICMgXCIgKyBkYXRhQ2VudGVyQ3RybC5kYXRhQ2VudGVyRGF0YS5kYXRhX2NlbnRlcl9uYW1lLFwiZGVsZXRlZCBTdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb250ZW50Lm9wZW5EYXRhQ2VudGVycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSw0MDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkRhdGEgQ2VudGVyICMgXCIgKyBkYXRhQ2VudGVyQ3RybC5kYXRhQ2VudGVyRGF0YS5kYXRhX2NlbnRlcl9uYW1lLFwiZmFpbGVkIHRvIGRlbGV0ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgVERNU2VydmljZS5kZWxldGVEYXRhQ2VudGVyKGRhdGFDZW50ZXJDdHJsLmRhdGFDZW50ZXJEYXRhLmRhdGFfY2VudGVyX2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PSBcIlNVQ0NFU1NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXRhIENlbnRlciAjIFwiICsgZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckRhdGEuZGF0YV9jZW50ZXJfbmFtZSxcImRlbGV0ZWQgU3VjY2Vzc2Z1bGx5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29udGVudC5vcGVuRGF0YUNlbnRlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sNDAwKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJEYXRhIENlbnRlciAjIFwiICsgZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckRhdGEuZGF0YV9jZW50ZXJfbmFtZSxcImZhaWxlZCB0byBkZWxldGVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBCcmVhZENydW1ic1NlcnZpY2UucHVzaCh7ZGF0YV9jZW50ZXJfbmFtZTogZGF0YUNlbnRlckN0cmwuZGF0YUNlbnRlckRhdGEuZGF0YV9jZW50ZXJfbmFtZX0sJ0RBVEFfQ0VOVEVSX0JSRUFEQ1JVTUInLGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgdGVtcGxhdGVVcmw6IHRlbXBsYXRlLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgY29udGVudDogJz0nXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGNvbnRyb2xsZXJBcyA6J2RhdGFDZW50ZXJDdHJsJ1xuICAgIH07XG59XG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ1RETS1GRScpXG4gICAgLmRpcmVjdGl2ZSgnY2VudGVyRGF0YURpcmVjdGl2ZScsIGNlbnRlckRhdGFEaXJlY3RpdmUpOyJdfQ==
