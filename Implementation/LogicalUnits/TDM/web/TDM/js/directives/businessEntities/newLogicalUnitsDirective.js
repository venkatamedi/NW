function newLogicalUnitsDirective(){return{restrict:"E",templateUrl:"views/businessEntities/newLogicalUnits.html",scope:{data:"=",logicalUnits:"="},controller:function($scope,TDMService,BreadCrumbsService,toastr,$timeout){var newLogicalUnitsCtrl=this;newLogicalUnitsCtrl.attachedLogicalUnits=$scope.logicalUnits,TDMService.getGenericAPI("dataCenters").then((function(response){newLogicalUnitsCtrl.dataCenters=_.unique(response.result.filter(item=>"ALIVE"===item.status),"dc")})),TDMService.getLogicalUnits().then((function(response){newLogicalUnitsCtrl.logicalUnits=_.map(response.result,(function(lu){return{logical_unit:lu}})),_.remove(newLogicalUnitsCtrl.logicalUnits,(function(logicalUnit){return!!_.find(newLogicalUnitsCtrl.attachedLogicalUnits,{lu_name:logicalUnit.logical_unit})}));for(var i=0;i<newLogicalUnitsCtrl.logicalUnits.length;i++)newLogicalUnitsCtrl.parentLogicalUnits.push({logical_unit:newLogicalUnitsCtrl.logicalUnits[i].logical_unit})})),newLogicalUnitsCtrl.parentLogicalUnits=_.map(newLogicalUnitsCtrl.attachedLogicalUnits,(function(logicalUnit){return{logical_unit:logicalUnit.lu_name,lu_id:logicalUnit.lu_id}})),newLogicalUnitsCtrl.newLogicalUnits=[{}],newLogicalUnitsCtrl.addLogicalUnit=function(){newLogicalUnitsCtrl.newLogicalUnits.push({})},newLogicalUnitsCtrl.addLogicalUnits=function(){if("all"==newLogicalUnitsCtrl.chooseOption){if(0==newLogicalUnitsCtrl.logicalUnits.length)return void(newLogicalUnitsCtrl.logicalUnitAlert={type:"danger",msg:"There are no Logical Units to add"});newLogicalUnitsCtrl.newLogicalUnits=_.map(newLogicalUnitsCtrl.logicalUnits,(function(lu){return{lu_name:lu.logical_unit,lu_description:lu.logical_unit}}))}TDMService.postLogicalUnits($scope.data.beId,$scope.data.beName,{logicalUnits:newLogicalUnitsCtrl.newLogicalUnits}).then((function(response){if("SUCCESS"==response.errorCode){for(var i=0;i<response.result.length;i++){var logicalUnit=response.result[i];newLogicalUnitsCtrl.attachedLogicalUnits.push({lu_dc_name:logicalUnit.lu_dc_name||"",lu_id:logicalUnit.lu_id,lu_name:logicalUnit.lu_name,lu_description:logicalUnit.lu_description||null,be_id:$scope.data.beId,lu_parent_id:logicalUnit&&logicalUnit.lu_parent&&logicalUnit.lu_parent.lu_id,lu_parent_name:logicalUnit&&logicalUnit.lu_parent&&logicalUnit.lu_parent.logical_unit||"",product_name:""})}$scope.data.reloadData(),newLogicalUnitsCtrl.close(),toastr.success("Logical units added successfully")}else newLogicalUnitsCtrl.logicalUnitAlert={type:"danger",msg:"failed to Add Logical Units ["+response.message+"]"}}))},newLogicalUnitsCtrl.deleteLogicalUnit=function(index){newLogicalUnitsCtrl.newLogicalUnits.splice(index,1)},newLogicalUnitsCtrl.closeAlert=function(){delete newLogicalUnitsCtrl.logicalUnitAlert},newLogicalUnitsCtrl.close=function(){$scope.data.close()}},controllerAs:"newLogicalUnitsCtrl"}}angular.module("TDM-FE").directive("newLogicalUnitsDirective",newLogicalUnitsDirective);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdGl2ZXMvYnVzaW5lc3NFbnRpdGllcy9uZXdMb2dpY2FsVW5pdHNEaXJlY3RpdmUuanMiXSwibmFtZXMiOlsibmV3TG9naWNhbFVuaXRzRGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInNjb3BlIiwiZGF0YSIsImxvZ2ljYWxVbml0cyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJURE1TZXJ2aWNlIiwiQnJlYWRDcnVtYnNTZXJ2aWNlIiwidG9hc3RyIiwiJHRpbWVvdXQiLCJuZXdMb2dpY2FsVW5pdHNDdHJsIiwidGhpcyIsImF0dGFjaGVkTG9naWNhbFVuaXRzIiwiZ2V0R2VuZXJpY0FQSSIsInRoZW4iLCJyZXNwb25zZSIsImRhdGFDZW50ZXJzIiwiXyIsInVuaXF1ZSIsInJlc3VsdCIsImZpbHRlciIsIml0ZW0iLCJzdGF0dXMiLCJnZXRMb2dpY2FsVW5pdHMiLCJtYXAiLCJsdSIsImxvZ2ljYWxfdW5pdCIsInJlbW92ZSIsImxvZ2ljYWxVbml0IiwiZmluZCIsImx1X25hbWUiLCJpIiwibGVuZ3RoIiwicGFyZW50TG9naWNhbFVuaXRzIiwicHVzaCIsImx1X2lkIiwibmV3TG9naWNhbFVuaXRzIiwiYWRkTG9naWNhbFVuaXQiLCJhZGRMb2dpY2FsVW5pdHMiLCJjaG9vc2VPcHRpb24iLCJsb2dpY2FsVW5pdEFsZXJ0IiwidHlwZSIsIm1zZyIsImx1X2Rlc2NyaXB0aW9uIiwicG9zdExvZ2ljYWxVbml0cyIsImJlSWQiLCJiZU5hbWUiLCJlcnJvckNvZGUiLCJsdV9kY19uYW1lIiwiYmVfaWQiLCJsdV9wYXJlbnRfaWQiLCJsdV9wYXJlbnQiLCJsdV9wYXJlbnRfbmFtZSIsInByb2R1Y3RfbmFtZSIsInJlbG9hZERhdGEiLCJjbG9zZSIsInN1Y2Nlc3MiLCJtZXNzYWdlIiwiZGVsZXRlTG9naWNhbFVuaXQiLCJpbmRleCIsInNwbGljZSIsImNsb3NlQWxlcnQiLCJjb250cm9sbGVyQXMiLCJhbmd1bGFyIiwibW9kdWxlIiwi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QUFvQjhCLGtCQUcvQjlCLG9CQUFvQjZDLE1BQVEsV0FDeEJsRCxPQUFPSCxLQUFLcUQsVUFZaEJPLGFBQWMsdUJBS3RCQyxRQUNLQyxPQUFPLFVBQ1BDLFVBQVUsMkJBQTRCbkUiLCJmaWxlIjoiZGlyZWN0aXZlcy9idXNpbmVzc0VudGl0aWVzL25ld0xvZ2ljYWxVbml0c0RpcmVjdGl2ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG5ld0xvZ2ljYWxVbml0c0RpcmVjdGl2ZSAoKXtcblxuICAgIHZhciB0ZW1wbGF0ZSA9IFwidmlld3MvYnVzaW5lc3NFbnRpdGllcy9uZXdMb2dpY2FsVW5pdHMuaHRtbFwiO1xuXG4gICAgdmFyIGNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoJHNjb3BlLFRETVNlcnZpY2UsQnJlYWRDcnVtYnNTZXJ2aWNlLHRvYXN0ciwkdGltZW91dCkge1xuICAgICAgICB2YXIgbmV3TG9naWNhbFVuaXRzQ3RybCA9IHRoaXM7XG5cbiAgICAgICAgbmV3TG9naWNhbFVuaXRzQ3RybC5hdHRhY2hlZExvZ2ljYWxVbml0cyA9ICRzY29wZS5sb2dpY2FsVW5pdHM7XG4gICAgICAgIFxuICAgICAgICBURE1TZXJ2aWNlLmdldEdlbmVyaWNBUEkoJ2RhdGFDZW50ZXJzJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICAgICAgICBuZXdMb2dpY2FsVW5pdHNDdHJsLmRhdGFDZW50ZXJzID0gXy51bmlxdWUocmVzcG9uc2UucmVzdWx0LmZpbHRlciggaXRlbSA9PiBpdGVtLnN0YXR1cyA9PT0gJ0FMSVZFJyksJ2RjJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFRETVNlcnZpY2UuZ2V0TG9naWNhbFVuaXRzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIG5ld0xvZ2ljYWxVbml0c0N0cmwubG9naWNhbFVuaXRzID0gXy5tYXAocmVzcG9uc2UucmVzdWx0LGZ1bmN0aW9uKGx1KXtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBsb2dpY2FsX3VuaXQgOiBsdVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXy5yZW1vdmUobmV3TG9naWNhbFVuaXRzQ3RybC5sb2dpY2FsVW5pdHMsZnVuY3Rpb24obG9naWNhbFVuaXQpe1xuICAgICAgICAgICAgICAgIGlmIChfLmZpbmQobmV3TG9naWNhbFVuaXRzQ3RybC5hdHRhY2hlZExvZ2ljYWxVbml0cyx7bHVfbmFtZSA6IGxvZ2ljYWxVbml0LmxvZ2ljYWxfdW5pdH0pKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7aSA8IG5ld0xvZ2ljYWxVbml0c0N0cmwubG9naWNhbFVuaXRzLmxlbmd0aCA7IGkrKyl7XG4gICAgICAgICAgICAgICAgbmV3TG9naWNhbFVuaXRzQ3RybC5wYXJlbnRMb2dpY2FsVW5pdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2ljYWxfdW5pdCA6IG5ld0xvZ2ljYWxVbml0c0N0cmwubG9naWNhbFVuaXRzW2ldLmxvZ2ljYWxfdW5pdFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFxuXG4gICAgICAgIG5ld0xvZ2ljYWxVbml0c0N0cmwucGFyZW50TG9naWNhbFVuaXRzID0gXy5tYXAobmV3TG9naWNhbFVuaXRzQ3RybC5hdHRhY2hlZExvZ2ljYWxVbml0cyxmdW5jdGlvbihsb2dpY2FsVW5pdCl7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGxvZ2ljYWxfdW5pdCA6IGxvZ2ljYWxVbml0Lmx1X25hbWUsXG4gICAgICAgICAgICAgICAgbHVfaWQgOiBsb2dpY2FsVW5pdC5sdV9pZFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3TG9naWNhbFVuaXRzQ3RybC5uZXdMb2dpY2FsVW5pdHMgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIFxuXG4gICAgICAgIG5ld0xvZ2ljYWxVbml0c0N0cmwuYWRkTG9naWNhbFVuaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgbmV3TG9naWNhbFVuaXRzQ3RybC5uZXdMb2dpY2FsVW5pdHMucHVzaCh7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIG5ld0xvZ2ljYWxVbml0c0N0cmwuYWRkTG9naWNhbFVuaXRzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmIChuZXdMb2dpY2FsVW5pdHNDdHJsLmNob29zZU9wdGlvbiA9PSAnYWxsJyl7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0xvZ2ljYWxVbml0c0N0cmwubG9naWNhbFVuaXRzLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgbmV3TG9naWNhbFVuaXRzQ3RybC5sb2dpY2FsVW5pdEFsZXJ0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsIG1zZzogJ1RoZXJlIGFyZSBubyBMb2dpY2FsIFVuaXRzIHRvIGFkZCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0xvZ2ljYWxVbml0c0N0cmwubmV3TG9naWNhbFVuaXRzID0gXy5tYXAobmV3TG9naWNhbFVuaXRzQ3RybC5sb2dpY2FsVW5pdHMsZnVuY3Rpb24obHUpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbHVfbmFtZSA6IGx1LmxvZ2ljYWxfdW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGx1X2Rlc2NyaXB0aW9uIDogbHUubG9naWNhbF91bml0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgVERNU2VydmljZS5wb3N0TG9naWNhbFVuaXRzKCRzY29wZS5kYXRhLmJlSWQsICRzY29wZS5kYXRhLmJlTmFtZSwgeyBsb2dpY2FsVW5pdHM6ICBuZXdMb2dpY2FsVW5pdHNDdHJsLm5ld0xvZ2ljYWxVbml0c30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PSBcIlNVQ0NFU1NcIikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDtpIDwgcmVzcG9uc2UucmVzdWx0Lmxlbmd0aCA7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9naWNhbFVuaXQgPSByZXNwb25zZS5yZXN1bHRbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdMb2dpY2FsVW5pdHNDdHJsLmF0dGFjaGVkTG9naWNhbFVuaXRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx1X2RjX25hbWUgOiBsb2dpY2FsVW5pdC5sdV9kY19uYW1lIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbHVfaWQgOiBsb2dpY2FsVW5pdC5sdV9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsdV9uYW1lIDogbG9naWNhbFVuaXQubHVfbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsdV9kZXNjcmlwdGlvbiA6IGxvZ2ljYWxVbml0Lmx1X2Rlc2NyaXB0aW9uIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVfaWQgOiAkc2NvcGUuZGF0YS5iZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx1X3BhcmVudF9pZCA6IGxvZ2ljYWxVbml0ICYmIGxvZ2ljYWxVbml0Lmx1X3BhcmVudCAmJiBsb2dpY2FsVW5pdC5sdV9wYXJlbnQubHVfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbHVfcGFyZW50X25hbWUgOiAgbG9naWNhbFVuaXQgJiYgbG9naWNhbFVuaXQubHVfcGFyZW50ICYmIGxvZ2ljYWxVbml0Lmx1X3BhcmVudC5sb2dpY2FsX3VuaXQgfHwgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0X25hbWUgOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEucmVsb2FkRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICBuZXdMb2dpY2FsVW5pdHNDdHJsLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTG9naWNhbCB1bml0cyBhZGRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdMb2dpY2FsVW5pdHNDdHJsLmxvZ2ljYWxVbml0QWxlcnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJywgbXNnOiAnZmFpbGVkIHRvIEFkZCBMb2dpY2FsIFVuaXRzIFsnICsgcmVzcG9uc2UubWVzc2FnZSArICddJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbmV3TG9naWNhbFVuaXRzQ3RybC5kZWxldGVMb2dpY2FsVW5pdCA9IGZ1bmN0aW9uKGluZGV4KXtcbiAgICAgICAgICAgIG5ld0xvZ2ljYWxVbml0c0N0cmwubmV3TG9naWNhbFVuaXRzLnNwbGljZShpbmRleCwxKTtcbiAgICAgICAgfTtcblxuICAgICAgICBuZXdMb2dpY2FsVW5pdHNDdHJsLmNsb3NlQWxlcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWxldGUgbmV3TG9naWNhbFVuaXRzQ3RybC5sb2dpY2FsVW5pdEFsZXJ0O1xuICAgICAgICB9O1xuXG4gICAgICAgIG5ld0xvZ2ljYWxVbml0c0N0cmwuY2xvc2UgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgJHNjb3BlLmRhdGEuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHRlbXBsYXRlVXJsOiB0ZW1wbGF0ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGRhdGE6ICc9JyxcbiAgICAgICAgICAgIGxvZ2ljYWxVbml0cyA6IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGNvbnRyb2xsZXJBcyA6J25ld0xvZ2ljYWxVbml0c0N0cmwnXG4gICAgfTtcbn1cblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnVERNLUZFJylcbiAgICAuZGlyZWN0aXZlKCduZXdMb2dpY2FsVW5pdHNEaXJlY3RpdmUnLCBuZXdMb2dpY2FsVW5pdHNEaXJlY3RpdmUpOyJdfQ==
