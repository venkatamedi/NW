function tasksTableDirective($interval,TASK){return{restrict:"E",templateUrl:"views/tasks/tasksTable.html",scope:{content:"="},link:function(scope,element){var updateData=$interval((function(){scope.getRunningTasks()}),TASK.timeInterval);element.on("$destroy",(function(){$interval.cancel(updateData)}))},controller:function($scope,$compile,TDMService,$sessionStorage,DTColumnBuilder,DTOptionsBuilder,DTColumnDefBuilder,$q,BreadCrumbsService,AuthService,toastr,SweetAlert,$timeout,ExcelService){var tasksTableCtrl=this;tasksTableCtrl.loadingTable=!0,tasksTableCtrl.userRole=AuthService.getRole(),tasksTableCtrl.username=AuthService.getUsername(),tasksTableCtrl.prevRunningTasksId="",TDMService.getFabricRolesforUser(tasksTableCtrl.username).then(response=>{tasksTableCtrl.userFabricRoles=response.result||[]}),TDMService.getTasks().then((function(response){if("SUCCESS"==response.errorCode){tasksTableCtrl.tasksData=_.sortBy(response.result,(function(value){return new Date(value.task_last_updated_date)})),tasksTableCtrl.tasksData.reverse(),tasksTableCtrl.tasksData=_.map(tasksTableCtrl.tasksData,task=>{task.selection_method2=task.selection_method;const found=_.find([{value:"C",label:"Custom Logic"},{value:"PR",label:"Parameters with Random Entity Selection"},{value:"P",label:"Parameters"},{value:"R",label:"Random selection"},{value:"S",label:"Entity Clone"},{value:"L",label:"Entity List"},{value:"ALL",label:"ALL"},{value:"REF",label:"Reference Tables"}],{value:task.selection_method});return found&&(task.selection_method2=found.label,"ALL"===task.selection_method&&"EXTRACT"===task.task_type?task.selection_method2="Predefined Entity List":"ALL"===task.selection_method&&"LOAD"===task.task_type&&(task.selection_method2="Selected Version's Entities")),task}),tasksTableCtrl.dtInstance={},tasksTableCtrl.dtColumns=[],tasksTableCtrl.dtColumnDefs=[],tasksTableCtrl.headers=[{column:"task_id",name:"Task ID",clickAble:!0,visible:!0},{column:"task_title",name:"Task Title",clickAble:!0,visible:!0},{column:"source_env_name",name:"Source Environment Name",clickAble:!1,visible:!0},{column:"environment_name",name:"Target Environment Name",clickAble:!1,visible:!0},{column:"be_name",name:"Business Entity Name",clickAble:!1,visible:!0},{column:"task_type2",name:"Task Type",clickAble:!1,visible:!0},{column:"operation_mode",name:"Operation Mode",clickAble:!1,visible:!1},{column:"reserve_ind",name:"Reserve Ind",clickAble:!1,visible:!0},{column:"version_ind",name:"Data Versioning",clickAble:!1,visible:!0},{column:"data_type",name:"Data Type",clickAble:!1,visible:!0},{column:"selection_method",name:"Selection Method",clickAble:!1,visible:!0},{column:"num_of_entities",name:"No. Of Entities",clickAble:!1,visible:!0},{column:"task_status",name:"Task Status",clickAble:!1,visible:!0},{column:"task_execution_status",name:"Task Execution Status",clickAble:!1,visible:!0},{column:"task_last_updated_by",name:"Updated By",clickAble:!1,visible:!0},{column:"task_last_updated_date",name:"Update Date",clickAble:!1,type:"date",visible:!0},{column:"scheduler",name:"Execution Timing",clickAble:!1,visible:!0},{column:"scheduling_end_date",name:"Scheduling End Date",clickAble:!1,visible:!0},{column:"retention_period_type",name:"Retention period type",clickAble:!1,visible:!0},{column:"retention_period_value",name:"Retention period value",clickAble:!1,visible:!0},{column:"refresh_reference_data",name:"Refresh Reference Data",clickAble:!1,visible:!1},{column:"sync_mode",name:"Override Sync Mode",clickAble:!1,visible:!1},{column:"replace_sequences",name:"Replace Sequence",clickAble:!1,visible:!1},{column:"selected_version_task_name",name:"Selected Version Task Name",clickAble:!1,visible:!1},{column:"selected_version_datetime",name:"Selected Version Datetime",type:"to_char_date",clickAble:!1,visible:!1},{column:"selected_ref_version_task_name",name:"Selected Reference Version Task Name",clickAble:!1,visible:!1},{column:"selected_ref_version_datetime",name:"Selected Reference Version Datetime",type:"to_char_date",clickAble:!1,visible:!1},{column:"processnames",name:"Post Execution Processes",clickAble:!1,visible:!1}],$sessionStorage.taskTableHideColumns?tasksTableCtrl.hideColumns=$sessionStorage.taskTableHideColumns:tasksTableCtrl.hideColumns=[14,15,16,17,18,19,20,21,22,23,24,25,26];for(var i=0;i<tasksTableCtrl.hideColumns.length;i++){var hideColumn=DTColumnDefBuilder.newColumnDef(tasksTableCtrl.hideColumns[i]).withOption("visible",!1);tasksTableCtrl.dtColumnDefs.push(hideColumn)}var clickAbleColumn=function(data,type,full,meta){return"<a ng-click=\"tasksTableCtrl.openTask('"+full.task_id+"')\">"+data+"</a>"},selectionMethodColumn=function(data,type,full,meta){switch(data){case"L":return"Entity List";case"P":return"Parameters - selection based only on Parameters";case"PR":return"Parameters- selection based on parameters with random selection";case"R":return"Random selection";case"S":return"Synthetic creation";case"ALL":return"All";case"REF":return"Reference only";default:return"none"}},changeToLocalDate=function(data,type,full,meta){return moment(data).format("DD MMM YYYY, HH:mm")},changeToLocalDateToChar=function(data,type,full,meta){var ans=moment(data,"YYYYMMDDHHmmss").format("DD MMM YYYY, HH:mm");return"Invalid date"==ans?"":ans};tasksTableCtrl.chooseHoldActivate=function(row){1==tasksTableCtrl.tasksData[row].onHold?tasksTableCtrl.activateTask(row):tasksTableCtrl.holdTask(row)};for(i=0;i<tasksTableCtrl.headers.length;i++)1==tasksTableCtrl.headers[i].clickAble?tasksTableCtrl.dtColumns.push(DTColumnBuilder.newColumn(tasksTableCtrl.headers[i].column).withTitle(tasksTableCtrl.headers[i].name).renderWith(clickAbleColumn)):"date"==tasksTableCtrl.headers[i].type?tasksTableCtrl.dtColumns.push(DTColumnBuilder.newColumn(tasksTableCtrl.headers[i].column).withTitle(tasksTableCtrl.headers[i].name).renderWith(changeToLocalDate)):"to_char_date"==tasksTableCtrl.headers[i].type?tasksTableCtrl.dtColumns.push(DTColumnBuilder.newColumn(tasksTableCtrl.headers[i].column).withTitle(tasksTableCtrl.headers[i].name).renderWith(changeToLocalDateToChar)):"selection_method"==tasksTableCtrl.headers[i].column?tasksTableCtrl.dtColumns.push(DTColumnBuilder.newColumn(tasksTableCtrl.headers[i].column).withTitle(tasksTableCtrl.headers[i].name).renderWith(selectionMethodColumn)):"task_status"==tasksTableCtrl.headers[i].column?tasksTableCtrl.dtColumns.push(DTColumnBuilder.newColumn(tasksTableCtrl.headers[i].column).withTitle(tasksTableCtrl.headers[i].name).withOption("select","Active")):tasksTableCtrl.dtColumns.push(DTColumnBuilder.newColumn(tasksTableCtrl.headers[i].column).withTitle(tasksTableCtrl.headers[i].name));tasksTableCtrl.dtColumns.unshift(DTColumnBuilder.newColumn("taskActions").withTitle("").renderWith((function(data,type,full,meta){let arraysEqual=(arr1,arr2)=>{if(arr1.length!==arr2.length)return!1;for(var i=arr1.length;i--;)if(arr1[i]!==arr2[i])return!1;return!0};var canByRunByOtherTester=!1,createdTester=_.find(full.testers,{tester:full.task_created_by});if(createdTester){var currentTester=_.find(full.testers,{tester:tasksTableCtrl.username});currentTester&&arraysEqual(currentTester.role_id,createdTester.role_id)?canByRunByOtherTester=!0:tasksTableCtrl.userFabricRoles.forEach(role=>{var currentTester=_.find(full.testers,{tester_type:"GROUP",tester:role});currentTester&&arraysEqual(currentTester.role_id,createdTester.role_id)&&(canByRunByOtherTester=!0)})}else full.creatorRoles&&full.creatorRoles.forEach(createdUserRole=>{tasksTableCtrl.userFabricRoles.indexOf(createdUserRole)>=0&&(canByRunByOtherTester=!0)});let ownerByfabricRole=!1;if(!canByRunByOtherTester)for(let i=0;i<tasksTableCtrl.userFabricRoles.length;i++){const role=tasksTableCtrl.userFabricRoles[i];if(_.findIndex(full.owners,{owner:role,owner_type:"GROUP"})>=0){ownerByfabricRole=!0;break}}var taskActions="";return"Active"==full.task_status&&("admin"==tasksTableCtrl.userRole.type||_.findIndex(full.owners,{owner:tasksTableCtrl.username})>=0||ownerByfabricRole||tasksTableCtrl.username==full.task_created_by||canByRunByOtherTester)&&(tasksTableCtrl.tasksData[meta.row].disabled=!1,tasksTableCtrl.tasksData[meta.row].onHold="onHold"==full.task_execution_status,taskActions+=`\n                    <span style="margin-left: 3px; cursor: pointer;" title="Execute Task" >\n                        <img ng-show="(tasksTableCtrl.tasksData[${meta.row}].disabled == true \n                            || (tasksTableCtrl.tasksData[${meta.row}].onHold == true || \n                            tasksTableCtrl.tasksData[${meta.row}].executioncount !== 0))" \n                            src="icons/play-off.svg">\n                        </img>\n                        <img  ng-click="tasksTableCtrl.executeTask(${meta.row})" ng-show="!(tasksTableCtrl.tasksData[${meta.row}].disabled == true \n                        || (tasksTableCtrl.tasksData[${meta.row}].onHold == true || \n                        tasksTableCtrl.tasksData[${meta.row}].executioncount !== 0))"\n                            src="icons/play.svg">\n                        </img>\n                        \n                    </span>\n                `,taskActions+=`\n                    <span title="{{tasksTableCtrl.tasksData[${meta.row}].onHold == false ?'Hold Task':'Activate Task'}}"  \n                        style="margin-left: 3px;cursor: pointer;" >\n                        <img ng-show="tasksTableCtrl.tasksData[${meta.row}].onHold == true"\n                        ng-click="tasksTableCtrl.chooseHoldActivate(${meta.row})"\n                            src="icons/play-red.svg">\n                        </img>\n                        <img ng-show="tasksTableCtrl.tasksData[${meta.row}].onHold==false" ng-click="tasksTableCtrl.chooseHoldActivate(${meta.row})"\n                            src="icons/puse.svg">\n                        </img>\n                        \n                    </span>\n                `),"Active"==full.task_status&&(taskActions+=` \n                    <span\n                     title="Save As"  \n                     style="margin-left: 3px;\n                     cursor: pointer;\n                     " \n                    ng-click="tasksTableCtrl.saveAs(${full.task_id})"  \n                 >\n                    <img src="icons/floppy.svg"> </img>\n                </span>`),taskActions+=` \n                    <span\n                     title="Task Execution History" \n                     style="margin-left: 3px;\n                     cursor: pointer;\n                     " \n                     ng-click="tasksTableCtrl.taskExecutionSummary(${full.task_id})">\n                    <img src="icons/history.svg"> </img>\n                </span>`})));var getTableData=function(){var deferred=$q.defer();return angular.forEach(tasksTableCtrl.tasksData,(function(task){task.task_type2=task.task_type,task.load_entity&&task.delete_before_load?task.operation_mode="Delete and load entity":task.load_entity&&!task.delete_before_load?task.operation_mode="Load entity":!task.load_entity&&task.delete_before_load?(task.operation_mode="Delete entity",task.task_type2="DELETE"):"RESERVE"===task.task_type?task.operation_mode="Reserve entity":"EXTRACT"===task.task_type?task.operation_mode="Extract entity":task.operation_mode="",0===task.refcount?task.data_type="Entities":"REF"===task.selection_method?task.data_type="Reference":task.data_type="Entities and Reference"})),deferred.resolve(tasksTableCtrl.tasksData),deferred.promise};if(tasksTableCtrl.dtOptions=DTOptionsBuilder.fromFnPromise((function(){return getTableData()})).withDOM('<"html5buttons"B>lTfgitp').withOption("createdRow",(function(row){$compile(angular.element(row).contents())($scope)})).withOption("scrollX",!1).withOption("aaSorting",[[13,"asc"]]).withButtons([{extend:"colvis",text:"Show/Hide columns",columns:[14,15,16,17,18,19,20,21,22,23,24,25,26,27],callback:function(columnIdx,visible){var index;1==visible?(index=tasksTableCtrl.hideColumns.indexOf(columnIdx))>=0&&tasksTableCtrl.hideColumns.splice(index,1):(index=tasksTableCtrl.hideColumns.indexOf(columnIdx))<0&&tasksTableCtrl.hideColumns.push(columnIdx);$sessionStorage.taskTableHideColumns=tasksTableCtrl.hideColumns}}]).withOption("caseInsensitive",!0).withOption("search",{caseInsensitive:!1}).withOption("fixedColumns",!1),tasksTableCtrl.tasksData&&tasksTableCtrl.tasksData.length>0){const columns=[{type:"text"},{type:"text"},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"source_env_name")),(function(el){return{value:el,label:el}}))},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"environment_name")),(function(el){return{value:el,label:el}}))},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"be_name")),(function(el){return{value:el,label:el}}))},{type:"select",values:[{value:"LOAD",label:"LOAD"},{value:"EXTRACT",label:"EXTRACT"},{value:"RESERVE",label:"RESERVE"},{value:"DELETE",label:"DELETE"}]},{type:"select",values:[{value:"Load entity",label:"Load entity"},{value:"Delete and load entity",label:"Delete and load entity"},{value:"Delete entity",label:"Delete entity"},{value:"Reserve entity",label:"Reserve entity"},{value:"Extract entity",label:"Extract entity"}]},{type:"select",values:[{value:!0,label:"true"},{value:!1,label:"false"}]},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"version_ind")),(function(el){return{value:el,label:el}}))},{type:"select",values:[{value:"Entities",label:"Entities"},{value:"Reference",label:"Reference"},{value:"Entities and Reference",label:"Entities and Reference"}]},{type:"select",values:[{value:"Predefined Entity List",label:"Predefined Entity List"},{value:"Selected Version's Entities",label:"Selected Version's Entities"},{value:"Reference Tables",label:"Reference Tables"},{value:"Custom Logic",label:"Custom Logic"},{value:"Entity Clone",label:"Entity Clone"},{value:"Entity List",label:"Entity List"},{value:"Parameters with Random Entity Selection",label:"Parameters with Random Entity Selection"},{value:"Parameters",label:"Parameters"},{value:"Random selection",label:"Random selection"}]},{type:"text"},{type:"select",defaultValue:"Active",values:[{value:"Inactive",label:"Inactive"},{value:"Active",label:"Active"}]},{type:"select",values:[{value:"Active",label:"Active"},{value:"onHold",label:"onHold"}]},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"task_last_updated_by")),(function(el){return{value:el,label:el}}))},{type:"text"},{type:"text"},{type:"text"},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"retention_period_type")),(function(el){return{value:el,label:el}}))},{type:"text"},{type:"select",values:[{value:"true",label:"true"},{value:"false",label:"false"}]},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"sync_mode")),(function(el){return{value:el,label:el}}))},{type:"select",values:[{value:"true",label:"true"},{value:"false",label:"false"}]},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"selected_version_task_name")),(function(el){return{value:el,label:el}}))},{type:"text"},{type:"select",values:_.map(_.unique(_.map(tasksTableCtrl.tasksData,"selected_ref_version_task_name")),(function(el){return{value:el,label:el}}))},{type:"text"},{type:"text"}],lightColumnFilter={};columns.forEach((column,index)=>{let temp=angular.copy(column);temp.hidden=tasksTableCtrl.hideColumns.indexOf(index+1)>=0,lightColumnFilter[index+1]=temp}),tasksTableCtrl.dtOptions.withLightColumnFilter(lightColumnFilter)}tasksTableCtrl.dtInstanceCallback=function(dtInstance){angular.isFunction(tasksTableCtrl.dtInstance)?tasksTableCtrl.dtInstance(dtInstance):angular.isDefined(tasksTableCtrl.dtInstance)&&(tasksTableCtrl.dtInstance=dtInstance)},null!=tasksTableCtrl.dtInstance.changeData&&tasksTableCtrl.dtInstance.changeData(getTableData()),$timeout(()=>{tasksTableCtrl.loadingTable=!1})}})),tasksTableCtrl.openTask=function(taskId,copy){if($scope.content.openTask){var taskData=_.find(tasksTableCtrl.tasksData,{task_id:parseInt(taskId)});if(taskData)return void $scope.content.openTask(taskData,copy,tasksTableCtrl.tasksData)}},tasksTableCtrl.openNewTask=function(){$scope.content.openNewTask&&$scope.content.openNewTask(tasksTableCtrl.tasksData)},tasksTableCtrl.taskExecutionHistory=function(taskId){if($scope.content.openTaskHistory){var taskData=_.find(tasksTableCtrl.tasksData,{task_id:parseInt(taskId)});if(taskData)return $scope.content.openTaskHistory(taskData),void BreadCrumbsService.push({title:taskData.task_title},"TASK_EXECUTION_HISTORY",(function(){$scope.content.openTaskHistory(taskData)}))}},tasksTableCtrl.taskExecutionSummary=function(taskId){if($scope.content.openTaskSummary){var taskData=_.find(tasksTableCtrl.tasksData,{task_id:parseInt(taskId)});if(taskData)return $scope.content.openTaskSummary(taskData),void BreadCrumbsService.push({title:taskData.task_title},"TASK_EXECUTION_SUMMARY",(function(){$scope.content.openTaskSummary(taskData)}))}},tasksTableCtrl.executeTask=function(index){let task=tasksTableCtrl.tasksData[index],taskId=task.task_id,testers=task.testers,roles=task.roles||[],owners=task.owners,task_title=task.task_title,ownerByfabricRole=(task.task_created_by,!1);for(let i=0;i<tasksTableCtrl.userFabricRoles.length;i++){const role=tasksTableCtrl.userFabricRoles[i];if(_.findIndex(owners,{owner:role,owner_type:"GROUP"})>=0){ownerByfabricRole=!0;break}}let forced=!!("admin"==tasksTableCtrl.userRole.type||_.findIndex(owners,{owner:tasksTableCtrl.username})>=0||ownerByfabricRole||(()=>{let canRun=!1;if(!testers||!roles)return canRun;let loggedUser=tasksTableCtrl.username;for(i of testers)if((i.tester===loggedUser||"ALL"===i.tester||"GROUP"===i.tester_type&&tasksTableCtrl.userFabricRoles.indexOf(i.tester)>=0)&&angular.isArray(i.role_id))for(id of i.role_id){let foundRole=_.find(roles[0],{role_id:parseInt(id)});foundRole&&foundRole.allowed_test_conn_failure&&(canRun=!0)}return canRun})());tasksTableCtrl.tasksData[index].disabled=!0;const getErrorMessage=response=>{let message="";return response.result&&response.result.length>0?Object.keys(response.result[0]).forEach((key,index)=>{message=`${message}${response.result[0][key]}\n                        `}):message=response.message,message};TDMService.executeTask(taskId).then((function(response){if("SUCCESS"==response.errorCode)tasksTableCtrl.tasksData[index].executioncount=1,toastr.success("Task # "+task_title," Successfully started"),tasksTableCtrl.dtInstance.reloadData((function(data){}),!0),tasksTableCtrl.taskExecutionSummary(taskId);else if(forced){const message=getErrorMessage(response);SweetAlert.swal({title:message+". Do you want to proceed with the task execution?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"No",cancelButtonText:"Yes",closeOnConfirm:!0,closeOnCancel:!0,animation:"false",customClass:"animated fadeInUp"},(function(isConfirm){isConfirm||TDMService.executeTask(taskId,forced).then((function(response){if("SUCCESS"==response.errorCode)tasksTableCtrl.tasksData[index].executioncount=1,toastr.success("Task # "+task_title," Successfully started"),tasksTableCtrl.dtInstance.reloadData((function(data){}),!0),tasksTableCtrl.taskExecutionSummary(taskId);else{const message=getErrorMessage(response);SweetAlert.swal({title:message,text:"",type:"warning",closeOnCancel:!0,animation:"false",customClass:"animated fadeInUp start-task-error"},(function(isConfirm){}))}}))}))}else{const message=getErrorMessage(response);SweetAlert.swal({title:message,text:"",type:"warning",closeOnCancel:!0,animation:"false",customClass:"animated fadeInUp start-task-error"},(function(isConfirm){}))}tasksTableCtrl.tasksData[index].disabled=!1})).catch(err=>{toastr.error(response.message,"The task cannot be started.")})},tasksTableCtrl.holdTask=function(index){TDMService.holdTask(tasksTableCtrl.tasksData[index].task_id).then((function(response){"SUCCESS"==response.errorCode?(tasksTableCtrl.tasksData[index].task_execution_status="onHold",toastr.success("Task # "+tasksTableCtrl.tasksData[index].task_title," was Holded"),tasksTableCtrl.tasksData[index].onHold=!0,tasksTableCtrl.dtInstance.reloadData((function(data){}),!0)):toastr.error("Task # "+task_title,"Failed to hold")}))},$scope.getRunningTasks=function(){TDMService.getRunningTasks().then((function(response){if("SUCCESS"==response.errorCode){tasksTableCtrl.tasksData=_.map(tasksTableCtrl.tasksData,(function(task){return task.executioncount=0,task}));for(var i=0;i<response.result.length;i++){var task=_.find(tasksTableCtrl.tasksData,{task_id:parseInt(response.result[i])});task&&(task.executioncount=1)}response.result.toString()!==tasksTableCtrl.prevRunningTasksId&&(tasksTableCtrl.prevRunningTasksId=response.result.toString(),tasksTableCtrl.dtInstance&&tasksTableCtrl.dtInstance.reloadData((function(data){}),!1))}}))},tasksTableCtrl.activateTask=function(index){TDMService.activateTask(tasksTableCtrl.tasksData[index].task_id).then((function(response){"SUCCESS"==response.errorCode?(tasksTableCtrl.tasksData[index].task_execution_status="Active",toastr.success("Task # "+tasksTableCtrl.tasksData[index].task_title," was activated"),tasksTableCtrl.tasksData[index].onHold=!1,tasksTableCtrl.dtInstance.reloadData((function(data){}),!0)):toastr.error("Task # "+task_title,"Failed to activate")}))},tasksTableCtrl.saveAs=function(task_id){console.log("Save As check");var taskData=_.find(tasksTableCtrl.tasksData,{task_id:parseInt(task_id)});taskData&&TDMService.postGenericAPI("checkSaveTaskAs",{task_id:taskData.task_id,environment_id:taskData.environment_id,source_environment_id:taskData.source_environment_id,taskData:taskData}).then((function(response){"FAILED"!=response.errorCode?tasksTableCtrl.openTask(taskData.task_id,!0):toastr.error(response.message,"The task cannot be copied.")}))}},controllerAs:"tasksTableCtrl"}}angular.module("TDM-FE").directive("tasksTableDirective",tasksTableDirective);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdGl2ZXMvdGFza3MvdGFza3NUYWJsZURpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6WyJ0YXNrc1RhYmxlRGlyZWN0aXZlIiwiJGludGVydmFsIiwiVEFTSyIsInJlc3RyaWN0IiwidGVtcGxhdGVVcmwiLCJzY29wZSIsImNvbnRlbnQiLCJsaW5rIiwiZWxlbWVudCIsInVwZGF0ZURhdGEiLCJnZXRSdW5uaW5nVGFza3MiLCJ0aW1lSW50ZXJ2YWwiLCJvbiIsImNhbmNlbCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkY29tcGlsZSIsIlRETVNlcnZpY2UiLCIkc2Vzc2lvblN0b3JhZ2UiLCJEVENvbHVtbkJ1aWxkZXIiLCJEVE9wdGlvbnNCdWlsZGVyIiwiRFRDb2x1bW5EZWZCdWlsZGVyIiwiJHEiLCJCcmVhZENydW1ic1NlcnZpY2UiLCJBdXRoU2VydmljZSIsInRvYXN0ciIsIlN3ZWV0QWxlcnQiLCIkdGltZW91dCIsIkV4Y2VsU2VydmljZSIsInRhc2tzVGFibGVDdHJsIiwidGhpcyIsImxvYWRpbmdUYWJsZSIsInVzZXJSb2xlIiwiZ2V0Um9sZSIsInVzZXJuYW1lIiwiZ2V0VXNlcm5hbWUiLCJwcmV2UnVubmluZ1Rhc2tzSWQiLCJnZXRGYWJyaWNSb2xlc2ZvclVzZXIiLCJ0aGVuIiwicmVzcG9uc2UiLCJ1c2VyRmFicmljUm9sZXMiLCJyZXN1bHQiLCJnZXRUYXNrcyIsImVycm9yQ29kZSIsInRhc2tzRGF0YSIsIl8iLCJzb3J0QnkiLCJ2YWx1ZSIsIkRhdGUiLCJ0YXNrX2xhc3RfdXBkYXRlZF9kYXRlIiwicmV2ZXJzZSIsIm1hcCIsInRhc2siLCJzZWxlY3Rpb25fbWV0aG9kMiIsInNlbGVjdGlvbl9tZXRob2QiLCJmb3VuZCIsImZpbmQiLCJsYWJlbCIsInRhc2tfdHlwZSIsImR0SW5zdGFuY2UiLCJkdENvbHVtbnMiLCJkdENvbHVtbkRlZnMiLCJoZWFkZXJzIiwiY29sdW1uIiwibmFtZSIsImNsaWNrQWJsZSIsInZpc2libGUiLCJ0eXBlIiwidGFza1RhYmxlSGlkZUNvbHVtbnMiLCJoaWRlQ29sdW1ucyIsImkiLCJsZW5ndGgiLCJoaWRlQ29sdW1uIiwibmV3Q29sdW1uRGVmIiwid2l0aE9wdGlvbiIsInB1c2giLCJjbGlja0FibGVDb2x1bW4iLCJkYXRhIiwiZnVsbCIsIm1ldGEiLCJ0YXNrX2lkIiwic2VsZWN0aW9uTWV0aG9kQ29sdW1uIiwiY2hhbmdlVG9Mb2NhbERhdGUiLCJtb21lbnQiLCJmb3JtYXQiLCJjaGFuZ2VUb0xvY2FsRGF0ZVRvQ2hhciIsImFucyIsImNob29zZUhvbGRBY3RpdmF0ZSIsInJvdyIsIm9uSG9sZCIsImFjdGl2YXRlVGFzayIsImhvbGRUYXNrIiwibmV3Q29sdW1uIiwid2l0aFRpdGxlIiwicmVuZGVyV2l0aCIsInVuc2hpZnQiLCJhcnJheXNFcXVhbCIsImFycjEiLCJhcnIyIiwiY2FuQnlSdW5CeU90aGVyVGVzdGVyIiwiY3JlYXRlZFRlc3RlciIsInRlc3RlcnMiLCJ0ZXN0ZXIiLCJ0YXNrX2NyZWF0ZWRfYnkiLCJjdXJyZW50VGVzdGVyIiwicm9sZV9pZCIsImZvckVhY2giLCJyb2xlIiwidGVzdGVyX3R5cGUiLCJjcmVhdG9yUm9sZXMiLCJjcmVhdGVkVXNlclJvbGUiLCJpbmRleE9mIiwib3duZXJCeWZhYnJpY1JvbGUiLCJmaW5kSW5kZXgiLCJvd25lcnMiLCJvd25lciIsIm93bmVyX3R5cGUiLCJ0YXNrQWN0aW9ucyIsInRhc2tfc3RhdHVzIiwiZGlzYWJsZWQiLCJ0YXNrX2V4ZWN1dGlvbl9zdGF0dXMiLCJnZXRUYWJsZURhdGEiLCJkZWZlcnJlZCIsImRlZmVyIiwiYW5ndWxhciIsInRhc2tfdHlwZTIiLCJsb2FkX2VudGl0eSIsImRlbGV0ZV9iZWZvcmVfbG9hZCIsIm9wZXJhdGlvbl9tb2RlIiwicmVmY291bnQiLCJkYXRhX3R5cGUiLCJyZXNvbHZlIiwicHJvbWlzZSIsImR0T3B0aW9ucyIsImZyb21GblByb21pc2UiLCJ3aXRoRE9NIiwiY29udGVudHMiLCJ3aXRoQnV0dG9ucyIsImV4dGVuZCIsInRleHQiLCJjb2x1bW5zIiwiY2FsbGJhY2siLCJjb2x1bW5JZHgiLCJpbmRleCIsInNwbGljZSIsImNhc2VJbnNlbnNpdGl2ZSIsInZhbHVlcyIsInVuaXF1ZSIsImVsIiwiZGVmYXVsdFZhbHVlIiwibGlnaHRDb2x1bW5GaWx0ZXIiLCJ0ZW1wIiwiY29weSIsImhpZGRlbiIsIndpdGhMaWdodENvbHVtbkZpbHRlciIsImR0SW5zdGFuY2VDYWxsYmFjayIsImlzRnVuY3Rpb24iLCJpc0RlZmluZWQiLCJjaGFuZ2VEYXRhIiwib3BlblRhc2siLCJ0YXNrSWQiLCJ0YXNrRGF0YSIsInBhcnNlSW50Iiwib3Blbk5ld1Rhc2siLCJ0YXNrRXhlY3V0aW9uSGlzdG9yeSIsIm9wZW5UYXNrSGlzdG9yeSIsInRpdGxlIiwidGFza190aXRsZSIsInRhc2tFeGVjdXRpb25TdW1tYXJ5Iiwib3BlblRhc2tTdW1tYXJ5IiwiZXhlY3V0ZVRhc2siLCJyb2xlcyIsImZvcmNlZCIsImNhblJ1biIsImxvZ2dlZFVzZXIiLCJpc0FycmF5IiwiaWQiLCJmb3VuZFJvbGUiLCJhbGxvd2VkX3Rlc3RfY29ubl9mYWlsdXJlIiwidGVzdGVyQ2FuUnVuVGFzayIsImdldEVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiZXhlY3V0aW9uY291bnQiLCJzdWNjZXNzIiwicmVsb2FkRGF0YSIsInN3YWwiLCJzaG93Q2FuY2VsQnV0dG9uIiwiY29uZmlybUJ1dHRvbkNvbG9yIiwiY29uZmlybUJ1dHRvblRleHQiLCJjYW5jZWxCdXR0b25UZXh0IiwiY2xvc2VPbkNvbmZpcm0iLCJjbG9zZU9uQ2FuY2VsIiwiYW5pbWF0aW9uIiwiY3VzdG9tQ2xhc3MiLCJpc0NvbmZpcm0iLCJjYXRjaCIsImVyciIsImVycm9yIiwidG9TdHJpbmciLCJzYXZlQXMiLCJjb25zb2xlIiwibG9nIiwicG9zdEdlbmVyaWNBUEkiLCJlbnZpcm9ubWVudF9pZCIsInNvdXJjZV9lbnZpcm9ubWVudF9pZCIsImNvbnRy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QixHQUkxQmxKLFNBQVNFLE9BQU9nSyxhQUFlNUssZUFBZU8scUJBQzlDUCxlQUFlTyxtQkFBcUJHLFNBQVNFLE9BQU9nSyxXQUNoRDVLLGVBQWU4QixZQUNmOUIsZUFBZThCLFdBQVdnSSxZQUFXLFNBQVU5RyxVQUM1QyxTQU12QmhELGVBQWU2RCxhQUFlLFNBQVVxRCxPQUNwQzlILFdBQVd5RSxhQUFhN0QsZUFBZWUsVUFBVW1HLE9BQU8vRCxTQUFTMUMsTUFBSyxTQUFVQyxVQUNsRCxXQUF0QkEsU0FBU0ksV0FDVGQsZUFBZWUsVUFBVW1HLE9BQU92QixzQkFBd0IsU0FDeEQvRixPQUFPaUssUUFBUSxVQUFZN0osZUFBZWUsVUFBVW1HLE9BQU93QixXQUFZLGtCQUN2RTFJLGVBQWVlLFVBQVVtRyxPQUFPdEQsUUFBUyxFQUN6QzVELGVBQWU4QixXQUFXZ0ksWUFBVyxTQUFVOUcsVUFDNUMsSUFHSHBELE9BQU8rSyxNQUFNLFVBQVlqQyxXQUFZLDBCQUtqRDFJLGVBQWU2SyxPQUFTLFNBQVMxSCxTQUM3QjJILFFBQVFDLElBQUksaUJBQ1osSUFBSTNDLFNBQVdwSCxFQUFFVyxLQUFLM0IsZUFBZWUsVUFBVyxDQUFDb0MsUUFBU2tGLFNBQVNsRixXQUM5RGlGLFVBR0xoSixXQUFXNEwsZUFBZSxrQkFBa0IsQ0FDeEM3SCxRQUFVaUYsU0FBU2pGLFFBQ25COEgsZUFBaUI3QyxTQUFTNkMsZUFDMUJDLHNCQUF3QjlDLFNBQVM4QyxzQkFDakM5QyxTQUFXQSxXQUNaM0gsTUFBSyxTQUFTQyxVQUNhLFVBQXRCQSxTQUFTSSxVQUliZCxlQUFla0ksU0FBU0UsU0FBU2pGLFNBQVEsR0FIckN2RCxPQUFPK0ssTUFBTWpLLFNBQVM4SSxRQUFTLG1DQXdCM0MyQixhQUFjLGtCQUt0QnBGLFFBQ0txRixPQUFPLFVBQ1BDLFVBQVUsc0JBQXVCbE4iLCJmaWxlIjoiZGlyZWN0aXZlcy90YXNrcy90YXNrc1RhYmxlRGlyZWN0aXZlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdGFza3NUYWJsZURpcmVjdGl2ZSgkaW50ZXJ2YWwsIFRBU0spIHtcblxuICAgIHZhciB0ZW1wbGF0ZSA9IFwidmlld3MvdGFza3MvdGFza3NUYWJsZS5odG1sXCI7XG5cbiAgICB2YXIgY29udHJvbGxlciA9IGZ1bmN0aW9uICgkc2NvcGUsICRjb21waWxlLCBURE1TZXJ2aWNlLCAkc2Vzc2lvblN0b3JhZ2UsIERUQ29sdW1uQnVpbGRlciwgRFRPcHRpb25zQnVpbGRlciwgRFRDb2x1bW5EZWZCdWlsZGVyLCBcbiAgICAgICAgJHEsIEJyZWFkQ3J1bWJzU2VydmljZSwgQXV0aFNlcnZpY2UsIHRvYXN0ciwgU3dlZXRBbGVydCwgJHRpbWVvdXQsIEV4Y2VsU2VydmljZSkge1xuICAgICAgICB2YXIgdGFza3NUYWJsZUN0cmwgPSB0aGlzO1xuXG4gICAgICAgIHRhc2tzVGFibGVDdHJsLmxvYWRpbmdUYWJsZSA9IHRydWU7XG4gICAgICAgIHRhc2tzVGFibGVDdHJsLnVzZXJSb2xlID0gQXV0aFNlcnZpY2UuZ2V0Um9sZSgpO1xuICAgICAgICB0YXNrc1RhYmxlQ3RybC51c2VybmFtZSA9IEF1dGhTZXJ2aWNlLmdldFVzZXJuYW1lKCk7XG4gICAgICAgIHRhc2tzVGFibGVDdHJsLnByZXZSdW5uaW5nVGFza3NJZCA9IFwiXCI7XG5cbiAgICAgICAgVERNU2VydmljZS5nZXRGYWJyaWNSb2xlc2ZvclVzZXIodGFza3NUYWJsZUN0cmwudXNlcm5hbWUpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC51c2VyRmFicmljUm9sZXMgPSByZXNwb25zZS5yZXN1bHQgfHwgW107XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFRETVNlcnZpY2UuZ2V0VGFza3MoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSAhPSAnU1VDQ0VTUycpIHtcbiAgICAgICAgICAgICAgICAvL1RPRE8gc2hvdyBFcnJvclxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YSA9IF8uc29ydEJ5KHJlc3BvbnNlLnJlc3VsdCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlLnRhc2tfbGFzdF91cGRhdGVkX2RhdGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGEucmV2ZXJzZSgpO1xuICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhID0gXy5tYXAodGFza3NUYWJsZUN0cmwudGFza3NEYXRhLHRhc2sgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbk1ldGhvZHMgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkN1c3RvbSBMb2dpY1wiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlBSXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJQYXJhbWV0ZXJzIHdpdGggUmFuZG9tIEVudGl0eSBTZWxlY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJQXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJQYXJhbWV0ZXJzXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiUlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUmFuZG9tIHNlbGVjdGlvblwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVudGl0eSBDbG9uZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVudGl0eSBMaXN0XCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiQUxMXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJBTExcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJSRUZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlJlZmVyZW5jZSBUYWJsZXNcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB0YXNrLnNlbGVjdGlvbl9tZXRob2QyID0gdGFzay5zZWxlY3Rpb25fbWV0aG9kO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gXy5maW5kKHNlbGVjdGlvbk1ldGhvZHMse3ZhbHVlIDogdGFzay5zZWxlY3Rpb25fbWV0aG9kfSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2suc2VsZWN0aW9uX21ldGhvZDIgPSBmb3VuZC5sYWJlbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2suc2VsZWN0aW9uX21ldGhvZCA9PT0gJ0FMTCcgJiYgdGFzay50YXNrX3R5cGUgPT09ICdFWFRSQUNUJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5zZWxlY3Rpb25fbWV0aG9kMiA9ICdQcmVkZWZpbmVkIEVudGl0eSBMaXN0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0YXNrLnNlbGVjdGlvbl9tZXRob2QgPT09ICdBTEwnICYmIHRhc2sudGFza190eXBlID09PSAnTE9BRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suc2VsZWN0aW9uX21ldGhvZDIgPSBcIlNlbGVjdGVkIFZlcnNpb24ncyBFbnRpdGllc1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5kdEluc3RhbmNlID0ge307XG4gICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5kdENvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmR0Q29sdW1uRGVmcyA9IFtdO1xuICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuaGVhZGVycyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3Rhc2tfaWQnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVGFzayBJRCcsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrQWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICd0YXNrX3RpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1Rhc2sgVGl0bGUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAnc291cmNlX2Vudl9uYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NvdXJjZSBFbnZpcm9ubWVudCBOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdlbnZpcm9ubWVudF9uYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1RhcmdldCBFbnZpcm9ubWVudCBOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdiZV9uYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0J1c2luZXNzIEVudGl0eSBOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICd0YXNrX3R5cGUyJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1Rhc2sgVHlwZScsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrQWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAnb3BlcmF0aW9uX21vZGUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnT3BlcmF0aW9uIE1vZGUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdyZXNlcnZlX2luZCcsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdSZXNlcnZlIEluZCcsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrQWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAndmVyc2lvbl9pbmQnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRGF0YSBWZXJzaW9uaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdkYXRhX3R5cGUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRGF0YSBUeXBlJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdzZWxlY3Rpb25fbWV0aG9kJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NlbGVjdGlvbiBNZXRob2QnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ251bV9vZl9lbnRpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOby4gT2YgRW50aXRpZXMnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3Rhc2tfc3RhdHVzJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1Rhc2sgU3RhdHVzJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICd0YXNrX2V4ZWN1dGlvbl9zdGF0dXMnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVGFzayBFeGVjdXRpb24gU3RhdHVzJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICd0YXNrX2xhc3RfdXBkYXRlZF9ieScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdVcGRhdGVkIEJ5JyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICd0YXNrX2xhc3RfdXBkYXRlZF9kYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1VwZGF0ZSBEYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3NjaGVkdWxlcicsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFeGVjdXRpb24gVGltaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdzY2hlZHVsaW5nX2VuZF9kYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NjaGVkdWxpbmcgRW5kIERhdGUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3JldGVudGlvbl9wZXJpb2RfdHlwZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdSZXRlbnRpb24gcGVyaW9kIHR5cGUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3JldGVudGlvbl9wZXJpb2RfdmFsdWUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUmV0ZW50aW9uIHBlcmlvZCB2YWx1ZScsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrQWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAncmVmcmVzaF9yZWZlcmVuY2VfZGF0YScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdSZWZyZXNoIFJlZmVyZW5jZSBEYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAnc3luY19tb2RlJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ092ZXJyaWRlIFN5bmMgTW9kZScsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrQWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3JlcGxhY2Vfc2VxdWVuY2VzJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1JlcGxhY2UgU2VxdWVuY2UnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdzZWxlY3RlZF92ZXJzaW9uX3Rhc2tfbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTZWxlY3RlZCBWZXJzaW9uIFRhc2sgTmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrQWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3NlbGVjdGVkX3ZlcnNpb25fZGF0ZXRpbWUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2VsZWN0ZWQgVmVyc2lvbiBEYXRldGltZScsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b19jaGFyX2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdzZWxlY3RlZF9yZWZfdmVyc2lvbl90YXNrX25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2VsZWN0ZWQgUmVmZXJlbmNlIFZlcnNpb24gVGFzayBOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAnc2VsZWN0ZWRfcmVmX3ZlcnNpb25fZGF0ZXRpbWUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2VsZWN0ZWQgUmVmZXJlbmNlIFZlcnNpb24gRGF0ZXRpbWUnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndG9fY2hhcl9kYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAncHJvY2Vzc25hbWVzJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1Bvc3QgRXhlY3V0aW9uIFByb2Nlc3NlcycsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrQWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGlmICgkc2Vzc2lvblN0b3JhZ2UudGFza1RhYmxlSGlkZUNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5oaWRlQ29sdW1ucyA9ICRzZXNzaW9uU3RvcmFnZS50YXNrVGFibGVIaWRlQ29sdW1ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmhpZGVDb2x1bW5zID0gWyAxNCwgMTUsIDE2LCAxNyAsIDE4ICwgMTkgLCAyMCwgMjEsMjIsMjMsIDI0LCAyNSwgMjZdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YXNrc1RhYmxlQ3RybC5oaWRlQ29sdW1ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBoaWRlQ29sdW1uID0gRFRDb2x1bW5EZWZCdWlsZGVyLm5ld0NvbHVtbkRlZih0YXNrc1RhYmxlQ3RybC5oaWRlQ29sdW1uc1tpXSlcbiAgICAgICAgICAgICAgICAgICAgLndpdGhPcHRpb24oJ3Zpc2libGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy90cnkgdG8gY29tbWVudCBvdXQgdGhlIGxpbmUgYmVsb3dcbiAgICAgICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5kdENvbHVtbkRlZnMucHVzaChoaWRlQ29sdW1uKTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICB2YXIgY2xpY2tBYmxlQ29sdW1uID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzxhIG5nLWNsaWNrPVwidGFza3NUYWJsZUN0cmwub3BlblRhc2soXFwnJyArIGZ1bGwudGFza19pZCArICdcXCcpXCI+JyArIGRhdGEgKyAnPC9hPic7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uTWV0aG9kQ29sdW1uID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdFbnRpdHkgTGlzdCc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1AnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnUGFyYW1ldGVycyAtIHNlbGVjdGlvbiBiYXNlZCBvbmx5IG9uIFBhcmFtZXRlcnMnO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdQUicgOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdQYXJhbWV0ZXJzLSBzZWxlY3Rpb24gYmFzZWQgb24gcGFyYW1ldGVycyB3aXRoIHJhbmRvbSBzZWxlY3Rpb24nO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdSJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1JhbmRvbSBzZWxlY3Rpb24nO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdTJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1N5bnRoZXRpYyBjcmVhdGlvbic7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0FMTCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdBbGwnO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdSRUYnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnUmVmZXJlbmNlIG9ubHknO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGNoYW5nZVRvTG9jYWxEYXRlID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KGRhdGEpLmZvcm1hdCgnREQgTU1NIFlZWVksIEhIOm1tJylcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBjaGFuZ2VUb0xvY2FsRGF0ZVRvQ2hhciA9IGZ1bmN0aW9uIChkYXRhLCB0eXBlLCBmdWxsLCBtZXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFucyA9IG1vbWVudChkYXRhLFwiWVlZWU1NRERISG1tc3NcIikuZm9ybWF0KCdERCBNTU0gWVlZWSwgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICBpZiAoYW5zID09IFwiSW52YWxpZCBkYXRlXCIpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5jaG9vc2VIb2xkQWN0aXZhdGUgPSBmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVtyb3ddLm9uSG9sZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmFjdGl2YXRlVGFzayhyb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5ob2xkVGFzayhyb3cpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHRhc2tBY3Rpb25zID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEpIHtcbiAgICAgICAgICAgICAgICBsZXQgYXJyYXlzRXF1YWwgPSAoYXJyMSwgYXJyMikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihhcnIxLmxlbmd0aCAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSBhcnIxLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgY2FuQnlSdW5CeU90aGVyVGVzdGVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRUZXN0ZXIgPSBfLmZpbmQoZnVsbC50ZXN0ZXJzLHt0ZXN0ZXIgOiBmdWxsLnRhc2tfY3JlYXRlZF9ieX0pO1xuICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkVGVzdGVyKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUZXN0ZXIgPSBfLmZpbmQoZnVsbC50ZXN0ZXJzLHt0ZXN0ZXIgOiB0YXNrc1RhYmxlQ3RybC51c2VybmFtZX0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRlc3RlciAmJiBhcnJheXNFcXVhbChjdXJyZW50VGVzdGVyLnJvbGVfaWQsY3JlYXRlZFRlc3Rlci5yb2xlX2lkKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5CeVJ1bkJ5T3RoZXJUZXN0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudXNlckZhYnJpY1JvbGVzLmZvckVhY2gocm9sZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUZXN0ZXIgPSBfLmZpbmQoZnVsbC50ZXN0ZXJzLHt0ZXN0ZXJfdHlwZSA6ICdHUk9VUCcsIHRlc3Rlcjogcm9sZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGVzdGVyICYmIGFycmF5c0VxdWFsKGN1cnJlbnRUZXN0ZXIucm9sZV9pZCxjcmVhdGVkVGVzdGVyLnJvbGVfaWQpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuQnlSdW5CeU90aGVyVGVzdGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZnVsbC5jcmVhdG9yUm9sZXMpe1xuICAgICAgICAgICAgICAgICAgICBmdWxsLmNyZWF0b3JSb2xlcy5mb3JFYWNoKGNyZWF0ZWRVc2VyUm9sZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFza3NUYWJsZUN0cmwudXNlckZhYnJpY1JvbGVzLmluZGV4T2YoY3JlYXRlZFVzZXJSb2xlKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuQnlSdW5CeU90aGVyVGVzdGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBvd25lckJ5ZmFicmljUm9sZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICghY2FuQnlSdW5CeU90aGVyVGVzdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFza3NUYWJsZUN0cmwudXNlckZhYnJpY1JvbGVzLmxlbmd0aCA7aSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvbGUgPSB0YXNrc1RhYmxlQ3RybC51c2VyRmFicmljUm9sZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXy5maW5kSW5kZXgoZnVsbC5vd25lcnMsIHtvd25lcjogcm9sZSwgb3duZXJfdHlwZTogJ0dST1VQJyB9KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJCeWZhYnJpY1JvbGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRhc2tBY3Rpb25zID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGZ1bGwudGFza19zdGF0dXMgPT0gXCJBY3RpdmVcIiAmJlxuICAgICAgICAgICAgICAgICAgICAodGFza3NUYWJsZUN0cmwudXNlclJvbGUudHlwZSA9PSAnYWRtaW4nIHx8IF8uZmluZEluZGV4KGZ1bGwub3duZXJzLCB7b3duZXI6IHRhc2tzVGFibGVDdHJsLnVzZXJuYW1lfSkgPj0gMCB8fCBcbiAgICAgICAgICAgICAgICAgICAgb3duZXJCeWZhYnJpY1JvbGUgfHwgXG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnVzZXJuYW1lID09IGZ1bGwudGFza19jcmVhdGVkX2J5IHx8IFxuICAgICAgICAgICAgICAgICAgICBjYW5CeVJ1bkJ5T3RoZXJUZXN0ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVttZXRhLnJvd10uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhW21ldGEucm93XS5vbkhvbGQgPSBmdWxsLnRhc2tfZXhlY3V0aW9uX3N0YXR1cyA9PSAnb25Ib2xkJztcbiAgICAgICAgICAgICAgICAgICAgdGFza0FjdGlvbnMgPSB0YXNrQWN0aW9ucyArIGBcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJtYXJnaW4tbGVmdDogM3B4OyBjdXJzb3I6IHBvaW50ZXI7XCIgdGl0bGU9XCJFeGVjdXRlIFRhc2tcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIG5nLXNob3c9XCIodGFza3NUYWJsZUN0cmwudGFza3NEYXRhWyR7bWV0YS5yb3d9XS5kaXNhYmxlZCA9PSB0cnVlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbJHttZXRhLnJvd31dLm9uSG9sZCA9PSB0cnVlIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVske21ldGEucm93fV0uZXhlY3V0aW9uY291bnQgIT09IDApKVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cImljb25zL3BsYXktb2ZmLnN2Z1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pbWc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nICBuZy1jbGljaz1cInRhc2tzVGFibGVDdHJsLmV4ZWN1dGVUYXNrKCR7bWV0YS5yb3d9KVwiIG5nLXNob3c9XCIhKHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVske21ldGEucm93fV0uZGlzYWJsZWQgPT0gdHJ1ZSBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbJHttZXRhLnJvd31dLm9uSG9sZCA9PSB0cnVlIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhWyR7bWV0YS5yb3d9XS5leGVjdXRpb25jb3VudCAhPT0gMCkpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCJpY29ucy9wbGF5LnN2Z1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9pbWc+XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIHRhc2tBY3Rpb25zID0gdGFza0FjdGlvbnMgKyBcbiAgICAgICAgICAgICAgICAgICAgLy8gJzxidXR0b24gc3R5bGU9XCJtYXJnaW4tbGVmdDogM3B4O1wiIFxuICAgICAgICAgICAgICAgICAgICAvLyAgbmctY2xhc3M9XCIodGFza3NUYWJsZUN0cmwudGFza3NEYXRhWycgKyBtZXRhLnJvdyArICddLmRpc2FibGVkID09IHRydWUgfHwgKHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVsnICsgbWV0YS5yb3cgKyAnXS5vbkhvbGQgPT0gdHJ1ZSB8fCB0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbJyArIG1ldGEucm93ICsgJ10uZXhlY3V0aW9uY291bnQgIT09IDApKSA/IFxcJ2V4ZWN1dGVTdGF0ZXNXaGl0ZUljb25cXCc6XFwnZXhlY3V0ZVN0YXRlc0JsdWVJY29uXFwnXCIgXG4gICAgICAgICAgICAgICAgICAgIC8vICB0aXRsZT1cIkV4ZWN1dGUgVGFza1wiIFxuICAgICAgICAgICAgICAgICAgICAvLyAgbmctZGlzYWJsZWQ9XG4gICAgICAgICAgICAgICAgICAgIC8vICBcInRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVsnICsgbWV0YS5yb3cgKyAnXS5kaXNhYmxlZCA9PSB0cnVlIHx8ICh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbJyArIG1ldGEucm93ICsgJ10ub25Ib2xkPT10cnVlIHx8IHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVsnICsgbWV0YS5yb3cgKyAnXS5leGVjdXRpb25jb3VudCAhPT0gMClcIiBcbiAgICAgICAgICAgICAgICAgICAgLy8gIGNsYXNzPVwiYnRuIGJ1dHRvblRhc2tBY3Rpb24gYnRuLWNpcmNsZVwiIFxuICAgICAgICAgICAgICAgICAgICAvLyAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIC8vICAgbmctY2xpY2s9XCJ0YXNrc1RhYmxlQ3RybC5leGVjdXRlVGFzaygnICsgbWV0YS5yb3cgKycpXCI+XG4gICAgICAgICAgICAgICAgICAgIC8vICAgPGkgY2xhc3M9XCJmYSBmYS1wbGF5IHRhc2tFeGVjdXRpb25CdXR0b25cIj48L2k+IFxuICAgICAgICAgICAgICAgICAgICAvLyAgIDwvYnV0dG9uPic7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tBY3Rpb25zID0gdGFza0FjdGlvbnMgKyBgXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPVwie3t0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbJHttZXRhLnJvd31dLm9uSG9sZCA9PSBmYWxzZSA/XFwnSG9sZCBUYXNrXFwnOlxcJ0FjdGl2YXRlIFRhc2tcXCd9fVwiICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDNweDtjdXJzb3I6IHBvaW50ZXI7XCIgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBuZy1zaG93PVwidGFza3NUYWJsZUN0cmwudGFza3NEYXRhWyR7bWV0YS5yb3d9XS5vbkhvbGQgPT0gdHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBuZy1jbGljaz1cInRhc2tzVGFibGVDdHJsLmNob29zZUhvbGRBY3RpdmF0ZSgke21ldGEucm93IH0pXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCJpY29ucy9wbGF5LXJlZC5zdmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW1nPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBuZy1zaG93PVwidGFza3NUYWJsZUN0cmwudGFza3NEYXRhWyR7bWV0YS5yb3d9XS5vbkhvbGQ9PWZhbHNlXCIgbmctY2xpY2s9XCJ0YXNrc1RhYmxlQ3RybC5jaG9vc2VIb2xkQWN0aXZhdGUoJHttZXRhLnJvdyB9KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwiaWNvbnMvcHVzZS5zdmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaW1nPlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICBgO1xuXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8qIHRhc2tBY3Rpb25zID0gdGFza0FjdGlvbnMgKyBcbiAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgbmctY2xhc3M9XCJ0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbJyArIG1ldGEucm93ICsgJ10ub25Ib2xkPT10cnVlID8gXFwnZXhlY3V0ZVN0YXRzUmVkSWNvblxcJzpcXCdleGVjdXRlU3RhdHNHcmVlbkljb25cXCdcIiBcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDNweDtcIiBcbiAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwie3t0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbJyArIG1ldGEucm93ICsgJ10ub25Ib2xkID09IGZhbHNlID9cXCdIb2xkIFRhc2tcXCc6XFwnQWN0aXZhdGUgVGFza1xcJ319XCIgIFxuICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWNpcmNsZSBidXR0b25UYXNrQWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwidGFza3NUYWJsZUN0cmwuY2hvb3NlSG9sZEFjdGl2YXRlKCcgKyBtZXRhLnJvdyArICcpXCIgPlxuICAgICAgICAgICAgICAgICAgICAgICA8aSAgY2xhc3M9XCJmYSBmYS1lamVjdCByb3RhdGVFamVjdEF3ZXNvbWUgdGFza0V4ZWN1dGlvbkhvbGRCdXR0b25cIiA+XG4gICAgICAgICAgICAgICAgICAgICAgIDwvaT4gXG4gICAgICAgICAgICAgICAgIDwvYnV0dG9uPic7XG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZ1bGwudGFza19zdGF0dXMgPT0gXCJBY3RpdmVcIil7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tBY3Rpb25zID0gdGFza0FjdGlvbnMgKyBgIFxuICAgICAgICAgICAgICAgICAgICA8c3BhblxuICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJTYXZlIEFzXCIgIFxuICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJtYXJnaW4tbGVmdDogM3B4O1xuICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgICAgICAgXCIgXG4gICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwidGFza3NUYWJsZUN0cmwuc2F2ZUFzKCR7ZnVsbC50YXNrX2lkfSlcIiAgXG4gICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJpY29ucy9mbG9wcHkuc3ZnXCI+IDwvaW1nPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5gO1xuICAgICAgICAgICAgICAgICAgICAvKiB0YXNrQWN0aW9ucyA9IHRhc2tBY3Rpb25zICtcbiAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uICBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAzcHg7XCIgXG4gICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlNhdmUgQXNcIiAgXG4gICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tY2lyY2xlIGJ1dHRvblRhc2tBY3Rpb25cIiBcbiAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIiBcbiAgICAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVwidGFza3NUYWJsZUN0cmwuc2F2ZUFzKFxcJycgKyBmdWxsLnRhc2tfaWQgKyAnXFwnKVwiID5cbiAgICAgICAgICAgICAgICAgICAgIDxpICBjbGFzcz1cImZhIGZhLWZsb3BweS1vIHRhc2tFeGVjdXRpb25Ib2xkQnV0dG9uXCIgPlxuICAgICAgICAgICAgICAgICAgICAgPC9pPiA8L2J1dHRvbj4nO1xuICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgdGFza0FjdGlvbnMgPSB0YXNrQWN0aW9ucyArIGAgXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlRhc2sgRXhlY3V0aW9uIEhpc3RvcnlcIiBcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDNweDtcbiAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgIFwiIFxuICAgICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XCJ0YXNrc1RhYmxlQ3RybC50YXNrRXhlY3V0aW9uU3VtbWFyeSgke2Z1bGwudGFza19pZH0pXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiaWNvbnMvaGlzdG9yeS5zdmdcIj4gPC9pbWc+XG4gICAgICAgICAgICAgICAgPC9zcGFuPmA7XG5cbiAgICAgICAgICAgICAgICAvKnRhc2tBY3Rpb25zID0gXG4gICAgICAgICAgICAgICAgdGFza0FjdGlvbnMgKyBcbiAgICAgICAgICAgICAgICAnPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBzdHlsZT1cIm1hcmdpbi1sZWZ0OiAzcHg7XCJcbiAgICAgICAgICAgICAgICAgdGl0bGU9XCJUYXNrIEV4ZWN1dGlvbiBIaXN0b3J5XCIgXG4gICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1jaXJjbGUgYnV0dG9uVGFza0FjdGlvblwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCIgbmctY2xpY2s9XCJ0YXNrc1RhYmxlQ3RybC50YXNrRXhlY3V0aW9uU3VtbWFyeShcXCcnICsgZnVsbC50YXNrX2lkICsgJ1xcJylcIlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtY29weSB0YXNrRXhlY3V0aW9uSGlzdG9yeUJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgPC9pPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+JztcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJldHVybiB0YXNrQWN0aW9ucztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFza3NUYWJsZUN0cmwuaGVhZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrc1RhYmxlQ3RybC5oZWFkZXJzW2ldLmNsaWNrQWJsZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmR0Q29sdW1ucy5wdXNoKERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4odGFza3NUYWJsZUN0cmwuaGVhZGVyc1tpXS5jb2x1bW4pLndpdGhUaXRsZSh0YXNrc1RhYmxlQ3RybC5oZWFkZXJzW2ldLm5hbWUpLnJlbmRlcldpdGgoY2xpY2tBYmxlQ29sdW1uKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRhc2tzVGFibGVDdHJsLmhlYWRlcnNbaV0udHlwZSA9PSAnZGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuZHRDb2x1bW5zLnB1c2goRFRDb2x1bW5CdWlsZGVyLm5ld0NvbHVtbih0YXNrc1RhYmxlQ3RybC5oZWFkZXJzW2ldLmNvbHVtbikud2l0aFRpdGxlKHRhc2tzVGFibGVDdHJsLmhlYWRlcnNbaV0ubmFtZSkucmVuZGVyV2l0aChjaGFuZ2VUb0xvY2FsRGF0ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0YXNrc1RhYmxlQ3RybC5oZWFkZXJzW2ldLnR5cGUgPT0gJ3RvX2NoYXJfZGF0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuZHRDb2x1bW5zLnB1c2goRFRDb2x1bW5CdWlsZGVyLm5ld0NvbHVtbih0YXNrc1RhYmxlQ3RybC5oZWFkZXJzW2ldLmNvbHVtbikud2l0aFRpdGxlKHRhc2tzVGFibGVDdHJsLmhlYWRlcnNbaV0ubmFtZSkucmVuZGVyV2l0aChjaGFuZ2VUb0xvY2FsRGF0ZVRvQ2hhcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0YXNrc1RhYmxlQ3RybC5oZWFkZXJzW2ldLmNvbHVtbiA9PSAnc2VsZWN0aW9uX21ldGhvZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuZHRDb2x1bW5zLnB1c2goRFRDb2x1bW5CdWlsZGVyLm5ld0NvbHVtbih0YXNrc1RhYmxlQ3RybC5oZWFkZXJzW2ldLmNvbHVtbikud2l0aFRpdGxlKHRhc2tzVGFibGVDdHJsLmhlYWRlcnNbaV0ubmFtZSkucmVuZGVyV2l0aChzZWxlY3Rpb25NZXRob2RDb2x1bW4pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGFza3NUYWJsZUN0cmwuaGVhZGVyc1tpXS5jb2x1bW4gPT0gJ3Rhc2tfc3RhdHVzJykge1xuICAgICAgICAgICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5kdENvbHVtbnMucHVzaChEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKHRhc2tzVGFibGVDdHJsLmhlYWRlcnNbaV0uY29sdW1uKS53aXRoVGl0bGUodGFza3NUYWJsZUN0cmwuaGVhZGVyc1tpXS5uYW1lKS53aXRoT3B0aW9uKCdzZWxlY3QnLCdBY3RpdmUnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5kdENvbHVtbnMucHVzaChEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKHRhc2tzVGFibGVDdHJsLmhlYWRlcnNbaV0uY29sdW1uKS53aXRoVGl0bGUodGFza3NUYWJsZUN0cmwuaGVhZGVyc1tpXS5uYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5kdENvbHVtbnMudW5zaGlmdChEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKCd0YXNrQWN0aW9ucycpLndpdGhUaXRsZSgnJykucmVuZGVyV2l0aCh0YXNrQWN0aW9ucykpO1xuICAgICAgICAgICAgLy90cnkgdG8gY29tbWVudCBvdXQgdGhlIGxpbmUgYmVsb3dcblxuICAgICAgICAgICAgdmFyIGdldFRhYmxlRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGEsIGZ1bmN0aW9uKHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGFzay50YXNrX3R5cGUyID0gdGFzay50YXNrX3R5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRhc2subG9hZF9lbnRpdHkgJiYgdGFzay5kZWxldGVfYmVmb3JlX2xvYWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5vcGVyYXRpb25fbW9kZSA9ICdEZWxldGUgYW5kIGxvYWQgZW50aXR5JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHRhc2subG9hZF9lbnRpdHkgJiYgIXRhc2suZGVsZXRlX2JlZm9yZV9sb2FkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sub3BlcmF0aW9uX21vZGUgPSAnTG9hZCBlbnRpdHknO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoIXRhc2subG9hZF9lbnRpdHkgJiYgdGFzay5kZWxldGVfYmVmb3JlX2xvYWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5vcGVyYXRpb25fbW9kZSA9ICdEZWxldGUgZW50aXR5JztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sudGFza190eXBlMiA9ICdERUxFVEUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodGFzay50YXNrX3R5cGUgPT09ICdSRVNFUlZFJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrLm9wZXJhdGlvbl9tb2RlID0gJ1Jlc2VydmUgZW50aXR5JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHRhc2sudGFza190eXBlID09PSAnRVhUUkFDVCcpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFzay5vcGVyYXRpb25fbW9kZSA9ICdFeHRyYWN0IGVudGl0eSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrLm9wZXJhdGlvbl9tb2RlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLnJlZmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrLmRhdGFfdHlwZSA9ICdFbnRpdGllcyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGFzay5zZWxlY3Rpb25fbWV0aG9kID09PSAnUkVGJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrLmRhdGFfdHlwZSA9ICdSZWZlcmVuY2UnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrLmRhdGFfdHlwZSA9ICdFbnRpdGllcyBhbmQgUmVmZXJlbmNlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodGFza3NUYWJsZUN0cmwudGFza3NEYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmR0T3B0aW9ucyA9IERUT3B0aW9uc0J1aWxkZXIuZnJvbUZuUHJvbWlzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRhYmxlRGF0YSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAud2l0aERPTSgnPFwiaHRtbDVidXR0b25zXCJCPmxUZmdpdHAnKVxuICAgICAgICAgICAgICAgIC53aXRoT3B0aW9uKCdjcmVhdGVkUm93JywgZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWNvbXBpbGluZyBzbyB3ZSBjYW4gYmluZCBBbmd1bGFyIGRpcmVjdGl2ZSB0byB0aGUgRFRcbiAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGUoYW5ndWxhci5lbGVtZW50KHJvdykuY29udGVudHMoKSkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC53aXRoT3B0aW9uKCdzY3JvbGxYJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgLndpdGhPcHRpb24oJ2FhU29ydGluZycsIFtbMTMsJ2FzYyddXSlcbiAgICAgICAgICAgICAgICAud2l0aEJ1dHRvbnMoW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmQ6ICdjb2x2aXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ1Nob3cvSGlkZSBjb2x1bW5zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IFsxNCwgMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsIDI0LCAyNSwgMjYsIDI3XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY29sdW1uSWR4LCB2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc2libGUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0YXNrc1RhYmxlQ3RybC5oaWRlQ29sdW1ucy5pbmRleE9mKGNvbHVtbklkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5oaWRlQ29sdW1ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0YXNrc1RhYmxlQ3RybC5oaWRlQ29sdW1ucy5pbmRleE9mKGNvbHVtbklkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmhpZGVDb2x1bW5zLnB1c2goY29sdW1uSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2Vzc2lvblN0b3JhZ2UudGFza1RhYmxlSGlkZUNvbHVtbnMgPSB0YXNrc1RhYmxlQ3RybC5oaWRlQ29sdW1ucztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgLndpdGhPcHRpb24oXCJjYXNlSW5zZW5zaXRpdmVcIiwgdHJ1ZSlcbiAgICAgICAgICAgICAgICAud2l0aE9wdGlvbignc2VhcmNoJywge1xuICAgICAgICAgICAgICAgICAgICBcImNhc2VJbnNlbnNpdGl2ZVwiOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLndpdGhPcHRpb24oXCJmaXhlZENvbHVtbnNcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGEgJiYgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW5zID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IF8ubWFwKF8udW5pcXVlKF8ubWFwKHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YSwgJ3NvdXJjZV9lbnZfbmFtZScpKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWU6IGVsLCBsYWJlbDogZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogXy5tYXAoXy51bmlxdWUoXy5tYXAodGFza3NUYWJsZUN0cmwudGFza3NEYXRhLCAnZW52aXJvbm1lbnRfbmFtZScpKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWU6IGVsLCBsYWJlbDogZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogXy5tYXAoXy51bmlxdWUoXy5tYXAodGFza3NUYWJsZUN0cmwudGFza3NEYXRhLCAnYmVfbmFtZScpKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWU6IGVsLCBsYWJlbDogZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJMT0FEXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJMT0FEXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRVhUUkFDVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRVhUUkFDVFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlJFU0VSVkVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlJFU0VSVkVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJERUxFVEVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRFTEVURVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiTG9hZCBlbnRpdHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkxvYWQgZW50aXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRGVsZXRlIGFuZCBsb2FkIGVudGl0eVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRGVsZXRlIGFuZCBsb2FkIGVudGl0eVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkRlbGV0ZSBlbnRpdHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRlbGV0ZSBlbnRpdHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJSZXNlcnZlIGVudGl0eVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUmVzZXJ2ZSBlbnRpdHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFeHRyYWN0IGVudGl0eVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRXh0cmFjdCBlbnRpdHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogXy5tYXAoXy51bmlxdWUoXy5tYXAodGFza3NUYWJsZUN0cmwudGFza3NEYXRhLCAndmVyc2lvbl9pbmQnKSksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3ZhbHVlOiBlbCwgbGFiZWw6IGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiRW50aXRpZXNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVudGl0aWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiUmVmZXJlbmNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJSZWZlcmVuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFbnRpdGllcyBhbmQgUmVmZXJlbmNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJFbnRpdGllcyBhbmQgUmVmZXJlbmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJQcmVkZWZpbmVkIEVudGl0eSBMaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJQcmVkZWZpbmVkIEVudGl0eSBMaXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiU2VsZWN0ZWQgVmVyc2lvbidzIEVudGl0aWVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJTZWxlY3RlZCBWZXJzaW9uJ3MgRW50aXRpZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJSZWZlcmVuY2UgVGFibGVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJSZWZlcmVuY2UgVGFibGVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiQ3VzdG9tIExvZ2ljXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDdXN0b20gTG9naWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFbnRpdHkgQ2xvbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVudGl0eSBDbG9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkVudGl0eSBMaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJFbnRpdHkgTGlzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlBhcmFtZXRlcnMgd2l0aCBSYW5kb20gRW50aXR5IFNlbGVjdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUGFyYW1ldGVycyB3aXRoIFJhbmRvbSBFbnRpdHkgU2VsZWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiUGFyYW1ldGVyc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUGFyYW1ldGVyc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIlJhbmRvbSBzZWxlY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlJhbmRvbSBzZWxlY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnQWN0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiSW5hY3RpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkluYWN0aXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiQWN0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJBY3RpdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkFjdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQWN0aXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwib25Ib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJvbkhvbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBfLm1hcChfLnVuaXF1ZShfLm1hcCh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGEsICd0YXNrX2xhc3RfdXBkYXRlZF9ieScpKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWU6IGVsLCBsYWJlbDogZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogXy5tYXAoXy51bmlxdWUoXy5tYXAodGFza3NUYWJsZUN0cmwudGFza3NEYXRhLCAncmV0ZW50aW9uX3BlcmlvZF90eXBlJykpLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogZWwsIGxhYmVsOiBlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwidHJ1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcImZhbHNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IF8ubWFwKF8udW5pcXVlKF8ubWFwKHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YSwgJ3N5bmNfbW9kZScpKSwgZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWU6IGVsLCBsYWJlbDogZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJ0cnVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiZmFsc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogXy5tYXAoXy51bmlxdWUoXy5tYXAodGFza3NUYWJsZUN0cmwudGFza3NEYXRhLCAnc2VsZWN0ZWRfdmVyc2lvbl90YXNrX25hbWUnKSksIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3ZhbHVlOiBlbCwgbGFiZWw6IGVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogXy5tYXAoXy51bmlxdWUoXy5tYXAodGFza3NUYWJsZUN0cmwudGFza3NEYXRhLCAnc2VsZWN0ZWRfcmVmX3ZlcnNpb25fdGFza19uYW1lJykpLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogZWwsIGxhYmVsOiBlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlnaHRDb2x1bW5GaWx0ZXIgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcD1hbmd1bGFyLmNvcHkoY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5oaWRkZW49dGFza3NUYWJsZUN0cmwuaGlkZUNvbHVtbnMuaW5kZXhPZihpbmRleCArICAxKSA+PSAwID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBsaWdodENvbHVtbkZpbHRlcltpbmRleCArIDFdID0gdGVtcFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuZHRPcHRpb25zLndpdGhMaWdodENvbHVtbkZpbHRlcihsaWdodENvbHVtbkZpbHRlcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5kdEluc3RhbmNlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZHRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGFza3NUYWJsZUN0cmwuZHRJbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuZHRJbnN0YW5jZShkdEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRhc2tzVGFibGVDdHJsLmR0SW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmR0SW5zdGFuY2UgPSBkdEluc3RhbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodGFza3NUYWJsZUN0cmwuZHRJbnN0YW5jZS5jaGFuZ2VEYXRhICE9IG51bGwpXG4gICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuZHRJbnN0YW5jZS5jaGFuZ2VEYXRhKGdldFRhYmxlRGF0YSgpKTtcblxuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwubG9hZGluZ1RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdGFza3NUYWJsZUN0cmwub3BlblRhc2sgPSBmdW5jdGlvbiAodGFza0lkLGNvcHkpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY29udGVudC5vcGVuVGFzaykge1xuICAgICAgICAgICAgICAgIHZhciB0YXNrRGF0YSA9IF8uZmluZCh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGEsIHt0YXNrX2lkOiBwYXJzZUludCh0YXNrSWQpfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jb250ZW50Lm9wZW5UYXNrKHRhc2tEYXRhLGNvcHksIHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1RPRE8gc2hvdyBlcnJvciA/P1xuICAgICAgICB9O1xuXG4gICAgICAgIHRhc2tzVGFibGVDdHJsLm9wZW5OZXdUYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5jb250ZW50Lm9wZW5OZXdUYXNrKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRlbnQub3Blbk5ld1Rhc2sodGFza3NUYWJsZUN0cmwudGFza3NEYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1RPRE8gc2hvdyBlcnJvciA/P1xuICAgICAgICB9O1xuXG4gICAgICAgIHRhc2tzVGFibGVDdHJsLnRhc2tFeGVjdXRpb25IaXN0b3J5ID0gZnVuY3Rpb24gKHRhc2tJZCkge1xuICAgICAgICAgICAgaWYgKCRzY29wZS5jb250ZW50Lm9wZW5UYXNrSGlzdG9yeSkge1xuICAgICAgICAgICAgICAgIHZhciB0YXNrRGF0YSA9IF8uZmluZCh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGEsIHt0YXNrX2lkOiBwYXJzZUludCh0YXNrSWQpfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhc2tEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jb250ZW50Lm9wZW5UYXNrSGlzdG9yeSh0YXNrRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIEJyZWFkQ3J1bWJzU2VydmljZS5wdXNoKHt0aXRsZTogdGFza0RhdGEudGFza190aXRsZX0sICdUQVNLX0VYRUNVVElPTl9ISVNUT1JZJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRlbnQub3BlblRhc2tIaXN0b3J5KHRhc2tEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza0V4ZWN1dGlvblN1bW1hcnkgPSBmdW5jdGlvbiAodGFza0lkKSB7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmNvbnRlbnQub3BlblRhc2tTdW1tYXJ5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2tEYXRhID0gXy5maW5kKHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YSwge3Rhc2tfaWQ6IHBhcnNlSW50KHRhc2tJZCl9KTtcbiAgICAgICAgICAgICAgICBpZiAodGFza0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRlbnQub3BlblRhc2tTdW1tYXJ5KHRhc2tEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgQnJlYWRDcnVtYnNTZXJ2aWNlLnB1c2goe3RpdGxlOiB0YXNrRGF0YS50YXNrX3RpdGxlfSwgJ1RBU0tfRVhFQ1VUSU9OX1NVTU1BUlknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29udGVudC5vcGVuVGFza1N1bW1hcnkodGFza0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuXG4gICAgICAgIHRhc2tzVGFibGVDdHJsLmV4ZWN1dGVUYXNrID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICBsZXQgdGFzayA9IHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVtpbmRleF07XG4gICAgICAgICAgICBsZXQgdGFza0lkID0gdGFzay50YXNrX2lkO1xuICAgICAgICAgICAgbGV0IHRlc3RlcnMgPSB0YXNrLnRlc3RlcnM7XG4gICAgICAgICAgICBsZXQgcm9sZXMgPSB0YXNrLnJvbGVzIHx8IFtdO1xuICAgICAgICAgICAgbGV0IG93bmVycyA9IHRhc2sub3duZXJzO1xuICAgICAgICAgICAgbGV0IHRhc2tfdGl0bGUgPSB0YXNrLnRhc2tfdGl0bGU7XG4gICAgICAgICAgICBsZXQgdGFza19jcmVhdGVkX2J5ID0gdGFzay50YXNrX2NyZWF0ZWRfYnk7XG5cbiAgICAgICAgICAgIGxldCB0ZXN0ZXJDYW5SdW5UYXNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjYW5SdW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghdGVzdGVycyB8fCAhcm9sZXMpIHJldHVybiBjYW5SdW47XG5cbiAgICAgICAgICAgICAgICBsZXQgbG9nZ2VkVXNlciA9IHRhc2tzVGFibGVDdHJsLnVzZXJuYW1lO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpIG9mIHRlc3RlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkudGVzdGVyID09PSBsb2dnZWRVc2VyIHx8IGkudGVzdGVyID09PSAnQUxMJyB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGkudGVzdGVyX3R5cGUgPT09ICdHUk9VUCcgJiYgdGFza3NUYWJsZUN0cmwudXNlckZhYnJpY1JvbGVzLmluZGV4T2YoaS50ZXN0ZXIpID49IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpLnJvbGVfaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaWQgb2YgaS5yb2xlX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm91bmRSb2xlID0gXy5maW5kKHJvbGVzWzBdLCB7cm9sZV9pZDogcGFyc2VJbnQoaWQpfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRSb2xlICYmIGZvdW5kUm9sZS5hbGxvd2VkX3Rlc3RfY29ubl9mYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuUnVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjYW5SdW47XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IG93bmVyQnlmYWJyaWNSb2xlID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhc2tzVGFibGVDdHJsLnVzZXJGYWJyaWNSb2xlcy5sZW5ndGggO2krKyl7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9sZSA9IHRhc2tzVGFibGVDdHJsLnVzZXJGYWJyaWNSb2xlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoXy5maW5kSW5kZXgob3duZXJzLCB7b3duZXI6IHJvbGUsIG93bmVyX3R5cGU6ICdHUk9VUCcgfSkgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBvd25lckJ5ZmFicmljUm9sZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgbGV0IGZvcmNlZCA9XG4gICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudXNlclJvbGUudHlwZSA9PSAnYWRtaW4nXG4gICAgICAgICAgICAgICAgfHwgXy5maW5kSW5kZXgob3duZXJzLCB7b3duZXI6IHRhc2tzVGFibGVDdHJsLnVzZXJuYW1lfSkgPj0gMFxuICAgICAgICAgICAgICAgIHx8IG93bmVyQnlmYWJyaWNSb2xlXG4gICAgICAgICAgICAgICAgfHwgIHRlc3RlckNhblJ1blRhc2soKSA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhW2luZGV4XS5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGdldEVycm9yTWVzc2FnZSA9IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdCAmJiByZXNwb25zZS5yZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhyZXNwb25zZS5yZXN1bHRbMF0pLmZvckVhY2goKGtleSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSR7cmVzcG9uc2UucmVzdWx0WzBdW2tleV19XG4gICAgICAgICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSByZXNwb25zZS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVERNU2VydmljZS5leGVjdXRlVGFzayh0YXNrSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PSAnU1VDQ0VTUycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhW2luZGV4XS5leGVjdXRpb25jb3VudCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiVGFzayAjIFwiICsgdGFza190aXRsZSwgXCIgU3VjY2Vzc2Z1bGx5IHN0YXJ0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmR0SW5zdGFuY2UucmVsb2FkRGF0YShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza0V4ZWN1dGlvblN1bW1hcnkodGFza0lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm9yY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2V0RXJyb3JNZXNzYWdlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN3ZWV0QWxlcnQuc3dhbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkNhbmNlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IFwiZmFsc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21DbGFzczogXCJhbmltYXRlZCBmYWRlSW5VcCBzdGFydC10YXNrLWVycm9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoaXNDb25maXJtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBTd2VldEFsZXJ0LnN3YWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBgJHttZXNzYWdlfS4gRG8geW91IHdhbnQgdG8gcHJvY2VlZCB3aXRoIHRoZSB0YXNrIGV4ZWN1dGlvbj9gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogXCJOb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwiWWVzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkNhbmNlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IFwiZmFsc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21DbGFzczogXCJhbmltYXRlZCBmYWRlSW5VcFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGlzQ29uZmlybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNDb25maXJtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRETVNlcnZpY2UuZXhlY3V0ZVRhc2sodGFza0lkLCBmb3JjZWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JDb2RlID09ICdTVUNDRVNTJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVtpbmRleF0uZXhlY3V0aW9uY291bnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiVGFzayAjIFwiICsgdGFza190aXRsZSwgXCIgU3VjY2Vzc2Z1bGx5IHN0YXJ0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuZHRJbnN0YW5jZS5yZWxvYWREYXRhKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza0V4ZWN1dGlvblN1bW1hcnkodGFza0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdldEVycm9yTWVzc2FnZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dlZXRBbGVydC5zd2FsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIndhcm5pbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VPbkNhbmNlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBcImZhbHNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUNsYXNzOiBcImFuaW1hdGVkIGZhZGVJblVwIHN0YXJ0LXRhc2stZXJyb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGlzQ29uZmlybSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhW2luZGV4XS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IocmVzcG9uc2UubWVzc2FnZSwgXCJUaGUgdGFzayBjYW5ub3QgYmUgc3RhcnRlZC5cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICB0YXNrc1RhYmxlQ3RybC5ob2xkVGFzayA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgICAgVERNU2VydmljZS5ob2xkVGFzayh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbaW5kZXhdLnRhc2tfaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PSAnU1VDQ0VTUycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhW2luZGV4XS50YXNrX2V4ZWN1dGlvbl9zdGF0dXMgPSAnb25Ib2xkJztcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJUYXNrICMgXCIgKyB0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbaW5kZXhdLnRhc2tfdGl0bGUsIFwiIHdhcyBIb2xkZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVtpbmRleF0ub25Ib2xkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwuZHRJbnN0YW5jZS5yZWxvYWREYXRhKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiVGFzayAjIFwiICsgdGFza190aXRsZSwgXCJGYWlsZWQgdG8gaG9sZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuZ2V0UnVubmluZ1Rhc2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgVERNU2VydmljZS5nZXRSdW5uaW5nVGFza3MoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdW1SdW5uaW5nID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgc3VtQWxsID0gMDtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT0gJ1NVQ0NFU1MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YSA9IF8ubWFwKHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YSwgZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suZXhlY3V0aW9uY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtQWxsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5yZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXNrID0gXy5maW5kKHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YSwge3Rhc2tfaWQ6IHBhcnNlSW50KHJlc3BvbnNlLnJlc3VsdFtpXSl9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtUnVubmluZysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2suZXhlY3V0aW9uY291bnQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdC50b1N0cmluZygpICE9PSB0YXNrc1RhYmxlQ3RybC5wcmV2UnVubmluZ1Rhc2tzSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnByZXZSdW5uaW5nVGFza3NJZCA9IHJlc3BvbnNlLnJlc3VsdC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2tzVGFibGVDdHJsLmR0SW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrc1RhYmxlQ3RybC5kdEluc3RhbmNlLnJlbG9hZERhdGEoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGFza3NUYWJsZUN0cmwuYWN0aXZhdGVUYXNrID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgICAgICBURE1TZXJ2aWNlLmFjdGl2YXRlVGFzayh0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbaW5kZXhdLnRhc2tfaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PSAnU1VDQ0VTUycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza3NUYWJsZUN0cmwudGFza3NEYXRhW2luZGV4XS50YXNrX2V4ZWN1dGlvbl9zdGF0dXMgPSAnQWN0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJUYXNrICMgXCIgKyB0YXNrc1RhYmxlQ3RybC50YXNrc0RhdGFbaW5kZXhdLnRhc2tfdGl0bGUsIFwiIHdhcyBhY3RpdmF0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLnRhc2tzRGF0YVtpbmRleF0ub25Ib2xkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLmR0SW5zdGFuY2UucmVsb2FkRGF0YShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRhc2sgIyBcIiArIHRhc2tfdGl0bGUsIFwiRmFpbGVkIHRvIGFjdGl2YXRlXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFza3NUYWJsZUN0cmwuc2F2ZUFzID0gZnVuY3Rpb24odGFza19pZCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlNhdmUgQXMgY2hlY2tcIik7XG4gICAgICAgICAgICB2YXIgdGFza0RhdGEgPSBfLmZpbmQodGFza3NUYWJsZUN0cmwudGFza3NEYXRhLCB7dGFza19pZDogcGFyc2VJbnQodGFza19pZCl9KTtcbiAgICAgICAgICAgIGlmICghdGFza0RhdGEpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFRETVNlcnZpY2UucG9zdEdlbmVyaWNBUEkoJ2NoZWNrU2F2ZVRhc2tBcycse1xuICAgICAgICAgICAgICAgIHRhc2tfaWQgOiB0YXNrRGF0YS50YXNrX2lkLFxuICAgICAgICAgICAgICAgIGVudmlyb25tZW50X2lkIDogdGFza0RhdGEuZW52aXJvbm1lbnRfaWQsXG4gICAgICAgICAgICAgICAgc291cmNlX2Vudmlyb25tZW50X2lkIDogdGFza0RhdGEuc291cmNlX2Vudmlyb25tZW50X2lkLFxuICAgICAgICAgICAgICAgIHRhc2tEYXRhIDogdGFza0RhdGFcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT0gXCJGQUlMRURcIil7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihyZXNwb25zZS5tZXNzYWdlLCBcIlRoZSB0YXNrIGNhbm5vdCBiZSBjb3BpZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhc2tzVGFibGVDdHJsLm9wZW5UYXNrKHRhc2tEYXRhLnRhc2tfaWQsdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHRlbXBsYXRlVXJsOiB0ZW1wbGF0ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICc9J1xuICAgICAgICB9LFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciB1cGRhdGVEYXRhID0gJGludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5nZXRSdW5uaW5nVGFza3MoKTtcbiAgICAgICAgICAgIH0sIFRBU0sudGltZUludGVydmFsKTtcbiAgICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwodXBkYXRlRGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbGxlcjogY29udHJvbGxlcixcbiAgICAgICAgY29udHJvbGxlckFzOiAndGFza3NUYWJsZUN0cmwnXG4gICAgfTtcbn1cblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnVERNLUZFJylcbiAgICAuZGlyZWN0aXZlKCd0YXNrc1RhYmxlRGlyZWN0aXZlJywgdGFza3NUYWJsZURpcmVjdGl2ZSk7Il19
