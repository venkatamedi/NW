function taskSummaryDirective(){return{restrict:"EA",templateUrl:"views/tasks/taskSummary.html",scope:{content:"="},link:function(scope,element,attr){},controller:function($scope,$rootScope,BreadCrumbsService,$compile,$timeout,TDMService,AuthService,DTColumnBuilder,DTOptionsBuilder,DTColumnDefBuilder,$q,$sessionStorage,ExcelService,toastr,$interval,$uibModal){var taskSummaryCtrl=this;taskSummaryCtrl.taskData=$scope.content.task,taskSummaryCtrl.stopInterval=$interval((function(){"taskSummary"===$scope.content.pageDisplay&&TDMService.getSummaryTaskHistory(taskSummaryCtrl.taskData.task_id).then((function(response){if("SUCCESS"==response.errorCode){var foundRunning=_.find(response.result,(function(exec){return"completed"!==exec.execution_status&&"failed"!==exec.execution_status}));response.result.sort((a,b)=>a.task_execution_id<b.task_execution_id?1:a.task_execution_id>b.task_execution_id?-1:0),taskSummaryCtrl.taskHistoryData=response.result,taskSummaryCtrl.dtInstance&&taskSummaryCtrl.dtInstance.reloadData&&taskSummaryCtrl.dtInstance.reloadData((function(data){}),!1),foundRunning||$interval.cancel(taskSummaryCtrl.stopInterval)}}))}),7e3),taskSummaryCtrl.loadingTable=!0,taskSummaryCtrl.openTask=function(exec_id){if($scope.content.exec_id=exec_id,$scope.content.openTaskHistory&&taskSummaryCtrl.taskData){var breadCrumbs=BreadCrumbsService.getAll();if("TASK_EXECUTION_HISTORY"===breadCrumbs[breadCrumbs.length-1].name)return;return BreadCrumbsService.push({execId:exec_id,title:taskSummaryCtrl.taskData.task_title},"TASK_EXECUTION_HISTORY",(function(){$scope.content.openTaskHistory(taskSummaryCtrl.taskData,exec_id)})),void($scope.content.pageDisplay="taskHistory")}},taskSummaryCtrl.moveToHistoryIfRunningTask=execs=>{if(execs)for(execution of execs)if("running"==execution.execution_status.toLowerCase()||"pending"==execution.execution_status.toLowerCase()){taskSummaryCtrl.openTask(execution.task_execution_id);break}};TDMService.getSummaryTaskHistory(taskSummaryCtrl.taskData.task_id).then((function(response){if("SUCCESS"==response.errorCode){response.result.sort((a,b)=>a.task_execution_id<b.task_execution_id?1:a.task_execution_id>b.task_execution_id?-1:0),taskSummaryCtrl.moveToHistoryIfRunningTask(response.result),taskSummaryCtrl.taskHistoryData=response.result,taskSummaryCtrl.taskData.task_id,taskSummaryCtrl.dtInstance={},taskSummaryCtrl.dtColumns=[],taskSummaryCtrl.headers=[{column:"task_execution_id",name:"Task Execution Id",clickable:!0},{column:"execution_status",name:"Execution Status",clickable:!1},{column:"source_env_name",name:"Source Environment Name",clickable:!1},{column:"environment_name",name:"Target Environment Name",clickable:!1},{column:"task_executed_by",name:"Task Executed by",clickable:!1},{column:"be_name",name:"Business Entity Name",clickable:!1},{column:"start_execution_time",name:"Start Execution Time",clickable:!1,date:!0},{column:"end_execution_time",name:"End Execution Time",clickable:!1,date:!0},{column:"tot_num_of_processed_root_entities",name:"Total Number of Processed Entities",clickable:!1},{column:"tot_num_of_copied_root_entities",name:"Number of Successful Entities",clickable:!1},{column:"tot_num_of_failed_root_entities",name:"Number of Failed Entities",clickable:!1},{column:"tot_num_of_processed_ref_tables",name:"Total Number of Processed Reference Tables",clickable:!1},{column:"tot_num_of_copied_ref_tables",name:"Number of Copied Reference Tables",clickable:!1},{column:"tot_num_of_failed_ref_tables",name:"Number of Failed Reference Tables",clickable:!1},{column:"tot_num_of_processed_post_executions",name:"Total Number of Processed Post Executions",clickable:!1},{column:"tot_num_of_succeeded_post_executions",name:"Total Number of Successful Post Executions",clickable:!1},{column:"tot_num_of_failed_post_executions",name:"Total Number of Failed Post Executions",clickable:!1},{column:"execution_note",name:"Execution Note",clickable:!1}],taskSummaryCtrl.dtColumnDefs=[],$sessionStorage.taskSummaryTableHideColumns?taskSummaryCtrl.hideColumns=$sessionStorage.taskSummaryTableHideColumns:taskSummaryCtrl.hideColumns=[];for(var i=0;i<taskSummaryCtrl.hideColumns.length;i++){var hideColumn=DTColumnDefBuilder.newColumnDef(taskSummaryCtrl.hideColumns[i]).withOption("visible",!1);taskSummaryCtrl.dtColumnDefs.push(hideColumn)}var changeToLocalDate=function(data,type,full,meta){return data?moment(data).format("DD MMM YYYY, HH:mm:ss"):""},clickableCol=(data,type,full)=>"<a ng-click=\"taskSummaryCtrl.openTask('"+full.task_execution_id+"')\">"+data+"</a>";for(i=0;i<taskSummaryCtrl.headers.length;i++)taskSummaryCtrl.headers[i].clickable?taskSummaryCtrl.dtColumns.push(DTColumnBuilder.newColumn(taskSummaryCtrl.headers[i].column).withTitle(taskSummaryCtrl.headers[i].name).renderWith(clickableCol)):1==taskSummaryCtrl.headers[i].date?taskSummaryCtrl.dtColumns.push(DTColumnBuilder.newColumn(taskSummaryCtrl.headers[i].column).withTitle(taskSummaryCtrl.headers[i].name).renderWith(changeToLocalDate)):taskSummaryCtrl.dtColumns.push(DTColumnBuilder.newColumn(taskSummaryCtrl.headers[i].column).withTitle(taskSummaryCtrl.headers[i].name));taskSummaryCtrl.dtColumns.unshift(DTColumnBuilder.newColumn("taskHistoryActions").withTitle("").renderWith((function(data,type,full,meta){return"<a ng-click=\"taskSummaryCtrl.downloadSummaryReport('"+full.task_execution_id+'\')"  style="margin-left: 5px;border-color: transparent;background-color: transparent; color: black;" title="Download Summary Report"><img src="icons/summary-report.svg"></img> </a>'})).withOption("width","50"));var getTableData=function(){var deferred=$q.defer();const data=_.map(taskSummaryCtrl.taskHistoryData,row=>("EXTRACT"===row.task_type&&(row.environment_name=""),row.execution_note=row.execution_note||"",row));return deferred.resolve(data),deferred.promise};taskSummaryCtrl.dtOptions=DTOptionsBuilder.fromFnPromise((function(){return getTableData()})).withDOM('<"html5buttons"B>lTfgitp').withOption("createdRow",(function(row){$compile(angular.element(row).contents())($scope)})).withOption("paging",!0).withOption("order",[0,"desc"]).withOption("scrollX",!1).withButtons([{extend:"colvis",text:"Show/Hide columns",columns:[12,13,14,15,16,17,18],callback:function(columnIdx,visible){var index;1==visible?(index=taskSummaryCtrl.hideColumns.indexOf(columnIdx))>=0&&taskSummaryCtrl.hideColumns.splice(index,1):(index=taskSummaryCtrl.hideColumns.indexOf(columnIdx))<0&&taskSummaryCtrl.hideColumns.push(columnIdx);$sessionStorage.taskSummaryTableHideColumns=taskSummaryCtrl.hideColumns}}]),taskSummaryCtrl.downloadSummaryReport=function(execId){TDMService.getSummaryReport(execId,"ALL").then((function(response){"FAILED"!=response.errorCode&&ExcelService.buildSummaryExcel(response.result).xlsx.writeBuffer().then((function(data){var fileName=`${taskSummaryCtrl.taskData.task_title}_Summary_Execution_Report_EXECID_${execId}.xlsx`,a=document.createElement("a");document.body.appendChild(a),a.style="display: none";var file=new Blob([data],{type:"application/vnd.ms-excel"}),fileURL=(window.URL||window.webkitURL).createObjectURL(file);a.href=fileURL,a.download=fileName,a.click(),(window.URL||window.webkitURL).revokeObjectURL(file)}))}))},taskSummaryCtrl.dtInstanceCallback=function(dtInstance){angular.isFunction(taskSummaryCtrl.dtInstance)?taskSummaryCtrl.dtInstance(dtInstance):angular.isDefined(taskSummaryCtrl.dtInstance)&&(taskSummaryCtrl.dtInstance=dtInstance)},null!=taskSummaryCtrl.dtInstance.changeData&&taskSummaryCtrl.dtInstance.changeData(getTableData()),$timeout(()=>{taskSummaryCtrl.loadingTable=!1})}}))},controllerAs:"taskSummaryCtrl"}}angular.module("TDM-FE").directive("taskSummaryDirective",taskSummaryDirective);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdGl2ZXMvdGFza3MvdGFza1N1bW1hcnlEaXJlY3RpdmUuanMiXSwibmFtZXMiOlsidGFza1N1bW1hcnlEaXJlY3RpdmUiLCJyZXN0cmljdCIsInRlbXBsYXRlVXJsIiwic2NvcGUiLCJjb250ZW50IiwibGluayIsImVsZW1lbnQiLCJhdHRyIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRyb290U2NvcGUiLCJCcmVhZENydW1ic1NlcnZpY2UiLCIkY29tcGlsZSIsIiR0aW1lb3V0IiwiVERNU2VydmljZSIsIkF1dGhTZXJ2aWNlIiwiRFRDb2x1bW5CdWlsZGVyIiwiRFRPcHRpb25zQnVpbGRlciIsIkRUQ29sdW1uRGVmQnVpbGRlciIsIiRxIiwiJHNlc3Npb25TdG9yYWdlIiwiRXhjZWxTZXJ2aWNlIiwidG9hc3RyIiwiJGludGVydmFsIiwiJHVpYk1vZGFsIiwidGFza1N1bW1hcnlDdHJsIiwidGhpcyIsInRhc2tEYXRhIiwidGFzayIsInN0b3BJbnRlcnZhbCIsInBhZ2VEaXNwbGF5IiwiZ2V0U3VtbWFyeVRhc2tIaXN0b3J5IiwidGFza19pZCIsInRoZW4iLCJyZXNwb25zZSIsImVycm9yQ29kZSIsImZvdW5kUnVubmluZyIsIl8iLCJmaW5kIiwicmVzdWx0IiwiZXhlYyIsImV4ZWN1dGlvbl9zdGF0dXMiLCJzb3J0IiwiYSIsImIiLCJ0YXNrX2V4ZWN1dGlvbl9pZCIsInRhc2tIaXN0b3J5RGF0YSIsImR0SW5zdGFuY2UiLCJyZWxvYWREYXRhIiwiZGF0YSIsImNhbmNlbCIsImxvYWRpbmdUYWJsZSIsIm9wZW5UYXNrIiwiZXhlY19pZCIsIm9wZW5UYXNrSGlzdG9yeSIsImJyZWFkQ3J1bWJzIiwiZ2V0QWxsIiwibGVuZ3RoIiwibmFtZSIsInB1c2giLCJleGVjSWQiLCJ0aXRsZSIsInRhc2tfdGl0bGUiLCJtb3ZlVG9IaXN0b3J5SWZSdW5uaW5nVGFzayIsImV4ZWNzIiwiZXhlY3V0aW9uIiwidG9Mb3dlckNhc2UiLCJkdENvbHVtbnMiLCJoZWFkZXJzIiwiY29sdW1uIiwiY2xpY2thYmxlIiwiZGF0ZSIsImR0Q29sdW1uRGVmcyIsInRhc2tTdW1tYXJ5VGFibGVIaWRlQ29sdW1ucyIsImhpZGVDb2x1bW5zIiwiaSIsImhpZGVDb2x1bW4iLCJuZXdDb2x1bW5EZWYiLCJ3aXRoT3B0aW9uIiwiY2hhbmdlVG9Mb2NhbERhdGUiLCJ0eXBlIiwiZnVsbCIsIm1ldGEiLCJtb21lbnQiLCJmb3JtYXQiLCJjbGlja2FibGVDb2wiLCJuZXdDb2x1bW4iLCJ3aXRoVGl0bGUiLCJyZW5kZXJXaXRoIiwidW5zaGlmdCIsImdldFRhYmxlRGF0YSIsImRlZmVycmVkIiwiZGVmZXIiLCJtYXAiLCJyb3ciLCJ0YXNrX3R5cGUiLCJlbnZpcm9ubWVudF9uYW1lIiwiZXhlY3V0aW9uX25vdGUiLCJyZXNvbHZlIiwicHJvbWlzZSIsImR0T3B0aW9ucyIsImZyb21GblByb21pc2UiLCJ3aXRoRE9NIiwiYW5ndWxhciIsImNvbnRlbnRzIiwid2l0aEJ1dHRvbnMiLCJleHRlbmQiLCJ0ZXh0IiwiY29sdW1ucyIsImNhbGxiYWNrIiwiY29sdW1uSWR4IiwidmlzaWJsZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImRvd25sb2FkU3VtbWFyeVJlcG9ydCIsImdldFN1bW1hcnlSZXBvcnQiLCJidWlsZFN1bW1hcnlFeGNlbCIsInhsc3giLCJ3cml0ZUJ1ZmZlciIsImZpbGVOYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYm9keSIsImFwcGVuZENoaWxkIiwic3R5bGUiLCJmaWxlIiwiQmxvYiIsImZpbGVVUkwiLCJ3aW5kb3ciLCJVUkwiLCJ3ZWJraXRVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJocmVmIiwiZG93bmxvYWQiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsImR0SW5zdGFuY2VDYWxsYmFjayIsImlzRnVuY3Rpb24iLCJpc0RlZmluZWQiLCJjaGFuZ2VEYXRhIiwiY29udHJvbGxlckFzIiwibW9kdWxlIiwiZGlyZWN0aXZlIl0sIm1hcHBp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QUFFMkYsU0FBV2QsU0FDYjdFLEVBQUU0RixTQUNETixPQUFPQyxLQUFPRCxPQUFPRSxXQUFXSyxnQkFBZ0JWLGFBSzdEckcsZ0JBQWdCZ0gsbUJBQXFCLFNBQVUxRixZQUN2Q3dELFFBQVFtQyxXQUFXakgsZ0JBQWdCc0IsWUFDbkN0QixnQkFBZ0JzQixXQUFXQSxZQUNwQndELFFBQVFvQyxVQUFVbEgsZ0JBQWdCc0IsY0FDekN0QixnQkFBZ0JzQixXQUFhQSxhQUdRLE1BQXpDdEIsZ0JBQWdCc0IsV0FBVzZGLFlBQzNCbkgsZ0JBQWdCc0IsV0FBVzZGLFdBQVdsRCxnQkFFdEM3RSxTQUFTLEtBQ0xZLGdCQUFnQjBCLGNBQWUsU0FtQjNDMEYsYUFBYyxtQkFLdEJ0QyxRQUNLdUMsT0FBTyxVQUNQQyxVQUFVLHVCQUF3Qi9JIiwiZmlsZSI6ImRpcmVjdGl2ZXMvdGFza3MvdGFza1N1bW1hcnlEaXJlY3RpdmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB0YXNrU3VtbWFyeURpcmVjdGl2ZSgpIHtcblxuICAgIGNvbnN0IHRlbXBsYXRlID0gXCJ2aWV3cy90YXNrcy90YXNrU3VtbWFyeS5odG1sXCI7XG4gICAgLy92YXIgaW50ZXJ2YWxfcnVubm5pbmdfZmxhZyA9IGZhbHNlO1xuICAgIHZhciB0YXNrSWQ7XG4gICAgdmFyIGN1cnJlbnRUYXNrSWQ7XG5cbiAgICB2YXIgY29udHJvbGxlciA9IGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsIEJyZWFkQ3J1bWJzU2VydmljZSwgJGNvbXBpbGUsICR0aW1lb3V0LCBURE1TZXJ2aWNlLCBBdXRoU2VydmljZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEVENvbHVtbkJ1aWxkZXIsIERUT3B0aW9uc0J1aWxkZXIsIERUQ29sdW1uRGVmQnVpbGRlciwgJHEsICRzZXNzaW9uU3RvcmFnZSwgRXhjZWxTZXJ2aWNlLCB0b2FzdHIsICRpbnRlcnZhbCwgJHVpYk1vZGFsKSB7XG4gICAgICAgIHZhciB0YXNrU3VtbWFyeUN0cmwgPSB0aGlzO1xuICAgICAgICB2YXIgdXBkYXRlRGF0YSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBpZiAoJHNjb3BlLmNvbnRlbnQucGFnZURpc3BsYXkgIT09ICd0YXNrU3VtbWFyeScpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBURE1TZXJ2aWNlLmdldFN1bW1hcnlUYXNrSGlzdG9yeSh0YXNrU3VtbWFyeUN0cmwudGFza0RhdGEudGFza19pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JDb2RlICE9ICdTVUNDRVNTJykge1xuICAgICAgICAgICAgICAgICAgICAvL1RPRE8gc2hvdyBFcnJvclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmb3VuZFJ1bm5pbmcgPSBfLmZpbmQocmVzcG9uc2UucmVzdWx0LGZ1bmN0aW9uKGV4ZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4ZWMuZXhlY3V0aW9uX3N0YXR1cyAhPT0gJ2NvbXBsZXRlZCcgJiYgZXhlYy5leGVjdXRpb25fc3RhdHVzICE9PSAnZmFpbGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3VsdC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLnRhc2tfZXhlY3V0aW9uX2lkIDwgYi50YXNrX2V4ZWN1dGlvbl9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGEudGFza19leGVjdXRpb25faWQgPiBiLnRhc2tfZXhlY3V0aW9uX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0YXNrU3VtbWFyeUN0cmwudGFza0hpc3RvcnlEYXRhID0gcmVzcG9uc2UucmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmICh0YXNrU3VtbWFyeUN0cmwuZHRJbnN0YW5jZSAmJiB0YXNrU3VtbWFyeUN0cmwuZHRJbnN0YW5jZS5yZWxvYWREYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgdGFza1N1bW1hcnlDdHJsLmR0SW5zdGFuY2UucmVsb2FkRGF0YShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFmb3VuZFJ1bm5pbmcpe1xuICAgICAgICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHRhc2tTdW1tYXJ5Q3RybC5zdG9wSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0YXNrU3VtbWFyeUN0cmwudGFza0RhdGEgPSAkc2NvcGUuY29udGVudC50YXNrO1xuXG4gICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5zdG9wSW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHVwZGF0ZURhdGEoKTtcbiAgICAgICAgfSw3MDAwKTtcblxuICAgICAgICB0YXNrU3VtbWFyeUN0cmwubG9hZGluZ1RhYmxlID0gdHJ1ZTtcbiAgICAgICAgLy8gdGFza1N1bW1hcnlDdHJsLnVzZXJSb2xlID0gQXV0aFNlcnZpY2UuZ2V0Um9sZSgpO1xuICAgICAgICAvL3Rhc2tTdW1tYXJ5Q3RybC51c2VybmFtZSA9IEF1dGhTZXJ2aWNlLmdldFVzZXJuYW1lKCk7XG4gICAgICAgIC8vdGFza1N1bW1hcnlDdHJsLlRETVJlcG9ydHMgPSBBdXRoU2VydmljZS5nZXRURE1SZXBvcnRzKCk7XG5cbiAgICAgICAgLy8gQnJlYWRDcnVtYnNTZXJ2aWNlLmJyZWFkQ3J1bWJDaGFuZ2UoMik7XG5cbiAgICAgICAgdGFza1N1bW1hcnlDdHJsLm9wZW5UYXNrID0gZnVuY3Rpb24gKGV4ZWNfaWQpIHtcbiAgICAgICAgICAgICRzY29wZS5jb250ZW50LmV4ZWNfaWQgPSBleGVjX2lkO1xuICAgICAgICAgICAgaWYgKCRzY29wZS5jb250ZW50Lm9wZW5UYXNrSGlzdG9yeSkge1xuICAgICAgICAgICAgICAgIGlmICh0YXNrU3VtbWFyeUN0cmwudGFza0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY29udGVudC5vcGVuVGFza0hpc3RvcnkodGFza1N1bW1hcnlDdHJsLnRhc2tEYXRhLCBleGVjX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJyZWFkQ3J1bWIgPSAnVEFTS19FWEVDVVRJT05fSElTVE9SWSc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBicmVhZENydW1icyA9IEJyZWFkQ3J1bWJzU2VydmljZS5nZXRBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJyZWFkQ3J1bWJzW2JyZWFkQ3J1bWJzLmxlbmd0aC0xXS5uYW1lID09PSBicmVhZENydW1iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEJyZWFkQ3J1bWJzU2VydmljZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNJZDogZXhlY19pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0YXNrU3VtbWFyeUN0cmwudGFza0RhdGEudGFza190aXRsZVxuICAgICAgICAgICAgICAgICAgICB9LCBicmVhZENydW1iLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29udGVudC5vcGVuVGFza0hpc3RvcnkodGFza1N1bW1hcnlDdHJsLnRhc2tEYXRhLCBleGVjX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRlbnQucGFnZURpc3BsYXkgPSAndGFza0hpc3RvcnknO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGFza1N1bW1hcnlDdHJsLm1vdmVUb0hpc3RvcnlJZlJ1bm5pbmdUYXNrID0gZXhlY3MgPT4ge1xuICAgICAgICAgICAgaWYgKCFleGVjcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoZXhlY3V0aW9uIG9mIGV4ZWNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4ZWN1dGlvbi5leGVjdXRpb25fc3RhdHVzLnRvTG93ZXJDYXNlKCkgPT0gJ3J1bm5pbmcnIHx8IGV4ZWN1dGlvbi5leGVjdXRpb25fc3RhdHVzLnRvTG93ZXJDYXNlKCkgPT0gJ3BlbmRpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5vcGVuVGFzayhleGVjdXRpb24udGFza19leGVjdXRpb25faWQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGJ1aWxkVGFibGUgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgVERNU2VydmljZS5nZXRTdW1tYXJ5VGFza0hpc3RvcnkodGFza1N1bW1hcnlDdHJsLnRhc2tEYXRhLnRhc2tfaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JDb2RlICE9ICdTVUNDRVNTJykge1xuICAgICAgICAgICAgICAgIC8vVE9ETyBzaG93IEVycm9yXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNwb25zZS5yZXN1bHQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYS50YXNrX2V4ZWN1dGlvbl9pZCA8IGIudGFza19leGVjdXRpb25faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLnRhc2tfZXhlY3V0aW9uX2lkID4gYi50YXNrX2V4ZWN1dGlvbl9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgdGFza1N1bW1hcnlDdHJsLm1vdmVUb0hpc3RvcnlJZlJ1bm5pbmdUYXNrKHJlc3BvbnNlLnJlc3VsdCk7XG5cbiAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC50YXNrSGlzdG9yeURhdGEgPSByZXNwb25zZS5yZXN1bHQ7XG5cbiAgICAgICAgICAgIGN1cnJlbnRUYXNrSWQgPSB0YXNrU3VtbWFyeUN0cmwudGFza0RhdGEudGFza19pZDtcblxuICAgICAgICAgICAgdGFza1N1bW1hcnlDdHJsLmR0SW5zdGFuY2UgPSB7fTtcbiAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5kdENvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5oZWFkZXJzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAndGFza19leGVjdXRpb25faWQnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVGFzayBFeGVjdXRpb24gSWQnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAnZXhlY3V0aW9uX3N0YXR1cycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFeGVjdXRpb24gU3RhdHVzJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICdzb3VyY2VfZW52X25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU291cmNlIEVudmlyb25tZW50IE5hbWUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ2Vudmlyb25tZW50X25hbWUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVGFyZ2V0IEVudmlyb25tZW50IE5hbWUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3Rhc2tfZXhlY3V0ZWRfYnknLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVGFzayBFeGVjdXRlZCBieScsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAnYmVfbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdCdXNpbmVzcyBFbnRpdHkgTmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAnc3RhcnRfZXhlY3V0aW9uX3RpbWUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU3RhcnQgRXhlY3V0aW9uIFRpbWUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ2VuZF9leGVjdXRpb25fdGltZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFbmQgRXhlY3V0aW9uIFRpbWUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3RvdF9udW1fb2ZfcHJvY2Vzc2VkX3Jvb3RfZW50aXRpZXMnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVG90YWwgTnVtYmVyIG9mIFByb2Nlc3NlZCBFbnRpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAndG90X251bV9vZl9jb3BpZWRfcm9vdF9lbnRpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOdW1iZXIgb2YgU3VjY2Vzc2Z1bCBFbnRpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAndG90X251bV9vZl9mYWlsZWRfcm9vdF9lbnRpdGllcycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOdW1iZXIgb2YgRmFpbGVkIEVudGl0aWVzJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICd0b3RfbnVtX29mX3Byb2Nlc3NlZF9yZWZfdGFibGVzJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1RvdGFsIE51bWJlciBvZiBQcm9jZXNzZWQgUmVmZXJlbmNlIFRhYmxlcycsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAndG90X251bV9vZl9jb3BpZWRfcmVmX3RhYmxlcycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdOdW1iZXIgb2YgQ29waWVkIFJlZmVyZW5jZSBUYWJsZXMnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3RvdF9udW1fb2ZfZmFpbGVkX3JlZl90YWJsZXMnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTnVtYmVyIG9mIEZhaWxlZCBSZWZlcmVuY2UgVGFibGVzJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW46ICd0b3RfbnVtX29mX3Byb2Nlc3NlZF9wb3N0X2V4ZWN1dGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVG90YWwgTnVtYmVyIG9mIFByb2Nlc3NlZCBQb3N0IEV4ZWN1dGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3RvdF9udW1fb2Zfc3VjY2VlZGVkX3Bvc3RfZXhlY3V0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUb3RhbCBOdW1iZXIgb2YgU3VjY2Vzc2Z1bCBQb3N0IEV4ZWN1dGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogJ3RvdF9udW1fb2ZfZmFpbGVkX3Bvc3RfZXhlY3V0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdUb3RhbCBOdW1iZXIgb2YgRmFpbGVkIFBvc3QgRXhlY3V0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAnZXhlY3V0aW9uX25vdGUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRXhlY3V0aW9uIE5vdGUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgdGFza1N1bW1hcnlDdHJsLmR0Q29sdW1uRGVmcyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoJHNlc3Npb25TdG9yYWdlLnRhc2tTdW1tYXJ5VGFibGVIaWRlQ29sdW1ucykge1xuICAgICAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5oaWRlQ29sdW1ucyA9ICRzZXNzaW9uU3RvcmFnZS50YXNrU3VtbWFyeVRhYmxlSGlkZUNvbHVtbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXNrU3VtbWFyeUN0cmwuaGlkZUNvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFza1N1bW1hcnlDdHJsLmhpZGVDb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhpZGVDb2x1bW4gPSBEVENvbHVtbkRlZkJ1aWxkZXIubmV3Q29sdW1uRGVmKHRhc2tTdW1tYXJ5Q3RybC5oaWRlQ29sdW1uc1tpXSlcbiAgICAgICAgICAgICAgICAgICAgLndpdGhPcHRpb24oJ3Zpc2libGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy90cnkgdG8gY29tbWVudCBvdXQgdGhlIGxpbmUgYmVsb3dcbiAgICAgICAgICAgICAgICB0YXNrU3VtbWFyeUN0cmwuZHRDb2x1bW5EZWZzLnB1c2goaGlkZUNvbHVtbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaGFuZ2VUb0xvY2FsRGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCB0eXBlLCBmdWxsLCBtZXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkYXRhKS5mb3JtYXQoJ0REIE1NTSBZWVlZLCBISDptbTpzcycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgdGFza0hpc3RvcnlBY3Rpb25zID0gZnVuY3Rpb24gKGRhdGEsIHR5cGUsIGZ1bGwsIG1ldGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzxhIG5nLWNsaWNrPVwidGFza1N1bW1hcnlDdHJsLmRvd25sb2FkU3VtbWFyeVJlcG9ydChcXCcnICsgZnVsbC50YXNrX2V4ZWN1dGlvbl9pZCArICdcXCcpXCIgIHN0eWxlPVwibWFyZ2luLWxlZnQ6IDVweDtib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyBjb2xvcjogYmxhY2s7XCIgdGl0bGU9XCJEb3dubG9hZCBTdW1tYXJ5IFJlcG9ydFwiPjxpbWcgc3JjPVwiaWNvbnMvc3VtbWFyeS1yZXBvcnQuc3ZnXCI+PC9pbWc+IDwvYT4nO1xuICAgICAgICAgICAgfTtcblxuXG4gICAgICAgICAgICB2YXIgY2xpY2thYmxlQ29sID0gKGRhdGEsIHR5cGUsIGZ1bGwpID0+ICc8YSBuZy1jbGljaz1cInRhc2tTdW1tYXJ5Q3RybC5vcGVuVGFzayhcXCcnICsgZnVsbC50YXNrX2V4ZWN1dGlvbl9pZCArICdcXCcpXCI+JyArIGRhdGEgKyAnPC9hPic7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFza1N1bW1hcnlDdHJsLmhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGFza1N1bW1hcnlDdHJsLmhlYWRlcnNbaV0uY2xpY2thYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5kdENvbHVtbnMucHVzaChEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKHRhc2tTdW1tYXJ5Q3RybC5oZWFkZXJzW2ldLmNvbHVtbikud2l0aFRpdGxlKHRhc2tTdW1tYXJ5Q3RybC5oZWFkZXJzW2ldLm5hbWUpLnJlbmRlcldpdGgoY2xpY2thYmxlQ29sKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXNrU3VtbWFyeUN0cmwuaGVhZGVyc1tpXS5kYXRlID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza1N1bW1hcnlDdHJsLmR0Q29sdW1ucy5wdXNoKERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4odGFza1N1bW1hcnlDdHJsLmhlYWRlcnNbaV0uY29sdW1uKS53aXRoVGl0bGUodGFza1N1bW1hcnlDdHJsLmhlYWRlcnNbaV0ubmFtZSkucmVuZGVyV2l0aChjaGFuZ2VUb0xvY2FsRGF0ZSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5kdENvbHVtbnMucHVzaChEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKHRhc2tTdW1tYXJ5Q3RybC5oZWFkZXJzW2ldLmNvbHVtbikud2l0aFRpdGxlKHRhc2tTdW1tYXJ5Q3RybC5oZWFkZXJzW2ldLm5hbWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5kdENvbHVtbnMudW5zaGlmdChEVENvbHVtbkJ1aWxkZXIubmV3Q29sdW1uKCd0YXNrSGlzdG9yeUFjdGlvbnMnKS53aXRoVGl0bGUoJycpLnJlbmRlcldpdGgodGFza0hpc3RvcnlBY3Rpb25zKS53aXRoT3B0aW9uKCd3aWR0aCcsICc1MCcpKTtcblxuICAgICAgICAgICAgdmFyIGdldFRhYmxlRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBfLm1hcCh0YXNrU3VtbWFyeUN0cmwudGFza0hpc3RvcnlEYXRhLCByb3cgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm93LnRhc2tfdHlwZSA9PT0gJ0VYVFJBQ1QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3cuZW52aXJvbm1lbnRfbmFtZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJvdy5leGVjdXRpb25fbm90ZSA9IHJvdy5leGVjdXRpb25fbm90ZSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGFza1N1bW1hcnlDdHJsLmR0T3B0aW9ucyA9IERUT3B0aW9uc0J1aWxkZXIuZnJvbUZuUHJvbWlzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRhYmxlRGF0YSgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAud2l0aERPTSgnPFwiaHRtbDVidXR0b25zXCJCPmxUZmdpdHAnKVxuICAgICAgICAgICAgICAgIC53aXRoT3B0aW9uKCdjcmVhdGVkUm93JywgZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWNvbXBpbGluZyBzbyB3ZSBjYW4gYmluZCBBbmd1bGFyIGRpcmVjdGl2ZSB0byB0aGUgRFRcbiAgICAgICAgICAgICAgICAgICAgJGNvbXBpbGUoYW5ndWxhci5lbGVtZW50KHJvdykuY29udGVudHMoKSkoJHNjb3BlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC53aXRoT3B0aW9uKCdwYWdpbmcnLCB0cnVlKVxuICAgICAgICAgICAgICAgIC53aXRoT3B0aW9uKCdvcmRlcicsIFswLCAnZGVzYyddKVxuICAgICAgICAgICAgICAgIC53aXRoT3B0aW9uKCdzY3JvbGxYJywgZmFsc2UpXG4gICAgICAgICAgICAgICAgLndpdGhCdXR0b25zKFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kOiAnY29sdmlzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdTaG93L0hpZGUgY29sdW1ucycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiBbIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY29sdW1uSWR4LCB2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZpc2libGUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0YXNrU3VtbWFyeUN0cmwuaGlkZUNvbHVtbnMuaW5kZXhPZihjb2x1bW5JZHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza1N1bW1hcnlDdHJsLmhpZGVDb2x1bW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRhc2tTdW1tYXJ5Q3RybC5oaWRlQ29sdW1ucy5pbmRleE9mKGNvbHVtbklkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5oaWRlQ29sdW1ucy5wdXNoKGNvbHVtbklkeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlc3Npb25TdG9yYWdlLnRhc2tTdW1tYXJ5VGFibGVIaWRlQ29sdW1ucyA9IHRhc2tTdW1tYXJ5Q3RybC5oaWRlQ29sdW1uc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5kb3dubG9hZFN1bW1hcnlSZXBvcnQgPSBmdW5jdGlvbiAoZXhlY0lkKSB7XG4gICAgICAgICAgICAgICAgVERNU2VydmljZS5nZXRTdW1tYXJ5UmVwb3J0KGV4ZWNJZCwgJ0FMTCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT0gXCJGQUlMRURcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHdvcmtib29rID0gRXhjZWxTZXJ2aWNlLmJ1aWxkU3VtbWFyeUV4Y2VsKHJlc3BvbnNlLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtib29rLnhsc3gud3JpdGVCdWZmZXIoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBgJHt0YXNrU3VtbWFyeUN0cmwudGFza0RhdGEudGFza190aXRsZX1fU3VtbWFyeV9FeGVjdXRpb25fUmVwb3J0X0VYRUNJRF8ke2V4ZWNJZH0ueGxzeGA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgQmxvYihbZGF0YV0sIHt0eXBlOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJ30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVVUkwgPSAod2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMKS5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmhyZWYgPSBmaWxlVVJMO1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5kb3dubG9hZCA9IGZpbGVOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCkucmV2b2tlT2JqZWN0VVJMKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5kdEluc3RhbmNlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZHRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGFza1N1bW1hcnlDdHJsLmR0SW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5kdEluc3RhbmNlKGR0SW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0RlZmluZWQodGFza1N1bW1hcnlDdHJsLmR0SW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdW1tYXJ5Q3RybC5kdEluc3RhbmNlID0gZHRJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRhc2tTdW1tYXJ5Q3RybC5kdEluc3RhbmNlLmNoYW5nZURhdGEgIT0gbnVsbClcbiAgICAgICAgICAgICAgICB0YXNrU3VtbWFyeUN0cmwuZHRJbnN0YW5jZS5jaGFuZ2VEYXRhKGdldFRhYmxlRGF0YSgpKTtcblxuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFza1N1bW1hcnlDdHJsLmxvYWRpbmdUYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG5cbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRUFcIixcbiAgICAgICAgdGVtcGxhdGVVcmw6IHRlbXBsYXRlLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgY29udGVudDogJz0nXG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3Rhc2tTdW1tYXJ5Q3RybCdcbiAgICB9O1xufVxuXG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdURE0tRkUnKVxuICAgIC5kaXJlY3RpdmUoJ3Rhc2tTdW1tYXJ5RGlyZWN0aXZlJywgdGFza1N1bW1hcnlEaXJlY3RpdmUpO1xuIl19
