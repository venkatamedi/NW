function permissionGroupsTableDirective(){return{restrict:"E",templateUrl:"views/permissionGroups/permissionGroupsTable.html",scope:{content:"="},controller:function($scope,$compile,TDMService,DTColumnBuilder,DTOptionsBuilder,$q,$timeout,toastr,$uibModal){var permissionGroupsTableCtrl=this;permissionGroupsTableCtrl.loadingTable=!0,permissionGroupsTableCtrl.initTable=()=>{permissionGroupsTableCtrl.dtInstance={},permissionGroupsTableCtrl.dtColumns=[],permissionGroupsTableCtrl.dtColumnDefs=[],permissionGroupsTableCtrl.headers=[{column:"permission_group",name:"Permission Group",clickAble:!0},{column:"fabric_role",name:"Fabric Role",clickAble:!1},{column:"description",name:"Description",clickAble:!1},{column:"creation_date",name:"Creation Date",clickAble:!1,type:"date"},{column:"created_by",name:"Created By",clickAble:!1},{column:"update_date",name:"Last Update Date",clickAble:!1,type:"date"},{column:"updated_by",name:"Updated By",clickAble:!1}];for(var changeToLocalDate=function(data,type,full,meta){return moment(data).format("DD MMM YYYY, HH:mm")},i=0;i<permissionGroupsTableCtrl.headers.length;i++)"date"==permissionGroupsTableCtrl.headers[i].type?permissionGroupsTableCtrl.dtColumns.push(DTColumnBuilder.newColumn(permissionGroupsTableCtrl.headers[i].column).withTitle(permissionGroupsTableCtrl.headers[i].name).renderWith(changeToLocalDate)):permissionGroupsTableCtrl.dtColumns.push(DTColumnBuilder.newColumn(permissionGroupsTableCtrl.headers[i].column).withTitle(permissionGroupsTableCtrl.headers[i].name));permissionGroupsTableCtrl.dtColumns.unshift(DTColumnBuilder.newColumn("permissionGruopActions").withTitle("").renderWith((function(data,type,full,meta){let message=`The users of ${full.fabric_role} will be removed from their environments and will no longer be owners of TDM environments and their reserved entities need to be released. Are you sure you want to delete the permissions group?`;"tester"===full.permission_group?message=`The users of ${full.fabric_role} will be removed from their environments and will no longer be able to create or execute TDM tasks. Their reserved entities need to be released. Are you sure you want to delete the permissions group?`:"admin"===full.permission_group&&(message=`The users of ${full.fabric_role} will no longer be authorized as TDM admin users and their reserved entities need to be released. Are you sure you want to delete the permission group?`);return`\n                <div style="display: flex;justify-content: space-around;max-width: 100px;">\n                    <div>\n                    <img "\n                    style="cursor:pointer"\n                    uib-tooltip="Delete Permission Group Mapping" \n                    tooltip-placement="right" \n                    tooltip-append-to-body="true"\n                    mwl-confirm="" \n                    message="${message}" \n                    confirm-text="Yes <i class='glyphicon glyphicon-ok'</i>" \n                    cancel-text="No <i class='glyphicon glyphicon-remove'></i>" \n                    placement="right" \n                    on-confirm="permissionGroupsTableCtrl.deletePermisionGroup('${full.fabric_role}')" \n                    on-cancel="cancelClicked = true" \n                    confirm-button-type="danger" \n                    cancel-button-type="default" \n                    role-handler="" \n                    role="0"\n                    src="icons/delete-icon.svg"\n                    alt="delete"\n                </img>\n                    </div>\n                    <div>\n                        <img\n                             src="icons/edit.svg"\n                             alt="edit"\n                            uib-tooltip="Edit Permission Group Mapping" \n                            tooltip-append-to-body="true"\n                            tooltip-placement="right" \n                            role-handler="" role="0" \n                            ng-click="permissionGroupsTableCtrl.openNewPermissionGroupModal('${full.fabric_role}')">\n                    </div>\n                    </div>\n                    `})));var getTableData=function(){var deferred=$q.defer();return deferred.resolve(permissionGroupsTableCtrl.permissionGroupsData),deferred.promise};permissionGroupsTableCtrl.dtOptions=DTOptionsBuilder.fromFnPromise((function(){return getTableData()})).withDOM('<"html5buttons"B>lTfgitp').withOption("createdRow",(function(row){$compile(angular.element(row).contents())($scope)})).withOption("scrollX",!1).withOption("aaSorting",[5,"asc"]).withButtons([]).withOption("search",{caseInsensitive:!1}),permissionGroupsTableCtrl.productsData&&permissionGroupsTableCtrl.productsData.length>0&&permissionGroupsTableCtrl.dtOptions.withLightColumnFilter({0:{type:"select",values:_.map(_.unique(_.map(permissionGroupsTableCtrl.productsData,"permission_group")),(function(el){return{value:el,label:el}}))},1:{type:"select",values:_.map(_.unique(_.map(permissionGroupsTableCtrl.productsData,"fabric_role")),(function(el){return{value:el,label:el}}))},2:{type:"text"},3:{type:"text"},4:{type:"text"},5:{type:"text"},6:{type:"text"}}),permissionGroupsTableCtrl.dtInstanceCallback=function(dtInstance){angular.isFunction(permissionGroupsTableCtrl.dtInstance)?permissionGroupsTableCtrl.dtInstance(dtInstance):angular.isDefined(permissionGroupsTableCtrl.dtInstance)&&(permissionGroupsTableCtrl.dtInstance=dtInstance)},null!=permissionGroupsTableCtrl.dtInstance.changeData&&permissionGroupsTableCtrl.dtInstance.changeData(getTableData()),$timeout(()=>{permissionGroupsTableCtrl.loadingTable=!1})},permissionGroupsTableCtrl.getData=()=>{TDMService.getPermissionGroups().then(response=>{"SUCCESS"==response.errorCode&&(permissionGroupsTableCtrl.permissionGroupsData=response.result,permissionGroupsTableCtrl.dtInstance?permissionGroupsTableCtrl.dtInstance.reloadData((function(data){}),!0):permissionGroupsTableCtrl.initTable())})},permissionGroupsTableCtrl.getData(),permissionGroupsTableCtrl.deletePermisionGroup=fabric_role=>{console.log("delete permission group,"+fabric_role),TDMService.deleteRoleFromPermissionGroup(fabric_role).then(response=>{if("SUCCESS"==response.errorCode){const index=_.findIndex(permissionGroupsTableCtrl.permissionGroupsData,{fabric_role:fabric_role});index>=0&&(permissionGroupsTableCtrl.permissionGroupsData.splice(index,1),permissionGroupsTableCtrl.dtInstance.reloadData((function(data){}),!0))}else toastr.error(`Unable to remove Role ${fabric_role}, err=[${response.message}]`)})},permissionGroupsTableCtrl.openNewPermissionGroupModal=fabric_role=>{let row=null;fabric_role&&(row=_.find(permissionGroupsTableCtrl.permissionGroupsData,{fabric_role:fabric_role})),$uibModal.open({templateUrl:"views/permissionGroups/newPermissionGroup.html",resolve:{attachedRoles:()=>_.map(permissionGroupsTableCtrl.permissionGroupsData,"fabric_role")||[],oldRecord:()=>row},controller:function($scope,$uibModalInstance,AuthService,TDMService,toastr,attachedRoles,oldRecord){var newPermisionGroupCtrl=this;oldRecord&&(newPermisionGroupCtrl.edit=!0,newPermisionGroupCtrl.oldPermissionGroup=oldRecord.permission_group,newPermisionGroupCtrl.permissionGroup=oldRecord.permission_group,newPermisionGroupCtrl.fabricRole=oldRecord.fabric_role,newPermisionGroupCtrl.oldfabricRole=oldRecord.fabric_role,newPermisionGroupCtrl.description=oldRecord.description),newPermisionGroupCtrl.permissionGroups=AuthService.getPermissionGroups(),newPermisionGroupCtrl.permissionGroups=_.map(newPermisionGroupCtrl.permissionGroups,permissionGroup=>({name:permissionGroup,value:permissionGroup})),TDMService.getFabricRoles().then(response=>{"SUCCESS"===response.errorCode?newPermisionGroupCtrl.fabricRoles=_.filter(response.result,role=>attachedRoles.indexOf(role)<0||newPermisionGroupCtrl.edit&&role===oldRecord.fabric_role):toastr.error(`Unable to get Fabric Roles, err=[${err.message}]`)}).catch(err=>{toastr.error(`Unable to get Fabric Roles, err=[${err.message}]`)}),newPermisionGroupCtrl.attachRoleToPermissionGroup=()=>{newPermisionGroupCtrl.edit?TDMService.updateRoleToPermissionGroup(newPermisionGroupCtrl.permissionGroup,oldRecord.fabric_role,newPermisionGroupCtrl.fabricRole,newPermisionGroupCtrl.description||"").then(response=>{"SUCCESS"===response.errorCode?($uibModalInstance.close(!0),toastr.success("Updated Mapping Fabric Role and Permission Group Successfully")):toastr.error(`Unable to update Fabric Role to Permission Group, err=[${err.message}]`)}).catch(err=>{toastr.error(`Unable to update Fabric Role to Permission Group, err=[${err.message}]`)}):TDMService.attachRoleToPermissionGroup(newPermisionGroupCtrl.permissionGroup,newPermisionGroupCtrl.fabricRole,newPermisionGroupCtrl.description||"").then(response=>{"SUCCESS"===response.errorCode?($uibModalInstance.close(!0),toastr.success("Successfully Added new Mapping")):toastr.error(`Unable to attach Fabric Role to Permission Group, err=[${err.message}]`)}).catch(err=>{toastr.error(`Unable to attach Fabric Role to Permission Group, err=[${err.message}]`)})},newPermisionGroupCtrl.close=function(){$uibModalInstance.close()}},controllerAs:"newPermisionGroupCtrl"}).result.then((function(result){result&&permissionGroupsTableCtrl.getData()}))}},controllerAs:"permissionGroupsTableCtrl"}}angular.module("TDM-FE").directive("permissionGroupsTableDirective",permissionGroupsTableDirective);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpcmVjdGl2ZXMvcGVybWlzc2lvbkdyb3Vwcy9wZXJtaXNzaW9uR3JvdXBzVGFibGUuanMiXSwibmFtZXMiOlsicGVybWlzc2lvbkdyb3Vwc1RhYmxlRGlyZWN0aXZlIiwicmVzdHJpY3QiLCJ0ZW1wbGF0ZVVybCIsInNjb3BlIiwiY29udGVudCIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkY29tcGlsZSIsIlRETVNlcnZpY2UiLCJEVENvbHVtbkJ1aWxkZXIiLCJEVE9wdGlvbnNCdWlsZGVyIiwiJHEiLCIkdGltZW91dCIsInRvYXN0ciIsIiR1aWJNb2RhbCIsInBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwiLCJ0aGlzIiwibG9hZGluZ1RhYmxlIiwiaW5pdFRhYmxlIiwiZHRJbnN0YW5jZSIsImR0Q29sdW1ucyIsImR0Q29sdW1uRGVmcyIsImhlYWRlcnMiLCJjb2x1bW4iLCJuYW1lIiwiY2xpY2tBYmxlIiwidHlwZSIsImNoYW5nZVRvTG9jYWxEYXRlIiwiZGF0YSIsImZ1bGwiLCJtZXRhIiwibW9tZW50IiwiZm9ybWF0IiwiaSIsImxlbmd0aCIsInB1c2giLCJuZXdDb2x1bW4iLCJ3aXRoVGl0bGUiLCJyZW5kZXJXaXRoIiwidW5zaGlmdCIsIm1lc3NhZ2UiLCJmYWJyaWNfcm9sZSIsInBlcm1pc3Npb25fZ3JvdXAiLCJnZXRUYWJsZURhdGEiLCJkZWZlcnJlZCIsImRlZmVyIiwicmVzb2x2ZSIsInBlcm1pc3Npb25Hcm91cHNEYXRhIiwicHJvbWlzZSIsImR0T3B0aW9ucyIsImZyb21GblByb21pc2UiLCJ3aXRoRE9NIiwid2l0aE9wdGlvbiIsInJvdyIsImFuZ3VsYXIiLCJlbGVtZW50IiwiY29udGVudHMiLCJ3aXRoQnV0dG9ucyIsImNhc2VJbnNlbnNpdGl2ZSIsInByb2R1Y3RzRGF0YSIsIndpdGhMaWdodENvbHVtbkZpbHRlciIsIjAiLCJ2YWx1ZXMiLCJfIiwibWFwIiwidW5pcXVlIiwiZWwiLCJ2YWx1ZSIsImxhYmVsIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiZHRJbnN0YW5jZUNhbGxiYWNrIiwiaXNGdW5jdGlvbiIsImlzRGVmaW5lZCIsImNoYW5nZURhdGEiLCJnZXREYXRhIiwiZ2V0UGVybWlzc2lvbkdyb3VwcyIsInRoZW4iLCJyZXNwb25zZSIsImVycm9yQ29kZSIsInJlc3VsdCIsInJlbG9hZERhdGEiLCJkZWxldGVQZXJtaXNpb25Hcm91cCIsImNvbnNvbGUiLCJsb2ciLCJkZWxldGVSb2xlRnJvbVBlcm1pc3Npb25Hcm91cCIsImluZGV4IiwiZmluZEluZGV4Iiwic3BsaWNlIiwiZXJyb3IiLCJvcGVuTmV3UGVybWlzc2lvbkdyb3VwTW9kYWwiLCJmaW5kIiwib3BlbiIsImF0dGFjaGVkUm9sZXMiLCJvbGRSZWNvcmQiLCIkdWliTW9kYWxJbnN0YW5jZSIsIkF1dGhTZXJ2aWNlIiwibmV3UGVybWlzaW9uR3JvdXBDdHJsIiwiZWRpdCIsIm9sZFBlcm1pc3Npb25Hcm91cCIsInBlcm1pc3Npb25Hcm91cCIsImZhYnJpY1JvbGUiLCJvbGRmYWJyaWNSb2xlIiwiZGVzY3JpcHRpb24iLCJwZXJtaXNzaW9uR3JvdXBzIiwiZ2V0RmFicmljUm9sZXMiLCJmYWJyaWNSb2xlcyIsImZpbHRlciIsInJvbGUiLCJpbmRleE9mIiwiZXJyIiwiY2F0Y2giLCJhdHRhY2hSb2xlVG9QZXJtaXNzaW9uR3JvdXAiLCJ1cGRhdGVSb2xlVG9QZXJtaXNzaW9uR3JvdXAiLCJjbG9zZSIsInN1Y2Nlc3MiLCJjb250cm9sbGVyQXMiLCJtb2R1bGUiLCJkaXJlY3RpdmUiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGlDQXNUTCxNQUFPLENBQ0hDLFNBQVUsSUFDVkMsWUF0VFcsb0RBdVRYQyxNQUFPLENBQ0hDLFFBQVMsS0FFYkMsV0F4VGEsU0FBVUMsT0FBT0MsU0FBU0MsV0FBV0MsZ0JBQWdCQyxpQkFBaUJDLEdBQUlDLFNBQVVDLE9BQVFDLFdBQ3pHLElBQUlDLDBCQUE0QkMsS0FFaENELDBCQUEwQkUsY0FBZSxFQUN6Q0YsMEJBQTBCRyxVQUFZLEtBQ2xDSCwwQkFBMEJJLFdBQWEsR0FDdkNKLDBCQUEwQkssVUFBWSxHQUN0Q0wsMEJBQTBCTSxhQUFlLEdBQ3pDTiwwQkFBMEJPLFFBQVUsQ0FDaEMsQ0FDSUMsT0FBUyxtQkFDVEMsS0FBTyxtQkFDUEMsV0FBWSxHQUVoQixDQUNJRixPQUFTLGNBQ1RDLEtBQU8sY0FDUEMsV0FBWSxHQUVoQixDQUNJRixPQUFTLGNBQ1RDLEtBQU8sY0FDUEMsV0FBWSxHQUVoQixDQUNJRixPQUFTLGdCQUNUQyxLQUFPLGdCQUNQQyxXQUFZLEVBQ1pDLEtBQU0sUUFFVixDQUNJSCxPQUFTLGFBQ1RDLEtBQU8sYUFDUEMsV0FBWSxHQUVoQixDQUNJRixPQUFTLGNBQ1RDLEtBQU8sbUJBQ1BDLFdBQVksRUFDWkMsS0FBTSxRQUVWLENBQ0lILE9BQVMsYUFDVEMsS0FBTyxhQUNQQyxXQUFZLElBcURwQixJQWpEQSxJQUFJRSxrQkFBb0IsU0FBU0MsS0FBTUYsS0FBTUcsS0FBTUMsTUFDL0MsT0FBT0MsT0FBT0gsTUFBTUksT0FBTyx1QkFnRHRCQyxFQUFJLEVBQUdBLEVBQUtsQiwwQkFBMEJPLFFBQVFZLE9BQVNELElBQ1gsUUFBN0NsQiwwQkFBMEJPLFFBQVFXLEdBQUdQLEtBQ3JDWCwwQkFBMEJLLFVBQVVlLEtBQUsxQixnQkFBZ0IyQixVQUFVckIsMEJBQTBCTyxRQUFRVyxHQUFHVixRQUFRYyxVQUFVdEIsMEJBQTBCTyxRQUFRVyxHQUFHVCxNQUFNYyxXQUFXWCxvQkFHaExaLDBCQUEwQkssVUFBVWUsS0FBSzFCLGdCQUFnQjJCLFVBQVVyQiwwQkFBMEJPLFFBQVFXLEdBQUdWLFFBQVFjLFVBQVV0QiwwQkFBMEJPLFFBQVFXLEdBQUdULE9BSXZLVCwwQkFBMEJLLFVBQVVtQixRQUFROUIsZ0JBQWdCMkIsVUFBVSwwQkFBMEJDLFVBQVUsSUFBSUMsWUF0RGpGLFNBQVVWLEtBQU1GLEtBQU1HLEtBQU1DLE1BQ3JELElBQUlVLFFBQVUsZ0JBQWdCWCxLQUFLWSwrTUFDTCxXQUExQlosS0FBS2EsaUJBQ0xGLFFBQVUsZ0JBQWdCWCxLQUFLWSxxTkFDRSxVQUExQlosS0FBS2EsbUJBQ1pGLFFBQVUsZ0JBQWdCWCxLQUFLWSxzS0FxQ25DLE1BbkNnQiw4YUFTREQsdVNBSW1EWCxLQUFLWSxrMkJBa0JRWixLQUFLWSxvR0FrQnhGLElBQUlFLGFBQWUsV0FDZixJQUFJQyxTQUFXakMsR0FBR2tDLFFBRWxCLE9BREFELFNBQVNFLFFBQVEvQiwwQkFBMEJnQyxzQkFDcENILFNBQVNJLFNBR3BCakMsMEJBQTBCa0MsVUFBWXZDLGlCQUFpQndDLGVBQWMsV0FDN0QsT0FBT1Asa0JBRVZRLFFBQVEsNEJBQ1JDLFdBQVcsY0FBYyxTQUFVQyxLQUVoQzlDLFNBQVMrQyxRQUFRQyxRQUFRRixLQUFLRyxXQUE5QmpELENBQTBDRCxXQUU3QzhDLFdBQVcsV0FBVyxHQUN0QkEsV0FBVyxZQUFhLENBQUMsRUFBRyxRQUM1QkssWUFBWSxJQUVaTCxXQUFXLFNBQVMsQ0FDakJNLGlCQUFtQixJQUduQjNDLDBCQUEwQjRDLGNBQWdCNUMsMEJBQTBCNEMsYUFBYXpCLE9BQVMsR0FDMUZuQiwwQkFBMEJrQyxVQUFVVyxzQkFBc0IsQ0FDbERDLEVBQUksQ0FDQW5DLEtBQU0sU0FDTm9DLE9BQVFDLEVBQUVDLElBQUlELEVBQUVFLE9BQU9GLEVBQUVDLElBQUlqRCwwQkFBMEI0QyxhQUFjLHNCQUFxQixTQUFTTyxJQUMvRixNQUFPLENBQUNDLE1BQVFELEdBQUdFLE1BQU9GLFFBR2xDRyxFQUFJLENBQ0EzQyxLQUFNLFNBQ05vQyxPQUFRQyxFQUFFQyxJQUFJRCxFQUFFRSxPQUFPRixFQUFFQyxJQUFJakQsMEJBQTBCNEMsYUFBYyxpQkFBZ0IsU0FBU08sSUFDMUYsTUFBTyxDQUFDQyxNQUFRRCxHQUFHRSxNQUFPRixRQUdsQ0ksRUFBSSxDQUNBNUMsS0FBTSxRQUVWNkMsRUFBSSxDQUNBN0MsS0FBTSxRQUVWOEMsRUFBSSxDQUNBOUMsS0FBTSxRQUVWK0MsRUFBSSxDQUNBL0MsS0FBTSxRQUVWZ0QsRUFBSSxDQUNBaEQsS0FBTSxVQUsxQlgsMEJBQTBCNEQsbUJBQXFCLFNBQVV4RCxZQUNqRG1DLFFBQVFzQixXQUFXN0QsMEJBQTBCSSxZQUM3Q0osMEJBQTBCSSxXQUFXQSxZQUM5Qm1DLFFBQVF1QixVQUFVOUQsMEJBQTBCSSxjQUNuREosMEJBQTBCSSxXQUFhQSxhQUdRLE1BQW5ESiwwQkFBMEJJLFdBQVcyRCxZQUNyQy9ELDBCQUEwQkksV0FBVzJELFdBQVduQyxnQkFDaEQvQixTQUFTLEtBQ0xHLDBCQUEwQkUsY0FBZSxLQUtyREYsMEJBQTBCZ0UsUUFBVSxLQUNoQ3ZFLFdBQVd3RSxzQkFBc0JDLEtBQU1DLFdBQ1QsV0FBdEJBLFNBQVNDLFlBSWJwRSwwQkFBMEJnQyxxQkFBdUJtQyxTQUFTRSxPQUN0RHJFLDBCQUEwQkksV0FDMUJKLDBCQUEwQkksV0FBV2tFLFlBQVcsU0FBU3pELFVBQVMsR0FHbEViLDBCQUEwQkcsZ0JBS3RDSCwwQkFBMEJnRSxVQUUxQmhFLDBCQUEwQnVFLHFCQUF3QjdDLGNBQzlDOEMsUUFBUUMsSUFBSSwyQkFBOEIvQyxhQUMxQ2pDLFdBQVdpRiw4QkFBOEJoRCxhQUFhd0MsS0FBTUMsV0FDeEQsR0FBMEIsV0FBdEJBLFNBQVNDLFVBQXdCLENBQ2pDLE1BQU1PLE1BQVEzQixFQUFFNEIsVUFBVTVFLDBCQUEwQmdDLHFCQUFxQixDQUFDTixZQUFhQSxjQUNuRmlELE9BQVMsSUFDVDNFLDBCQUEwQmdDLHFCQUFxQjZDLE9BQU9GLE1BQU8sR0FDN0QzRSwwQkFBMEJJLFdBQVdrRSxZQUFXLFNBQVN6RCxVQUFTLFNBSXRFZixPQUFPZ0YsTUFBTSx5QkFBeUJwRCxxQkFBcUJ5QyxTQUFTMUMsZUFPaEZ6QiwwQkFBMEIrRSw0QkFBK0JyRCxjQUNyRCxJQUFJWSxJQUFNLEtBQ05aLGNBQ0FZLElBQU1VLEVBQUVnQyxLQUFLaEYsMEJBQTBCZ0MscUJBQXVCLENBQUNOLFlBQWNBLGVBRWpGM0IsVUFBVWtGLEtBQUssQ0FDWDlGLFlBQWEsaURBQ2I0QyxRQUFVLENBQ05tRCxjQUFnQixJQUNMbEMsRUFBRUMsSUFBSWpELDBCQUEwQmdDLHFCQUFxQixnQkFBa0IsR0FFbEZtRCxVQUFZLElBQ0Q3QyxLQUdmaEQsV0FBWSxTQUFVQyxPQUFRNkYsa0JBQWtCQyxZQUFhNUYsV0FBWUssT0FBUW9GLGNBQWVDLFdBRTVGLElBQUlHLHNCQUF3QnJGLEtBQ3hCa0YsWUFDQUcsc0JBQXNCQyxNQUFPLEVBQzdCRCxzQkFBc0JFLG1CQUFxQkwsVUFBVXhELGlCQUNyRDJELHNCQUFzQkcsZ0JBQWtCTixVQUFVeEQsaUJBQ2xEMkQsc0JBQXNCSSxXQUFhUCxVQUFVekQsWUFDN0M0RCxzQkFBc0JLLGNBQWdCUixVQUFVekQsWUFDaEQ0RCxzQkFBc0JNLFlBQWNULFVBQVVTLGFBRWxETixzQkFBc0JPLGlCQUFtQlIsWUFBWXBCLHNCQUNyRHFCLHNCQUFzQk8saUJBQW1CN0MsRUFBRUMsSUFBSXFDLHNCQUFzQk8saUJBQWlCSixrQkFDM0UsQ0FDSGhGLEtBQU1nRixnQkFDTnJDLE1BQU9xQyxtQkFJZmhHLFdBQVdxRyxpQkFBaUI1QixLQUFLQyxXQUNGLFlBQXZCQSxTQUFTQyxVQUNUa0Isc0JBQXNCUyxZQUFjL0MsRUFBRWdELE9BQU83QixTQUFTRSxPQUFPNEIsTUFDbERmLGNBQWNnQixRQUFRRCxNQUFRLEdBQU1YLHNCQUFzQkMsTUFBUVUsT0FBU2QsVUFBVXpELGFBR2hHNUIsT0FBT2dGLE1BQU0sb0NBQW9DcUIsSUFBSTFFLGNBRTFEMkUsTUFBTUQsTUFDTHJHLE9BQU9nRixNQUFNLG9DQUFvQ3FCLElBQUkxRSxjQUd6RDZELHNCQUFzQmUsNEJBQThCLEtBQzVDZixzQkFBc0JDLEtBQ3RCOUYsV0FBVzZHLDRCQUNQaEIsc0JBQXNCRyxnQkFDdEJOLFVBQVV6RCxZQUNWNEQsc0JBQXNCSSxXQUN0Qkosc0JBQXNCTSxhQUFlLElBQUkxQixLQUFNQyxXQUNoQixZQUF2QkEsU0FBU0MsV0FDVGdCLGtCQUFrQm1CLE9BQU0sR0FDeEJ6RyxPQUFPMEcsUUFBUSxrRUFFZjFHLE9BQU9nRixNQUFNLDBEQUEwRHFCLElBQUkxRSxjQUVoRjJFLE1BQU1ELE1BQ0xyRyxPQUFPZ0YsTUFBTSwwREFBMERxQixJQUFJMUUsY0FJbkZoQyxXQUFXNEcsNEJBQ1BmLHNCQUFzQkcsZ0JBQ3RCSCxzQkFBc0JJLFdBQ3RCSixzQkFBc0JNLGFBQWUsSUFBSTFCLEtBQU1DLFdBQ2hCLFlBQXZCQSxTQUFTQyxXQUNUZ0Isa0JBQWtCbUIsT0FBTSxHQUN4QnpHLE9BQU8wRyxRQUFRLG1DQUVmMUcsT0FBT2dGLE1BQU0sMERBQTBEcUIsSUFBSTFFLGNBRWhGMkUsTUFBTUQsTUFDTHJHLE9BQU9nRixNQUFNLDBEQUEwRHFCLElBQUkxRSxlQUszRjZELHNCQUFzQmlCLE1BQVEsV0FDMUJuQixrQkFBa0JtQixVQUcxQkUsYUFBYywwQkFDZnBDLE9BQU9ILE1BQUssU0FBVUcsUUFDakJBLFFBQ0FyRSwwQkFBMEJnRSxlQWF0Q3lDLGFBQWMsNkJBS3RCbEUsUUFDS21FLE9BQU8sVUFDUEMsVUFBVSxpQ0FBa0MxSCIsImZpbGUiOiJkaXJlY3RpdmVzL3Blcm1pc3Npb25Hcm91cHMvcGVybWlzc2lvbkdyb3Vwc1RhYmxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcGVybWlzc2lvbkdyb3Vwc1RhYmxlRGlyZWN0aXZlKCl7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBcInZpZXdzL3Blcm1pc3Npb25Hcm91cHMvcGVybWlzc2lvbkdyb3Vwc1RhYmxlLmh0bWxcIjtcblxuICAgIHZhciBjb250cm9sbGVyID0gZnVuY3Rpb24gKCRzY29wZSwkY29tcGlsZSxURE1TZXJ2aWNlLERUQ29sdW1uQnVpbGRlcixEVE9wdGlvbnNCdWlsZGVyLCRxLCAkdGltZW91dCwgdG9hc3RyLCAkdWliTW9kYWwpIHtcbiAgICAgICAgdmFyIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwgPSB0aGlzO1xuXG4gICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwubG9hZGluZ1RhYmxlID0gdHJ1ZTtcbiAgICAgICAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5pbml0VGFibGUgPSAoKSA9PiB7XG4gICAgICAgICAgICBwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmR0SW5zdGFuY2UgPSB7fTtcbiAgICAgICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZHRDb2x1bW5zID0gW107XG4gICAgICAgICAgICBwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmR0Q29sdW1uRGVmcyA9IFtdO1xuICAgICAgICAgICAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5oZWFkZXJzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uIDogJ3Blcm1pc3Npb25fZ3JvdXAnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lIDogJ1Blcm1pc3Npb24gR3JvdXAnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGUgOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA6ICdmYWJyaWNfcm9sZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgOiAnRmFicmljIFJvbGUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGUgOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gOiAnZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICBuYW1lIDogJ0Rlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uIDogJ2NyZWF0aW9uX2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICBuYW1lIDogJ0NyZWF0aW9uIERhdGUnLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0FibGUgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA6ICdjcmVhdGVkX2J5JyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA6ICdDcmVhdGVkIEJ5JyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlIDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uIDogJ3VwZGF0ZV9kYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA6ICdMYXN0IFVwZGF0ZSBEYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tBYmxlIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW4gOiAndXBkYXRlZF9ieScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUgOiAnVXBkYXRlZCBCeScsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrQWJsZSA6IGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgdmFyIGNoYW5nZVRvTG9jYWxEYXRlID0gZnVuY3Rpb24oZGF0YSwgdHlwZSwgZnVsbCwgbWV0YSl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkYXRhKS5mb3JtYXQoJ0REIE1NTSBZWVlZLCBISDptbScpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgcGVybWlzc2lvbkdydW9wQWN0aW9ucyA9IGZ1bmN0aW9uIChkYXRhLCB0eXBlLCBmdWxsLCBtZXRhKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBgVGhlIHVzZXJzIG9mICR7ZnVsbC5mYWJyaWNfcm9sZX0gd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlaXIgZW52aXJvbm1lbnRzIGFuZCB3aWxsIG5vIGxvbmdlciBiZSBvd25lcnMgb2YgVERNIGVudmlyb25tZW50cyBhbmQgdGhlaXIgcmVzZXJ2ZWQgZW50aXRpZXMgbmVlZCB0byBiZSByZWxlYXNlZC4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgcGVybWlzc2lvbnMgZ3JvdXA/YDtcbiAgICAgICAgICAgICAgICBpZiAoZnVsbC5wZXJtaXNzaW9uX2dyb3VwID09PSAndGVzdGVyJykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFRoZSB1c2VycyBvZiAke2Z1bGwuZmFicmljX3JvbGV9IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZWlyIGVudmlyb25tZW50cyBhbmQgd2lsbCBubyBsb25nZXIgYmUgYWJsZSB0byBjcmVhdGUgb3IgZXhlY3V0ZSBURE0gdGFza3MuIFRoZWlyIHJlc2VydmVkIGVudGl0aWVzIG5lZWQgdG8gYmUgcmVsZWFzZWQuIEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhlIHBlcm1pc3Npb25zIGdyb3VwP2A7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmdWxsLnBlcm1pc3Npb25fZ3JvdXAgPT09ICdhZG1pbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBUaGUgdXNlcnMgb2YgJHtmdWxsLmZhYnJpY19yb2xlfSB3aWxsIG5vIGxvbmdlciBiZSBhdXRob3JpemVkIGFzIFRETSBhZG1pbiB1c2VycyBhbmQgdGhlaXIgcmVzZXJ2ZWQgZW50aXRpZXMgbmVlZCB0byBiZSByZWxlYXNlZC4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgcGVybWlzc2lvbiBncm91cD9gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zID0gYFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O2p1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO21heC13aWR0aDogMTAwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJjdXJzb3I6cG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIHVpYi10b29sdGlwPVwiRGVsZXRlIFBlcm1pc3Npb24gR3JvdXAgTWFwcGluZ1wiIFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwLXBsYWNlbWVudD1cInJpZ2h0XCIgXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAtYXBwZW5kLXRvLWJvZHk9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgbXdsLWNvbmZpcm09XCJcIiBcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT1cIiR7bWVzc2FnZX1cIiBcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybS10ZXh0PVwiWWVzIDxpIGNsYXNzPSdnbHlwaGljb24gZ2x5cGhpY29uLW9rJzwvaT5cIiBcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsLXRleHQ9XCJObyA8aSBjbGFzcz0nZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmUnPjwvaT5cIiBcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50PVwicmlnaHRcIiBcbiAgICAgICAgICAgICAgICAgICAgb24tY29uZmlybT1cInBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZGVsZXRlUGVybWlzaW9uR3JvdXAoJyR7ZnVsbC5mYWJyaWNfcm9sZX0nKVwiIFxuICAgICAgICAgICAgICAgICAgICBvbi1jYW5jZWw9XCJjYW5jZWxDbGlja2VkID0gdHJ1ZVwiIFxuICAgICAgICAgICAgICAgICAgICBjb25maXJtLWJ1dHRvbi10eXBlPVwiZGFuZ2VyXCIgXG4gICAgICAgICAgICAgICAgICAgIGNhbmNlbC1idXR0b24tdHlwZT1cImRlZmF1bHRcIiBcbiAgICAgICAgICAgICAgICAgICAgcm9sZS1oYW5kbGVyPVwiXCIgXG4gICAgICAgICAgICAgICAgICAgIHJvbGU9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgc3JjPVwiaWNvbnMvZGVsZXRlLWljb24uc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgYWx0PVwiZGVsZXRlXCJcbiAgICAgICAgICAgICAgICA8L2ltZz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cImljb25zL2VkaXQuc3ZnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiZWRpdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWliLXRvb2x0aXA9XCJFZGl0IFBlcm1pc3Npb24gR3JvdXAgTWFwcGluZ1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXAtYXBwZW5kLXRvLWJvZHk9XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwLXBsYWNlbWVudD1cInJpZ2h0XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZS1oYW5kbGVyPVwiXCIgcm9sZT1cIjBcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZy1jbGljaz1cInBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwub3Blbk5ld1Blcm1pc3Npb25Hcm91cE1vZGFsKCcke2Z1bGwuZmFicmljX3JvbGV9JylcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBgO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5oZWFkZXJzLmxlbmd0aCA7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmhlYWRlcnNbaV0udHlwZSA9PSAnZGF0ZScpe1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmR0Q29sdW1ucy5wdXNoKERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4ocGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5oZWFkZXJzW2ldLmNvbHVtbikud2l0aFRpdGxlKHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuaGVhZGVyc1tpXS5uYW1lKS5yZW5kZXJXaXRoKGNoYW5nZVRvTG9jYWxEYXRlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmR0Q29sdW1ucy5wdXNoKERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4ocGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5oZWFkZXJzW2ldLmNvbHVtbikud2l0aFRpdGxlKHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuaGVhZGVyc1tpXS5uYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmR0Q29sdW1ucy51bnNoaWZ0KERUQ29sdW1uQnVpbGRlci5uZXdDb2x1bW4oJ3Blcm1pc3Npb25HcnVvcEFjdGlvbnMnKS53aXRoVGl0bGUoJycpLnJlbmRlcldpdGgocGVybWlzc2lvbkdydW9wQWN0aW9ucykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgZ2V0VGFibGVEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLnBlcm1pc3Npb25Hcm91cHNEYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZHRPcHRpb25zID0gRFRPcHRpb25zQnVpbGRlci5mcm9tRm5Qcm9taXNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldFRhYmxlRGF0YSgpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLndpdGhET00oJzxcImh0bWw1YnV0dG9uc1wiQj5sVGZnaXRwJylcbiAgICAgICAgICAgICAgICAud2l0aE9wdGlvbignY3JlYXRlZFJvdycsIGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjb21waWxpbmcgc28gd2UgY2FuIGJpbmQgQW5ndWxhciBkaXJlY3RpdmUgdG8gdGhlIERUXG4gICAgICAgICAgICAgICAgICAgICRjb21waWxlKGFuZ3VsYXIuZWxlbWVudChyb3cpLmNvbnRlbnRzKCkpKCRzY29wZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAud2l0aE9wdGlvbignc2Nyb2xsWCcsIGZhbHNlKVxuICAgICAgICAgICAgICAgIC53aXRoT3B0aW9uKCdhYVNvcnRpbmcnLCBbNSwgJ2FzYyddKVxuICAgICAgICAgICAgICAgIC53aXRoQnV0dG9ucyhbXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAud2l0aE9wdGlvbignc2VhcmNoJyx7XG4gICAgICAgICAgICAgICAgICAgIFwiY2FzZUluc2Vuc2l0aXZlXCI6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5wcm9kdWN0c0RhdGEgJiYgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5wcm9kdWN0c0RhdGEubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZHRPcHRpb25zLndpdGhMaWdodENvbHVtbkZpbHRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogXy5tYXAoXy51bmlxdWUoXy5tYXAocGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5wcm9kdWN0c0RhdGEsICdwZXJtaXNzaW9uX2dyb3VwJykpLGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWUgOiBlbCxsYWJlbCA6ZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBfLm1hcChfLnVuaXF1ZShfLm1hcChwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLnByb2R1Y3RzRGF0YSwgJ2ZhYnJpY19yb2xlJykpLGZ1bmN0aW9uKGVsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7dmFsdWUgOiBlbCxsYWJlbCA6ZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDMgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA1IDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDYgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmR0SW5zdGFuY2VDYWxsYmFjayA9IGZ1bmN0aW9uIChkdEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmR0SW5zdGFuY2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZHRJbnN0YW5jZShkdEluc3RhbmNlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZHRJbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5kdEluc3RhbmNlID0gZHRJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZHRJbnN0YW5jZS5jaGFuZ2VEYXRhICE9IG51bGwpXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5kdEluc3RhbmNlLmNoYW5nZURhdGEoZ2V0VGFibGVEYXRhKCkpO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5sb2FkaW5nVGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgIFxuICAgICAgICB9O1xuXG4gICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZ2V0RGF0YSA9ICgpID0+IHtcbiAgICAgICAgICAgIFRETVNlcnZpY2UuZ2V0UGVybWlzc2lvbkdyb3VwcygpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSAhPSAnU1VDQ0VTUycpe1xuICAgICAgICAgICAgICAgICAgICAvL1RPRE8gc2hvdyBFcnJvclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwucGVybWlzc2lvbkdyb3Vwc0RhdGEgPSByZXNwb25zZS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZHRJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLmR0SW5zdGFuY2UucmVsb2FkRGF0YShmdW5jdGlvbihkYXRhKXt9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuaW5pdFRhYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5nZXREYXRhKCk7XG5cbiAgICAgICAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5kZWxldGVQZXJtaXNpb25Hcm91cCA9IChmYWJyaWNfcm9sZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSBwZXJtaXNzaW9uIGdyb3VwLCcgKyAgZmFicmljX3JvbGUpO1xuICAgICAgICAgICAgVERNU2VydmljZS5kZWxldGVSb2xlRnJvbVBlcm1pc3Npb25Hcm91cChmYWJyaWNfcm9sZSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3JDb2RlID09IFwiU1VDQ0VTU1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gXy5maW5kSW5kZXgocGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5wZXJtaXNzaW9uR3JvdXBzRGF0YSx7ZmFicmljX3JvbGU6IGZhYnJpY19yb2xlfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwucGVybWlzc2lvbkdyb3Vwc0RhdGEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwuZHRJbnN0YW5jZS5yZWxvYWREYXRhKGZ1bmN0aW9uKGRhdGEpe30sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoYFVuYWJsZSB0byByZW1vdmUgUm9sZSAke2ZhYnJpY19yb2xlfSwgZXJyPVske3Jlc3BvbnNlLm1lc3NhZ2V9XWApO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLm9wZW5OZXdQZXJtaXNzaW9uR3JvdXBNb2RhbCA9IChmYWJyaWNfcm9sZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHJvdyA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZmFicmljX3JvbGUpe1xuICAgICAgICAgICAgICAgIHJvdyA9IF8uZmluZChwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLnBlcm1pc3Npb25Hcm91cHNEYXRhICwge2ZhYnJpY19yb2xlIDogZmFicmljX3JvbGV9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGVybWlzc2lvbkdyb3Vwcy9uZXdQZXJtaXNzaW9uR3JvdXAuaHRtbCcsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSA6IHtcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoZWRSb2xlcyA6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfLm1hcChwZXJtaXNzaW9uR3JvdXBzVGFibGVDdHJsLnBlcm1pc3Npb25Hcm91cHNEYXRhLCdmYWJyaWNfcm9sZScpIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbGRSZWNvcmQgOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsQXV0aFNlcnZpY2UsIFRETVNlcnZpY2UsIHRvYXN0ciwgYXR0YWNoZWRSb2xlcywgb2xkUmVjb3JkKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1Blcm1pc2lvbkdyb3VwQ3RybCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5lZGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5vbGRQZXJtaXNzaW9uR3JvdXAgPSBvbGRSZWNvcmQucGVybWlzc2lvbl9ncm91cDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5wZXJtaXNzaW9uR3JvdXAgPSBvbGRSZWNvcmQucGVybWlzc2lvbl9ncm91cDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5mYWJyaWNSb2xlID0gb2xkUmVjb3JkLmZhYnJpY19yb2xlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGVybWlzaW9uR3JvdXBDdHJsLm9sZGZhYnJpY1JvbGUgPSBvbGRSZWNvcmQuZmFicmljX3JvbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQZXJtaXNpb25Hcm91cEN0cmwuZGVzY3JpcHRpb24gPSBvbGRSZWNvcmQuZGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbmV3UGVybWlzaW9uR3JvdXBDdHJsLnBlcm1pc3Npb25Hcm91cHMgPSBBdXRoU2VydmljZS5nZXRQZXJtaXNzaW9uR3JvdXBzKCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5wZXJtaXNzaW9uR3JvdXBzID0gXy5tYXAobmV3UGVybWlzaW9uR3JvdXBDdHJsLnBlcm1pc3Npb25Hcm91cHMscGVybWlzc2lvbkdyb3VwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcGVybWlzc2lvbkdyb3VwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwZXJtaXNzaW9uR3JvdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIFRETVNlcnZpY2UuZ2V0RmFicmljUm9sZXMoKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvckNvZGUgPT09ICdTVUNDRVNTJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5mYWJyaWNSb2xlcyA9IF8uZmlsdGVyKHJlc3BvbnNlLnJlc3VsdCxyb2xlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF0dGFjaGVkUm9sZXMuaW5kZXhPZihyb2xlKSA8IDAgfHwgKG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5lZGl0ICYmIHJvbGUgPT09IG9sZFJlY29yZC5mYWJyaWNfcm9sZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGBVbmFibGUgdG8gZ2V0IEZhYnJpYyBSb2xlcywgZXJyPVske2Vyci5tZXNzYWdlfV1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihgVW5hYmxlIHRvIGdldCBGYWJyaWMgUm9sZXMsIGVycj1bJHtlcnIubWVzc2FnZX1dYCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5hdHRhY2hSb2xlVG9QZXJtaXNzaW9uR3JvdXAgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UGVybWlzaW9uR3JvdXBDdHJsLmVkaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBURE1TZXJ2aWNlLnVwZGF0ZVJvbGVUb1Blcm1pc3Npb25Hcm91cChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGVybWlzaW9uR3JvdXBDdHJsLnBlcm1pc3Npb25Hcm91cCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkUmVjb3JkLmZhYnJpY19yb2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQZXJtaXNpb25Hcm91cEN0cmwuZmFicmljUm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGVybWlzaW9uR3JvdXBDdHJsLmRlc2NyaXB0aW9uIHx8ICcnKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PT0gJ1NVQ0NFU1MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoYFVwZGF0ZWQgTWFwcGluZyBGYWJyaWMgUm9sZSBhbmQgUGVybWlzc2lvbiBHcm91cCBTdWNjZXNzZnVsbHlgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoYFVuYWJsZSB0byB1cGRhdGUgRmFicmljIFJvbGUgdG8gUGVybWlzc2lvbiBHcm91cCwgZXJyPVske2Vyci5tZXNzYWdlfV1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihgVW5hYmxlIHRvIHVwZGF0ZSBGYWJyaWMgUm9sZSB0byBQZXJtaXNzaW9uIEdyb3VwLCBlcnI9WyR7ZXJyLm1lc3NhZ2V9XWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRETVNlcnZpY2UuYXR0YWNoUm9sZVRvUGVybWlzc2lvbkdyb3VwKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQZXJtaXNpb25Hcm91cEN0cmwucGVybWlzc2lvbkdyb3VwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQZXJtaXNpb25Hcm91cEN0cmwuZmFicmljUm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGVybWlzaW9uR3JvdXBDdHJsLmRlc2NyaXB0aW9uIHx8ICcnKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yQ29kZSA9PT0gJ1NVQ0NFU1MnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoYFN1Y2Nlc3NmdWxseSBBZGRlZCBuZXcgTWFwcGluZ2ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihgVW5hYmxlIHRvIGF0dGFjaCBGYWJyaWMgUm9sZSB0byBQZXJtaXNzaW9uIEdyb3VwLCBlcnI9WyR7ZXJyLm1lc3NhZ2V9XWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGBVbmFibGUgdG8gYXR0YWNoIEZhYnJpYyBSb2xlIHRvIFBlcm1pc3Npb24gR3JvdXAsIGVycj1bJHtlcnIubWVzc2FnZX1dYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1Blcm1pc2lvbkdyb3VwQ3RybC5jbG9zZSA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ25ld1Blcm1pc2lvbkdyb3VwQ3RybCdcbiAgICAgICAgICAgIH0pLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KXtcbiAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbkdyb3Vwc1RhYmxlQ3RybC5nZXREYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgdGVtcGxhdGVVcmw6IHRlbXBsYXRlLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgY29udGVudDogJz0nXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXG4gICAgICAgIGNvbnRyb2xsZXJBcyA6J3Blcm1pc3Npb25Hcm91cHNUYWJsZUN0cmwnXG4gICAgfTtcbn1cblxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnVERNLUZFJylcbiAgICAuZGlyZWN0aXZlKCdwZXJtaXNzaW9uR3JvdXBzVGFibGVEaXJlY3RpdmUnLCBwZXJtaXNzaW9uR3JvdXBzVGFibGVEaXJlY3RpdmUpOyJdfQ==
