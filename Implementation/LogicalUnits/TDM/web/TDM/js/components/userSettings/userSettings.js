function userSettings(){return{restrict:"E",templateUrl:"js/components/userSettings/userSettings.html",scope:{users:"=",groups:"=",close:"=",selectedUsers:"=",enableAllUsers:"=",save:"="},controller:function($scope,TDMService,AuthService,toastr){var userSettingsCtrl=this;userSettingsCtrl.users=_.filter($scope.users,user=>_.findIndex($scope.selectedUsers,{user_id:user.user_id})<0&&-1!=user.user_id&&!user.group&&"GROUP"!==user.user_type),userSettingsCtrl.groups=_.filter($scope.groups,group=>_.findIndex($scope.selectedUsers,{user_id:group})<0),$scope.enableAllUsers&&_.findIndex($scope.selectedUsers,{user_id:"-1"})>=0&&(userSettingsCtrl.allUsers=!0),userSettingsCtrl.add=()=>{$scope.save(userSettingsCtrl.user,userSettingsCtrl.customUser,userSettingsCtrl.userGroup,userSettingsCtrl.allUsers)}},controllerAs:"userSettingsCtrl"}}angular.module("TDM-FE").directive("userSettings",userSettings);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvdXNlclNldHRpbmdzL3VzZXJTZXR0aW5ncy5qcyJdLCJuYW1lcyI6WyJ1c2VyU2V0dGluZ3MiLCJyZXN0cmljdCIsInRlbXBsYXRlVXJsIiwic2NvcGUiLCJ1c2VycyIsImdyb3VwcyIsImNsb3NlIiwic2VsZWN0ZWRVc2VycyIsImVuYWJsZUFsbFVzZXJzIiwic2F2ZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJURE1TZXJ2aWNlIiwiQXV0aFNlcnZpY2UiLCJ0b2FzdHIiLCJ1c2VyU2V0dGluZ3NDdHJsIiwidGhpcyIsIl8iLCJmaWx0ZXIiLCJ1c2VyIiwiZmluZEluZGV4IiwidXNlcl9pZCIsImdyb3VwIiwidXNlcl90eXBlIiwiYWxsVXNlcnMiLCJhZGQiLCJjdXN0b21Vc2VyIiwidXNlckdyb3VwIiwiY29udHJvbGxlckFzIiwiYW5ndWxhciIsIm1vZHVsZSIsImRpcmVjdGl2ZSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZUF5QkwsTUFBTyxDQUNIQyxTQUFVLElBQ1ZDLFlBekJXLCtDQTBCWEMsTUFBTyxDQUNIQyxNQUFPLElBQ1BDLE9BQU8sSUFDUEMsTUFBTyxJQUNQQyxjQUFlLElBQ2ZDLGVBQWdCLElBQ2hCQyxLQUFNLEtBRVZDLFdBaENhLFNBQVVDLE9BQU9DLFdBQVdDLFlBQVlDLFFBQ3JELElBQUlDLGlCQUFtQkMsS0FDdkJELGlCQUFpQlgsTUFBUWEsRUFBRUMsT0FBT1AsT0FBT1AsTUFBTWUsTUFDcENGLEVBQUVHLFVBQVVULE9BQU9KLGNBQWMsQ0FBQ2MsUUFBU0YsS0FBS0UsVUFBWSxJQUFzQixHQUFqQkYsS0FBS0UsVUFBa0JGLEtBQUtHLE9BQTRCLFVBQW5CSCxLQUFLSSxXQUd0SFIsaUJBQWlCVixPQUFTWSxFQUFFQyxPQUFPUCxPQUFPTixPQUFPaUIsT0FDdENMLEVBQUVHLFVBQVVULE9BQU9KLGNBQWMsQ0FBQ2MsUUFBU0MsUUFBVSxHQUc1RFgsT0FBT0gsZ0JBQ0hTLEVBQUVHLFVBQVVULE9BQU9KLGNBQWMsQ0FBQ2MsUUFBUyxRQUFVLElBQ3JETixpQkFBaUJTLFVBQVksR0FJckNULGlCQUFpQlUsSUFBTSxLQUNuQmQsT0FBT0YsS0FBS00saUJBQWlCSSxLQUFNSixpQkFBaUJXLFdBQVlYLGlCQUFpQlksVUFBV1osaUJBQWlCUyxZQWdCakhJLGFBQWMsb0JBS3RCQyxRQUNLQyxPQUFPLFVBQ1BDLFVBQVUsZUFBZ0IvQiIsImZpbGUiOiJjb21wb25lbnRzL3VzZXJTZXR0aW5ncy91c2VyU2V0dGluZ3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB1c2VyU2V0dGluZ3MgKCl7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBcImpzL2NvbXBvbmVudHMvdXNlclNldHRpbmdzL3VzZXJTZXR0aW5ncy5odG1sXCI7XG5cbiAgICB2YXIgY29udHJvbGxlciA9IGZ1bmN0aW9uICgkc2NvcGUsVERNU2VydmljZSxBdXRoU2VydmljZSx0b2FzdHIpIHtcbiAgICAgICAgdmFyIHVzZXJTZXR0aW5nc0N0cmwgPSB0aGlzO1xuICAgICAgICB1c2VyU2V0dGluZ3NDdHJsLnVzZXJzID0gXy5maWx0ZXIoJHNjb3BlLnVzZXJzLHVzZXIgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIF8uZmluZEluZGV4KCRzY29wZS5zZWxlY3RlZFVzZXJzLHt1c2VyX2lkOiB1c2VyLnVzZXJfaWR9KSA8IDAgJiYgdXNlci51c2VyX2lkICE9IC0xICYmICF1c2VyLmdyb3VwICYmIHVzZXIudXNlcl90eXBlICE9PSAnR1JPVVAnO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHVzZXJTZXR0aW5nc0N0cmwuZ3JvdXBzID0gXy5maWx0ZXIoJHNjb3BlLmdyb3Vwcyxncm91cCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gXy5maW5kSW5kZXgoJHNjb3BlLnNlbGVjdGVkVXNlcnMse3VzZXJfaWQ6IGdyb3VwfSkgPCAwO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoJHNjb3BlLmVuYWJsZUFsbFVzZXJzKSB7XG4gICAgICAgICAgICBpZiAoXy5maW5kSW5kZXgoJHNjb3BlLnNlbGVjdGVkVXNlcnMse3VzZXJfaWQ6ICctMSd9KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdXNlclNldHRpbmdzQ3RybC5hbGxVc2VycyA9ICB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdXNlclNldHRpbmdzQ3RybC5hZGQgPSAoKSA9PiB7XG4gICAgICAgICAgICAkc2NvcGUuc2F2ZSh1c2VyU2V0dGluZ3NDdHJsLnVzZXIsIHVzZXJTZXR0aW5nc0N0cmwuY3VzdG9tVXNlciwgdXNlclNldHRpbmdzQ3RybC51c2VyR3JvdXAsIHVzZXJTZXR0aW5nc0N0cmwuYWxsVXNlcnMpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHRlbXBsYXRlVXJsOiB0ZW1wbGF0ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIHVzZXJzOiAnPScsIFxuICAgICAgICAgICAgZ3JvdXBzOic9JyxcbiAgICAgICAgICAgIGNsb3NlOiAnPScsXG4gICAgICAgICAgICBzZWxlY3RlZFVzZXJzOiAnPScsXG4gICAgICAgICAgICBlbmFibGVBbGxVc2VyczogJz0nLFxuICAgICAgICAgICAgc2F2ZTogJz0nLFxuICAgICAgICB9LFxuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxuICAgICAgICBjb250cm9sbGVyQXMgOid1c2VyU2V0dGluZ3NDdHJsJ1xuICAgIH07XG59XG5cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ1RETS1GRScpXG4gICAgLmRpcmVjdGl2ZSgndXNlclNldHRpbmdzJywgdXNlclNldHRpbmdzKTtcbiJdfQ==
