/*!
 * @author Thomas <thansen@solire.fr>
 * @licence CC BY-NC 4.0 http://creativecommons.org/licenses/by-nc/4.0/
 *
 * A light filter column pluggin for jquery.dataTables#1.10
 */
!function(window,document){var factory=function($,dataTable){"use strict";var Column=function(dataTable,index,dataTableColumn,options){var defaultOptions,self=this;console.log(dataTableColumn.visible()),defaultOptions=options.type in ColumnFilter.filter?$.extend({},ColumnFilter.filter[options.type]):{},self.options=$.extend({},defaultOptions,options),$.each(["dom","bindEvents","request"],(function(ii,method){method in self.options&&(self[method]=self.options[method])})),self.dataTable=dataTable,self.dataTableColumn=dataTableColumn,self.index=index},ColumnFilter=function(dataTable,options){this.columns=[],this.dataTable=null,this.init(dataTable,options)};return Column.prototype={dom:function(th){},bindEvents:function(){},request:function(){},search:function(){this.dataTableColumn.search(this.request(),!0).draw()}},ColumnFilter.prototype={init:function(dataTable,options){var tr,self=this;self.dataTable=dataTable,tr=$("<tr>").appendTo(self.dataTable.table().header()),self.dataTable.columns().eq(0).each((function(index){var columnOptions,column,th,className=self.dataTable.column(index).header().className,never=className.match(/\bnever\b/),none=className.match(/\bnone\b/);(never||none)&&"responsive"in self.dataTable||(columnOptions=index in options?options[index]:{},column=new Column(self.dataTable,index,self.dataTable.column(index),columnOptions),th=$("<th>").appendTo(tr),self.columns.push(column),1==column.options.hidden&&$("th",tr).eq(column.index).hide(),column.dom(th),column.bindEvents())})),$(self.dataTable.table().node()).on("column-visibility.dt",(function(e,settings,column,state){state?$("th",tr).eq(column).show():$("th",tr).eq(column).hide()}))},addFilter:function(name,filter){ColumnFilter.filter[name]=filter}},ColumnFilter.default={type:"text"},ColumnFilter.filter={text:{dom:function(th){return this.elements=$("<input>",{type:"text"}).appendTo(th),void 0!==this.options.width?this.elements.css("width",this.options.width):this.elements.css("width","100%"),this.elements},bindEvents:function(){var self=this,time=200,timeOutId=0;"time"in self.options&&(time=self.options.time),self.elements.keyup((function(){clearTimeout(timeOutId),timeOutId=window.setTimeout((function(){self.search()}),time)}))},request:function(){return this.elements.val()}},select:{dom:function(th){var select;return(select=$("<select>").append("<option></option>")).addClass(this.options.cssClass),$.each(this.options.values,(function(ii,value){$("<option>").val(value.value).text(value.label).appendTo(select)})),this.elements=select.appendTo(th),this.options.defaultValue&&(this.elements[0].value=this.options.defaultValue,this.search()),void 0!==this.options.width?this.elements.css("width",this.options.width):this.elements.css("width","100%"),this.elements},bindEvents:function(){var self=this;self.elements.on("change",(function(){self.search()}))},request:function(){return"^"+this.elements.val()}},dateRange:{separator:"~",dom:function(th){return this.elements=$("<input>",{type:"text"}).add($("<input>",{type:"text"})).appendTo(th),void 0!==this.options.width?this.elements.css("width",this.options.width):this.elements.css("width","50%"),this.elements},bindEvents:function(){var self=this;self.elements.change((function(){self.search()}))},request:function(){var request=[];return this.elements.each((function(){request.push($(this).val())})),request.join(this.options.separator)}}},$.fn.dataTable.ColumnFilter=ColumnFilter,$.fn.DataTable.ColumnFilter=ColumnFilter,ColumnFilter};"function"==typeof define&&define.amd?define(["jquery","datatables"],factory):"object"==typeof exports?factory(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.ColumnFilter&&factory(jQuery,jQuery.fn.dataTable)}(window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMvZGF0YVRhYmxlcy9kYXRhVGFibGVzLmxpZ2h0Q29sdW1uRmlsdGVyLm1pbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJkb2N1bWVudCIsImZhY3RvcnkiLCIkIiwiZGF0YVRhYmxlIiwiQ29sdW1uIiwiaW5kZXgiLCJkYXRhVGFibGVDb2x1bW4iLCJvcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJzZWxmIiwidGhpcyIsImNvbnNvbGUiLCJsb2ciLCJ2aXNpYmxlIiwidHlwZSIsIkNvbHVtbkZpbHRlciIsImZpbHRlciIsImV4dGVuZCIsImVhY2giLCJpaSIsIm1ldGhvZCIsImNvbHVtbnMiLCJpbml0IiwicHJvdG90eXBlIiwiZG9tIiwidGgiLCJiaW5kRXZlbnRzIiwicmVxdWVzdCIsInNlYXJjaCIsImRyYXciLCJ0ciIsImFwcGVuZFRvIiwidGFibGUiLCJoZWFkZXIiLCJlcSIsImNvbHVtbk9wdGlvbnMiLCJjb2x1bW4iLCJjbGFzc05hbWUiLCJuZXZlciIsIm1hdGNoIiwibm9uZSIsInB1c2giLCJoaWRkZW4iLCJoaWRlIiwibm9kZSIsIm9uIiwiZSIsInNldHRpbmdzIiwic3RhdGUiLCJzaG93IiwiYWRkRmlsdGVyIiwibmFtZSIsImRlZmF1bHQiLCJ0ZXh0IiwiZWxlbWVudHMiLCJ3aWR0aCIsImNzcyIsInRpbWUiLCJ0aW1lT3V0SWQiLCJrZXl1cCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJ2YWwiLCJzZWxlY3QiLCJhcHBlbmQiLCJhZGRDbGFzcyIsImNzc0NsYXNzIiwidmFsdWVzIiwidmFsdWUiLCJsYWJlbCIsImRlZmF1bHRWYWx1ZSIsImRhdGVSYW5nZSIsInNlcGFyYXRvciIsImFkZCIsImNoYW5nZSIsImpvaW4iLCJmbiIsIkRhdGFUYWJsZSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJyZXF1aXJlIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Q0FNQSxTQUFVQSxPQUFRQyxVQUNkLElBQUlDLFFB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QzdDLEtBV0Y0QyxTQUFTRSxJQUFJLFFBQVMsT0FYcEI5QyxLQWNDNEMsVUFPaEI1QixXQUFZLFdBQ1IsSUFBSWpCLEtBQU9DLEtBRVhELEtBQUs2QyxTQUFTb0IsUUFBTyxXQUNqQmpFLEtBQUttQixhQVFiRCxRQUFTLFdBQ0wsSUFFSUEsUUFBVSxHQU9kLE9BUldqQixLQUlONEMsU0FBU3BDLE1BQUssV0FDZlMsUUFBUWMsS0FBS3ZDLEVBQUVRLE1BQU1vRCxVQUdsQm5DLFFBQVFnRCxLQVJKakUsS0FRY0gsUUFBUWlFLGNBSzdDdEUsRUFBRTBFLEdBQUd6RSxVQUFVWSxhQUFlQSxhQUM5QmIsRUFBRTBFLEdBQUdDLFVBQVU5RCxhQUFlQSxhQUV2QkEsY0FJVyxtQkFBWCtELFFBQXlCQSxPQUFPQyxJQUN2Q0QsT0FBTyxDQUFDLFNBQVUsY0FBZTdFLFNBQ1AsaUJBQVorRSxRQUVkL0UsUUFBUWdGLFFBQVEsVUFBV0EsUUFBUSxlQUM1QkMsU0FBV0EsT0FBT04sR0FBR3pFLFVBQVVZLGNBRXRDZCxRQUFRaUYsT0FBUUEsT0FBT04sR0FBR3pFLFdBeFZsQyxDQTBWR0osT0FBUUMiLCJmaWxlIjoicGx1Z2lucy9kYXRhVGFibGVzL2RhdGFUYWJsZXMubGlnaHRDb2x1bW5GaWx0ZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAYXV0aG9yIFRob21hcyA8dGhhbnNlbkBzb2xpcmUuZnI+XG4gKiBAbGljZW5jZSBDQyBCWS1OQyA0LjAgaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktbmMvNC4wL1xuICpcbiAqIEEgbGlnaHQgZmlsdGVyIGNvbHVtbiBwbHVnZ2luIGZvciBqcXVlcnkuZGF0YVRhYmxlcyMxLjEwXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50KSB7XG4gICAgdmFyIGZhY3RvcnkgPSBmdW5jdGlvbigkLCBkYXRhVGFibGUpIHtcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgICAgIHZhclxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGUgYSBuZXcgQ29sdW1uIGluc3RhbmNlXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtEYXRhVGFibGV9IGRhdGFUYWJsZSAgICAgICBUaGUgRGF0YVRhYmxlcyBvYmplY3RcbiAgICAgICAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gICBpbmRleCAgICAgICAgICAgVGhlIGluZGV4IG9mIHRoZSBjb2x1bW5cbiAgICAgICAgICAgICAqIEBwYXJhbSB7RGF0YVRhYmxlfSBkYXRhVGFibGVDb2x1bW4gVGhlIERhdGFUYWJsZXMgQ29sdW1uIG9iamVjdFxuICAgICAgICAgICAgICogQHBhcmFtIHtvYmplY3R9ICAgIG9wdGlvbnMgICAgICAgICBUaGUgY29sdW1uZmlsdGVyIG9wdGlvbnMgZm9yIHRoaXMgY29sdW1uXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHJldHVybnMge0NvbHVtbn1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgQ29sdW1uID0gZnVuY3Rpb24oZGF0YVRhYmxlLCBpbmRleCwgZGF0YVRhYmxlQ29sdW1uLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdkb20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JpbmRFdmVudHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3JlcXVlc3QnXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhVGFibGVDb2x1bW4udmlzaWJsZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50eXBlIGluIENvbHVtbkZpbHRlci5maWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sdW1uRmlsdGVyLmZpbHRlcltvcHRpb25zLnR5cGVdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0T3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgJC5lYWNoKG1ldGhvZHMsIGZ1bmN0aW9uKGlpLCBtZXRob2Qpe1xuICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kIGluIHNlbGYub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZlttZXRob2RdID0gc2VsZi5vcHRpb25zW21ldGhvZF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgc2VsZi5kYXRhVGFibGUgPSBkYXRhVGFibGU7XG4gICAgICAgICAgICAgICAgc2VsZi5kYXRhVGFibGVDb2x1bW4gPSBkYXRhVGFibGVDb2x1bW47XG4gICAgICAgICAgICAgICAgc2VsZi5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ3JlYXRlIGEgbmV3IENvbHVtbkZpbHRlciBpbnN0YW5jZVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RGF0YVRhYmxlfSBkYXRhVGFibGUgVGhlIERhdGFUYWJsZXMgb2JqZWN0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gICAgb3B0aW9ucyAgIFRoZSBjb2x1bW5maWx0ZXIgb3B0aW9uc1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtDb2x1bW5GaWx0ZXJ9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIENvbHVtbkZpbHRlciA9IGZ1bmN0aW9uKGRhdGFUYWJsZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHNlbGYuY29sdW1ucyA9IFtdO1xuICAgICAgICAgICAgICAgIHNlbGYuZGF0YVRhYmxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzZWxmLmluaXQoZGF0YVRhYmxlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDtcblxuICAgICAgICBDb2x1bW4ucHJvdG90eXBlID0ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCdWlsZCB0aGUgZm9ybSBET00gZWxlbWVudHNcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3R5cGV9IHRoIFRoZSB0aCBlbGVtZW50IHdoZXJlIHRvIHB1dCB0aGUgZWxlbWVudHNcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBkb206IGZ1bmN0aW9uKHRoKXt9LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBCaW5kcyBldmVudCB0byB0aGUgRE9NIGVsZW1lbnRzXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGJpbmRFdmVudHM6IGZ1bmN0aW9uKCl7fSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmV0dXJuIHRoZSBzZWFyY2hlZCBzdHJpbmdcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbigpe30sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRyaWdnZXIgdGhlIGRhdGF0YWJsZSBzZWFyY2ggd2l0aCB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzZWFyY2g6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgc2VsZlxuICAgICAgICAgICAgICAgICAgICAuZGF0YVRhYmxlQ29sdW1uXG4gICAgICAgICAgICAgICAgICAgIC5zZWFyY2goc2VsZi5yZXF1ZXN0KCksdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgLmRyYXcoKVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIENvbHVtbkZpbHRlci5wcm90b3R5cGUgPSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluaXRpYWxpemUgdGhlIGZpbHRlciBwbHVnZ2luXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtEYXRhVGFibGV9IGRhdGFUYWJsZVxuICAgICAgICAgICAgICogQHBhcmFtIHtvYmplY3R9ICAgIG9wdGlvbnNcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oZGF0YVRhYmxlLCBvcHRpb25zKXtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIHRyXG4gICAgICAgICAgICAgICAgICAgIDtcblxuICAgICAgICAgICAgICAgIHNlbGYuZGF0YVRhYmxlID0gZGF0YVRhYmxlO1xuXG4gICAgICAgICAgICAgICAgdHIgPSAkKCc8dHI+JykuYXBwZW5kVG8oc2VsZi5kYXRhVGFibGUudGFibGUoKS5oZWFkZXIoKSk7XG5cbiAgICAgICAgICAgICAgICBzZWxmLmRhdGFUYWJsZS5jb2x1bW5zKCkuZXEoMCkuZWFjaChmdW5jdGlvbihpbmRleCl7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gc2VsZi5kYXRhVGFibGUuY29sdW1uKGluZGV4KS5oZWFkZXIoKS5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXZlciA9IGNsYXNzTmFtZS5tYXRjaCgvXFxibmV2ZXJcXGIvKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vbmUgPSBjbGFzc05hbWUubWF0Y2goL1xcYm5vbmVcXGIvKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aFxuICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKG5ldmVyIHx8IG5vbmUpICYmICgncmVzcG9uc2l2ZScgaW4gc2VsZi5kYXRhVGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5PcHRpb25zID0gaW5kZXggaW4gb3B0aW9ucyA/IG9wdGlvbnNbaW5kZXhdIDoge307XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbiA9IG5ldyBDb2x1bW4oXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRhdGFUYWJsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kYXRhVGFibGUuY29sdW1uKGluZGV4KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgdGggPSAkKCc8dGg+JykuYXBwZW5kVG8odHIpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvbHVtbnMucHVzaChjb2x1bW4pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkZWQgYnkgbWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5vcHRpb25zLmhpZGRlbiA9PSB0cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoJywgdHIpLmVxKGNvbHVtbi5pbmRleCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLmRvbSh0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbi5iaW5kRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBIaWRlIGFuZCBTaG93IGNvbHVtbiBmaWx0ZXIgdGggYWNjb3JkaW5nIHRvIGRhdGF0YWJsZSBidWlsZC1pbiBjb2x1bW5zIHZpc2liaWxpdHlcbiAgICAgICAgICAgICAgICAkKHNlbGYuZGF0YVRhYmxlLnRhYmxlKCkubm9kZSgpKS5vbignY29sdW1uLXZpc2liaWxpdHkuZHQnLCBmdW5jdGlvbiAoZSwgc2V0dGluZ3MsIGNvbHVtbiwgc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aCcsIHRyKS5lcShjb2x1bW4pLnNob3coKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGgnLCB0cikuZXEoY29sdW1uKS5oaWRlKClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWRkIGEgY3VzdG9tIGZpbHRlclxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gZmlsdGVyXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFkZEZpbHRlcjogZnVuY3Rpb24obmFtZSwgZmlsdGVyKXtcbiAgICAgICAgICAgICAgICBDb2x1bW5GaWx0ZXIuZmlsdGVyW25hbWVdID0gZmlsdGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IENvbHVtbiBjb25maWd1cmF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBDb2x1bW5GaWx0ZXIuZGVmYXVsdCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0J1xuICAgICAgICB9O1xuXG4gICAgICAgIENvbHVtbkZpbHRlci5maWx0ZXIgPSB7XG4gICAgICAgICAgICB0ZXh0OiB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQnVpbGQgdGhlIGZvcm0gRE9NIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge3R5cGV9IHRoIFRoZSB0aCBlbGVtZW50IHdoZXJlIHRvIHB1dCB0aGUgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtqUXVlcnl9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZG9tOiBmdW5jdGlvbih0aCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnRzID0gJCgnPGlucHV0PicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0J1xuICAgICAgICAgICAgICAgICAgICB9KS5hcHBlbmRUbyh0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmLm9wdGlvbnMud2lkdGggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnRzLmNzcygnd2lkdGgnLCBzZWxmLm9wdGlvbnMud2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50cy5jc3MoJ3dpZHRoJywgJzEwMCUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmVsZW1lbnRzO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQmluZHMgZXZlbnQgdG8gdGhlIERPTSBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgYmluZEV2ZW50czogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSAyMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lT3V0SWQgPSAwXG4gICAgICAgICAgICAgICAgICAgICAgICA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCd0aW1lJyBpbiBzZWxmLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBzZWxmLm9wdGlvbnMudGltZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudHMua2V5dXAoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lT3V0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZU91dElkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlYXJjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGltZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJuIHRoZSBzZWFyY2hlZCBzdHJpbmdcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmVxdWVzdDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmVsZW1lbnRzLnZhbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBkb206IGZ1bmN0aW9uKHRoKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzLCBzZWxlY3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ID0gJCgnPHNlbGVjdD4nKS5hcHBlbmQoJzxvcHRpb24+PC9vcHRpb24+Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0LmFkZENsYXNzKHNlbGYub3B0aW9ucy5jc3NDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHNlbGYub3B0aW9ucy52YWx1ZXMsIGZ1bmN0aW9uKGlpLCB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCc8b3B0aW9uPicpLnZhbCh2YWx1ZS52YWx1ZSkudGV4dCh2YWx1ZS5sYWJlbCkuYXBwZW5kVG8oc2VsZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50cyA9IHNlbGVjdC5hcHBlbmRUbyh0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLm9wdGlvbnMuZGVmYXVsdFZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudHNbMF0udmFsdWUgPSBzZWxmLm9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWFyY2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZi5vcHRpb25zLndpZHRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50cy5jc3MoJ3dpZHRoJywgc2VsZi5vcHRpb25zLndpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudHMuY3NzKCd3aWR0aCcsICcxMDAlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5lbGVtZW50cztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJpbmRFdmVudHM6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50cy5vbignY2hhbmdlJywgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVxdWVzdDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFwiXlwiICsgc2VsZi5lbGVtZW50cy52YWwoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGVSYW5nZToge1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvcjogJ34nLFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEJ1aWxkIHRoZSBmb3JtIERPTSBlbGVtZW50c1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHt0eXBlfSB0aCBUaGUgdGggZWxlbWVudCB3aGVyZSB0byBwdXQgdGhlIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGRvbTogZnVuY3Rpb24odGgpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50cyA9ICQoJzxpbnB1dD4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgfSkuYWRkKCQoJzxpbnB1dD4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCdcbiAgICAgICAgICAgICAgICAgICAgfSkpLmFwcGVuZFRvKHRoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYub3B0aW9ucy53aWR0aCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZWxlbWVudHMuY3NzKCd3aWR0aCcsIHNlbGYub3B0aW9ucy53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnRzLmNzcygnd2lkdGgnLCAnNTAlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5lbGVtZW50cztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEJpbmRzIGV2ZW50IHRvIHRoZSBET00gZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGJpbmRFdmVudHM6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnRzLmNoYW5nZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWFyY2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm4gdGhlIHNlYXJjaGVkIHN0cmluZ1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZXF1ZXN0OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdCA9IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICA7XG5cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LnB1c2goJCh0aGlzKS52YWwoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmpvaW4oc2VsZi5vcHRpb25zLnNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICQuZm4uZGF0YVRhYmxlLkNvbHVtbkZpbHRlciA9IENvbHVtbkZpbHRlcjtcbiAgICAgICAgJC5mbi5EYXRhVGFibGUuQ29sdW1uRmlsdGVyID0gQ29sdW1uRmlsdGVyO1xuXG4gICAgICAgIHJldHVybiBDb2x1bW5GaWx0ZXI7XG4gICAgfTtcblxuICAgIC8vIERlZmluZSBhcyBhbiBBTUQgbW9kdWxlIGlmIHBvc3NpYmxlXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydqcXVlcnknLCAnZGF0YXRhYmxlcyddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgICAgIGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JyksIHJlcXVpcmUoJ2RhdGF0YWJsZXMnKSk7XG4gICAgfSBlbHNlIGlmIChqUXVlcnkgJiYgIWpRdWVyeS5mbi5kYXRhVGFibGUuQ29sdW1uRmlsdGVyKSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBzaW1wbHkgaW5pdGlhbGlzZSBhcyBub3JtYWwsIHN0b3BwaW5nIG11bHRpcGxlIGV2YWx1YXRpb25cbiAgICAgICAgZmFjdG9yeShqUXVlcnksIGpRdWVyeS5mbi5kYXRhVGFibGUpO1xuICAgIH1cbn0pKHdpbmRvdywgZG9jdW1lbnQpOyJdfQ==
