!function(){"use strict";angular.module("ng-ip-address",[]).directive("ngIpAddress",(function(){return{restrict:"A",require:"?ngModel",scope:{config:"=?ngIpConfig"},link:function(e,o,i,h){if(h){var u=!1,p=!1,w=new RegExp("^0","g"),g=new RegExp("^\\.","g"),f=new RegExp("\\.\\.+","g"),d=new RegExp(":","g"),v=new RegExp("^:","g"),$=0,n=!1;e.$watchCollection("config",(function(e){e?(p="boolean"==typeof e.requirePort&&e.requirePort,u=p||"boolean"==typeof e.allowPort&&e.allowPort):p=u=!1,u||!h.$viewValue?h.$parsers[0](h.$viewValue):h.$setViewValue(h.$viewValue.replace(d,""))})),o.bind("keydown",(function(e){17!==e.which&&91!==e.which||(n=!0)})),o.bind("keyup",(function(e){17!==e.which&&91!==e.which||(n=!1)})),o.bind("keypress",(function(e){(e.which<46&&0!==e.which&&8!==e.which&&13!==e.which||47===e.which||58===e.which&&!u||58<e.which&&(!n||99!==e.which&&118!==e.which&&120!==e.which))&&e.preventDefault()})),h.$parsers.push((function(e){if(!e)return h.$setValidity("ipAddress",!0),e;var i=e;$=o[0].selectionStart;var n=!0,r=null,t=(i=(i=i.replace(g,"")).replace(f,".")).split("."),l=t.length;l<4?n=!1:4<l&&(t.length=4,l=4);for(var c=0;c<l;c++){var a=t[c];if(u)if(c<3)a=a.replace(d,"");else if(-1!==(a=a.replace(v,"")).indexOf(":")){var s=a.split(":");a=s[0],(r=s[1].replace(w,"").substring(0,5))&&V(a)&&!(65535<r)||(n=!1)}else p&&(n=!1);1<a.length?(!V(a=a.replace(w,"").substring(0,3))||255<a)&&(n=!1):a||(n=!1),t[c]=a}return i=t.join("."),null!==r&&(i+=":"+r),h.$setValidity("ipAddress",n),i===e?e:(h.$setViewValue(i),h.$render(),o[0].setSelectionRange($,$),i)}))}function V(e){return!isNaN(parseFloat(e))&&isFinite(e)}}}}))}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMvbmctaXAtYWRkcmVzcy9uZ0lwQWRkcmVzcy5taW4uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVxdWlyZSIsInNjb3BlIiwiY29uZmlnIiwibGluayIsImUiLCJvIiwiaSIsImgiLCJ1IiwicCIsInciLCJSZWdFeHAiLCJnIiwiZiIsImQiLCJ2IiwiJCIsIm4iLCIkd2F0Y2hDb2xsZWN0aW9uIiwicmVxdWlyZVBvcnQiLCJhbGxvd1BvcnQiLCIkdmlld1ZhbHVlIiwiJHBhcnNlcnMiLCIkc2V0Vmlld1ZhbHVlIiwicmVwbGFjZSIsImJpbmQiLCJ3aGljaCIsInByZXZlbnREZWZhdWx0IiwicHVzaCIsIiRzZXRWYWxpZGl0eSIsInNlbGVjdGlvblN0YXJ0IiwiciIsInQiLCJzcGxpdCIsImwiLCJsZW5ndGgiLCJjIiwiYSIsImluZGV4T2YiLCJzIiwic3Vic3RyaW5nIiwiViIsImpvaW4iLCIkcmVuZGVyIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSJdLCJtYXBwaW5ncyI6IkNBQUMsV0FBVyxhQUFhQSxRQUFRQyxPQUFPLGdCQUFnQixJQUFJQyxVQUFVLGVBQWMsV0FBVyxNQUFNLENBQUNDLFNBQVMsSUFBSUMsUUFBUSxXQUFXQyxNQUFNLENBQUNDLE9BQU8sZ0JBQWdCQyxLQUFLLFNBQVNDLEVBQUVDLEVBQUVDLEVBQUVDLEdBQUcsR0FBR0EsRUFBRSxDQUFDLElBQUlDLEdBQUUsRUFBR0MsR0FBRSxFQUFHQyxFQUFFLElBQUlDLE9BQU8sS0FBSyxLQUFLQyxFQUFFLElBQUlELE9BQU8sT0FBTyxLQUFLRSxFQUFFLElBQUlGLE9BQU8sVUFBVSxLQUFLRyxFQUFFLElBQUlILE9BQU8sSUFBSSxLQUFLSSxFQUFFLElBQUlKLE9BQU8sS0FBSyxLQUFLSyxFQUFFLEVBQUVDLEdBQUUsRUFBR2IsRUFBRWMsaUJBQWlCLFVBQVMsU0FBU2QsR0FBR0EsR0FBR0ssRUFBRSxrQkFBa0JMLEVBQUVlLGFBQWFmLEVBQUVlLFlBQVlYLEVBQUVDLEdBQUcsa0JBQWtCTCxFQUFFZ0IsV0FBV2hCLEVBQUVnQixXQUFXWCxFQUFFRCxHQUFFLEVBQUdBLElBQUlELEVBQUVjLFdBQVdkLEVBQUVlLFNBQVMsR0FBR2YsRUFBRWMsWUFBWWQsRUFBRWdCLGNBQWNoQixFQUFFYyxXQUFXRyxRQUFRVixFQUFFLFFBQU9ULEVBQUVvQixLQUFLLFdBQVUsU0FBU3JCLEdBQUcsS0FBS0EsRUFBRXNCLE9BQU8sS0FBS3RCLEVBQUVzQixRQUFRVCxHQUFFLE1BQU1aLEVBQUVvQixLQUFLLFNBQVEsU0FBU3JCLEdBQUcsS0FBS0EsRUFBRXNCLE9BQU8sS0FBS3RCLEVBQUVzQixRQUFRVCxHQUFFLE1BQU1aLEVBQUVvQixLQUFLLFlBQVcsU0FBU3JCLElBQUlBLEVBQUVzQixNQUFNLElBQUksSUFBSXRCLEVBQUVzQixPQUFPLElBQUl0QixFQUFFc0IsT0FBTyxLQUFLdEIsRUFBRXNCLE9BQU8sS0FBS3RCLEVBQUVzQixPQUFPLEtBQUt0QixFQUFFc0IsUUFBUWxCLEdBQUcsR0FBR0osRUFBRXNCLFNBQVNULEdBQUcsS0FBS2IsRUFBRXNCLE9BQU8sTUFBTXRCLEVBQUVzQixPQUFPLE1BQU10QixFQUFFc0IsU0FBU3RCLEVBQUV1QixvQkFBbUJwQixFQUFFZSxTQUFTTSxNQUFLLFNBQVN4QixHQUFHLElBQUlBLEVBQUUsT0FBT0csRUFBRXNCLGFBQWEsYUFBWSxHQUFJekIsRUFBRSxJQUFJRSxFQUFFRixFQUFFWSxFQUFFWCxFQUFFLEdBQUd5QixlQUFlLElBQUliLEdBQUUsRUFBR2MsRUFBRSxLQUFLQyxHQUFHMUIsR0FBR0EsRUFBRUEsRUFBRWtCLFFBQVFaLEVBQUUsS0FBS1ksUUFBUVgsRUFBRSxNQUFNb0IsTUFBTSxLQUFLQyxFQUFFRixFQUFFRyxPQUFPRCxFQUFFLEVBQUVqQixHQUFFLEVBQUcsRUFBRWlCLElBQUlGLEVBQUVHLE9BQU8sRUFBRUQsRUFBRSxHQUFHLElBQUksSUFBSUUsRUFBRSxFQUFFQSxFQUFFRixFQUFFRSxJQUFJLENBQUMsSUFBSUMsRUFBRUwsRUFBRUksR0FBRyxHQUFHNUIsRUFBRSxHQUFHNEIsRUFBRSxFQUFFQyxFQUFFQSxFQUFFYixRQUFRVixFQUFFLFNBQVMsSUFBSSxLQUFLdUIsRUFBRUEsRUFBRWIsUUFBUVQsRUFBRSxLQUFLdUIsUUFBUSxLQUFLLENBQUMsSUFBSUMsRUFBRUYsRUFBRUosTUFBTSxLQUFLSSxFQUFFRSxFQUFFLElBQUlSLEVBQUVRLEVBQUUsR0FBR2YsUUFBUWQsRUFBRSxJQUFJOEIsVUFBVSxFQUFFLEtBQUtDLEVBQUVKLE1BQU0sTUFBTU4sS0FBS2QsR0FBRSxRQUFTUixJQUFJUSxHQUFFLEdBQUksRUFBRW9CLEVBQUVGLFNBQVNNLEVBQUVKLEVBQUVBLEVBQUViLFFBQVFkLEVBQUUsSUFBSThCLFVBQVUsRUFBRSxLQUFLLElBQUlILEtBQUtwQixHQUFFLEdBQUlvQixJQUFJcEIsR0FBRSxHQUFJZSxFQUFFSSxHQUFHQyxFQUFxQyxPQUFuQy9CLEVBQUUwQixFQUFFVSxLQUFLLEtBQUssT0FBT1gsSUFBSXpCLEdBQUcsSUFBSXlCLEdBQVV4QixFQUFFc0IsYUFBYSxZQUFZWixHQUFHWCxJQUFJRixFQUFFQSxHQUFHRyxFQUFFZ0IsY0FBY2pCLEdBQUdDLEVBQUVvQyxVQUFVdEMsRUFBRSxHQUFHdUMsa0JBQWtCNUIsRUFBRUEsR0FBR1YsTUFBSyxTQUFTbUMsRUFBRXJDLEdBQUcsT0FBT3lDLE1BQU1DLFdBQVcxQyxLQUFLMkMsU0FBUzNDLFNBQTNrRCIsImZpbGUiOiJwbHVnaW5zL25nLWlwLWFkZHJlc3MvbmdJcEFkZHJlc3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJuZy1pcC1hZGRyZXNzXCIsW10pLmRpcmVjdGl2ZShcIm5nSXBBZGRyZXNzXCIsZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsc2NvcGU6e2NvbmZpZzpcIj0/bmdJcENvbmZpZ1wifSxsaW5rOmZ1bmN0aW9uKGUsbyxpLGgpe2lmKGgpe3ZhciB1PSExLHA9ITEsdz1uZXcgUmVnRXhwKFwiXjBcIixcImdcIiksZz1uZXcgUmVnRXhwKFwiXlxcXFwuXCIsXCJnXCIpLGY9bmV3IFJlZ0V4cChcIlxcXFwuXFxcXC4rXCIsXCJnXCIpLGQ9bmV3IFJlZ0V4cChcIjpcIixcImdcIiksdj1uZXcgUmVnRXhwKFwiXjpcIixcImdcIiksJD0wLG49ITE7ZS4kd2F0Y2hDb2xsZWN0aW9uKFwiY29uZmlnXCIsZnVuY3Rpb24oZSl7ZT8ocD1cImJvb2xlYW5cIj09dHlwZW9mIGUucmVxdWlyZVBvcnQmJmUucmVxdWlyZVBvcnQsdT1wfHxcImJvb2xlYW5cIj09dHlwZW9mIGUuYWxsb3dQb3J0JiZlLmFsbG93UG9ydCk6cD11PSExO3V8fCFoLiR2aWV3VmFsdWU/aC4kcGFyc2Vyc1swXShoLiR2aWV3VmFsdWUpOmguJHNldFZpZXdWYWx1ZShoLiR2aWV3VmFsdWUucmVwbGFjZShkLFwiXCIpKX0pLG8uYmluZChcImtleWRvd25cIixmdW5jdGlvbihlKXsxNyE9PWUud2hpY2gmJjkxIT09ZS53aGljaHx8KG49ITApfSksby5iaW5kKFwia2V5dXBcIixmdW5jdGlvbihlKXsxNyE9PWUud2hpY2gmJjkxIT09ZS53aGljaHx8KG49ITEpfSksby5iaW5kKFwia2V5cHJlc3NcIixmdW5jdGlvbihlKXsoZS53aGljaDw0NiYmMCE9PWUud2hpY2gmJjghPT1lLndoaWNoJiYxMyE9PWUud2hpY2h8fDQ3PT09ZS53aGljaHx8NTg9PT1lLndoaWNoJiYhdXx8NTg8ZS53aGljaCYmKCFufHw5OSE9PWUud2hpY2gmJjExOCE9PWUud2hpY2gmJjEyMCE9PWUud2hpY2gpKSYmZS5wcmV2ZW50RGVmYXVsdCgpfSksaC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBoLiRzZXRWYWxpZGl0eShcImlwQWRkcmVzc1wiLCEwKSxlO3ZhciBpPWU7JD1vWzBdLnNlbGVjdGlvblN0YXJ0O3ZhciBuPSEwLHI9bnVsbCx0PShpPShpPWkucmVwbGFjZShnLFwiXCIpKS5yZXBsYWNlKGYsXCIuXCIpKS5zcGxpdChcIi5cIiksbD10Lmxlbmd0aDtsPDQ/bj0hMTo0PGwmJih0Lmxlbmd0aD00LGw9NCk7Zm9yKHZhciBjPTA7YzxsO2MrKyl7dmFyIGE9dFtjXTtpZih1KWlmKGM8MylhPWEucmVwbGFjZShkLFwiXCIpO2Vsc2UgaWYoLTEhPT0oYT1hLnJlcGxhY2UodixcIlwiKSkuaW5kZXhPZihcIjpcIikpe3ZhciBzPWEuc3BsaXQoXCI6XCIpO2E9c1swXSwocj1zWzFdLnJlcGxhY2UodyxcIlwiKS5zdWJzdHJpbmcoMCw1KSkmJlYoYSkmJiEoNjU1MzU8cil8fChuPSExKX1lbHNlIHAmJihuPSExKTsxPGEubGVuZ3RoPyghVihhPWEucmVwbGFjZSh3LFwiXCIpLnN1YnN0cmluZygwLDMpKXx8MjU1PGEpJiYobj0hMSk6YXx8KG49ITEpLHRbY109YX1pPXQuam9pbihcIi5cIiksbnVsbCE9PXImJihpKz1cIjpcIityKTtyZXR1cm4gaC4kc2V0VmFsaWRpdHkoXCJpcEFkZHJlc3NcIixuKSxpPT09ZT9lOihoLiRzZXRWaWV3VmFsdWUoaSksaC4kcmVuZGVyKCksb1swXS5zZXRTZWxlY3Rpb25SYW5nZSgkLCQpLGkpfSl9ZnVuY3Rpb24gVihlKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChlKSkmJmlzRmluaXRlKGUpfX19fSl9KCk7Il19
