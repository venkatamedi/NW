/**
 * @license AngularJS v1.6.4
 * (c) 2010-2017 Google, Inc. http://angularjs.org
 * License: MIT
 */
!function(window,angular){"use strict";var bind,extend,forEach,isDefined,lowercase,noop,nodeContains,htmlParser,htmlSanitizeWriter,$sanitizeMinErr=angular.$$minErr("$sanitize");angular.module("ngSanitize",[]).provider("$sanitize",(function(){var svgEnabled=!1;this.$get=["$$sanitizeUri",function($$sanitizeUri){return svgEnabled&&extend(validElements,svgElements),function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,(function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))}))),buf.join("")}}],this.enableSvg=function(enableSvg){return isDefined(enableSvg)?(svgEnabled=enableSvg,this):svgEnabled},bind=angular.bind,extend=angular.extend,forEach=angular.forEach,isDefined=angular.isDefined,lowercase=angular.lowercase,noop=angular.noop,htmlParser=function(html,handler){null==html?html="":"string"!=typeof html&&(html=""+html);inertBodyElement.innerHTML=html;var mXSSAttempts=5;do{if(0===mXSSAttempts)throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable");mXSSAttempts--,window.document.documentMode&&stripCustomNsAttrs(inertBodyElement),html=inertBodyElement.innerHTML,inertBodyElement.innerHTML=html}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;for(;node;){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent)}var nextNode;if(!((nextNode=node.firstChild)||(1===node.nodeType&&handler.end(node.nodeName.toLowerCase()),nextNode=getNonDescendant("nextSibling",node))))for(;null==nextNode&&(node=getNonDescendant("parentNode",node))!==inertBodyElement;)nextNode=getNonDescendant("nextSibling",node),1===node.nodeType&&handler.end(node.nodeName.toLowerCase());node=nextNode}for(;node=inertBodyElement.firstChild;)inertBodyElement.removeChild(node)},htmlSanitizeWriter=function(buf,uriValidator){var ignoreCurrentElement=!1,out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag),!ignoreCurrentElement&&blockedElements[tag]&&(ignoreCurrentElement=tag),ignoreCurrentElement||!0!==validElements[tag]||(out("<"),out(tag),forEach(attrs,(function(value,key){var lkey=lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;!0!==validAttrs[lkey]||!0===uriAttrs[lkey]&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))})),out(">"))},end:function(tag){tag=lowercase(tag),ignoreCurrentElement||!0!==validElements[tag]||!0===voidElements[tag]||(out("</"),out(tag),out(">")),tag==ignoreCurrentElement&&(ignoreCurrentElement=!1)},chars:function(chars){ignoreCurrentElement||out(encodeEntities(chars))}}},nodeContains=window.Node.prototype.contains||function(arg){return!!(16&this.compareDocumentPosition(arg))};var inertBodyElement,SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g,voidElements=toMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=toMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=toMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=extend({},optionalEndTagBlockElements,toMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),inlineElements=extend({},optionalEndTagInlineElements,toMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),svgElements=toMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),blockedElements=toMap("script,style"),validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements),uriAttrs=toMap("background,cite,href,longdesc,src,xlink:href"),htmlAttrs=toMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),svgAttrs=toMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function toMap(str,lowercaseKeys){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[lowercaseKeys?lowercase(items[i]):items[i]]=!0;return obj}function attrToMap(attrs){for(var map={},i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(value){return"&#"+(1024*(value.charCodeAt(0)-55296)+(value.charCodeAt(1)-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(value){return"&#"+value.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function stripCustomNsAttrs(node){for(;node;){if(node.nodeType===window.Node.ELEMENT_NODE)for(var attrs=node.attributes,i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i],attrName=attrNode.name.toLowerCase();"xmlns:ns1"!==attrName&&0!==attrName.lastIndexOf("ns1:",0)||(node.removeAttributeNode(attrNode),i--,l--)}var nextNode=node.firstChild;nextNode&&stripCustomNsAttrs(nextNode),node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode))throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText);return nextNode}!function(window){var doc;if(!window.document||!window.document.implementation)throw $sanitizeMinErr("noinert","Can't create an inert html document");var bodyElements=((doc=window.document.implementation.createHTMLDocument("inert")).documentElement||doc.getDocumentElement()).getElementsByTagName("body");if(1===bodyElements.length)inertBodyElement=bodyElements[0];else{var html=doc.createElement("html");inertBodyElement=doc.createElement("body"),html.appendChild(inertBodyElement),doc.appendChild(html)}}(window)})).info({angularVersion:"1.6.4"}),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i,linkyMinErr=angular.$$minErr("linky"),isDefined=angular.isDefined,isFunction=angular.isFunction,isObject=angular.isObject,isString=angular.isString;return function(text,target,attributes){if(null==text||""===text)return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);for(var match,url,i,attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function(){return attributes}:function(){return{}},raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]||match[4]||(url=(match[3]?"http://":"mailto:")+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""));function addText(text){var chars,buf;text&&html.push((chars=text,htmlSanitizeWriter(buf=[],noop).chars(chars),buf.join("")))}function addLink(url,text){var key,linkAttributes=attributesFn(url);for(key in html.push("<a "),linkAttributes)html.push(key+'="'+linkAttributes[key]+'" ');isDefined(target)&&!("target"in linkAttributes)&&html.push('target="',target,'" '),html.push('href="',url.replace(/"/g,"&quot;"),'">'),addText(text),html.push("</a>")}}}])}(window,window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMvYW5ndWxhci1zYW5pdGl6ZS9hbmd1bGFyLXNhbml0aXplLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImFuZ3VsYXIiLCJiaW5kIiwiZXh0ZW5kIiwiZm9yRWFjaCIsImlzRGVmaW5lZCIsImxvd2VyY2FzZSIsIm5vb3AiLCJub2RlQ29udGFpbnMiLCJodG1sUGFyc2VyIiwiaHRtbFNhbml0aXplV3JpdGVyIiwiJHNhbml0aXplTWluRXJyIiwiJCRtaW5FcnIiLCJtb2R1bGUiLCJwcm92aWRlciIsInN2Z0VuYWJsZWQiLCJ0aGlzIiwiJGdldCIsIiQkc2FuaXRpemVVcmkiLCJ2YWxpZEVsZW1lbnRzIiwic3ZnRWxlbWVudHMiLCJodG1sIiwiYnVmIiwidXJpIiwiaXNJbWFnZSIsInRlc3QiLCJqb2luIiwiZW5hYmxlU3ZnIiwiaGFuZGxlciIsImluZXJ0Qm9keUVsZW1lbnQiLCJpbm5lckhUTUwiLCJtWFNTQXR0ZW1wdHMiLCJkb2N1bWVudCIsImRvY3VtZW50TW9kZSIsInN0cmlwQ3VzdG9tTnNBdHRycyIsIm5vZGUiLCJmaXJzdENoaWxkIiwibm9kZVR5cGUiLCJzdGFydCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJhdHRyVG9NYXAiLCJhdHRyaWJ1dGVzIiwiY2hhcnMiLCJ0ZXh0Q29udGVudCIsIm5leHROb2RlIiwiZW5kIiwiZ2V0Tm9uRGVzY2VuZGFudCIsInJlbW92ZUNoaWxkIiwidXJpVmFsaWRhdG9yIiwiaWdub3JlQ3VycmVudEVsZW1lbnQiLCJvdXQiLCJwdXNoIiwidGFnIiwiYXR0cnMiLCJibG9ja2VkRWxlbWVudHMiLCJ2YWx1ZSIsImtleSIsImxrZXkiLCJ2YWxpZEF0dHJzIiwidXJpQXR0cnMiLCJlbmNvZGVFbnRpdGllcyIsInZvaWRFbGVtZW50cyIsIk5vZGUiLCJwcm90b3R5cGUiLCJjb250YWlucyIsImFyZyIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiU1VSUk9HQVRFX1BBSVJfUkVHRVhQIiwiTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAiLCJ0b01hcCIsIm9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyIsIm9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMiLCJvcHRpb25hbEVuZFRhZ0VsZW1lbnRzIiwiYmxvY2tFbGVtZW50cyIsImlubGluZUVsZW1lbnRzIiwiaHRtbEF0dHJzIiwic3ZnQXR0cnMiLCJzdHIiLCJsb3dlcmNhc2VLZXlzIiwiaSIsIm9iaiIsIml0ZW1zIiwic3BsaXQiLCJsZW5ndGgiLCJtYXAiLCJpaSIsImF0dHIiLCJuYW1lIiwicmVwbGFjZSIsImNoYXJDb2RlQXQiLCJFTEVNRU5UX05PREUiLCJsIiwiYXR0ck5vZGUiLCJhdHRyTmFtZSIsImxhc3RJbmRleE9mIiwicmVtb3ZlQXR0cmlidXRlTm9kZSIsInByb3BOYW1lIiwiY2FsbCIsIm91dGVySFRNTCIsIm91dGVyVGV4dCIsImRvYyIsImltcGxlbWVudGF0aW9uIiwiYm9keUVsZW1lbnRzIiwiY3JlYXRlSFRNTERvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0RG9jdW1lbnRFbGVtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJpbmZvIiwiYW5ndWxhclZlcnNpb24iLCJmaWx0ZXIiLCIkc2FuaXRpemUiLCJMSU5LWV9VUkxfUkVHRVhQIiwiTUFJTFRPX1JFR0VYUCIsImxpbmt5TWluRXJyIiwiaXNGdW5jdGlvbiIsImlzT2JqZWN0IiwiaXNTdHJpbmciLCJ0ZXh0IiwidGFyZ2V0IiwibWF0Y2giLCJ1cmwiLCJhdHRyaWJ1dGVzRm4iLCJyYXciLCJpbmRleCIsImFkZFRleHQiLCJzdWJzdHIiLCJhZGRMaW5rIiwic3Vic3RyaW5nIiwibGlua0F0dHJpYnV0ZXMiXSwibWFwcGluZ3MiOiI7Ozs7O0NBS0EsU0FBVUEsT0FBUUMsU0FBVSxhQWE1QixJQUNJQyxLQUNBQyxPQUNBQyxRQUNBQyxVQUNBQyxVQUNBQyxLQUNBQyxhQUNBQyxXQUNBQyxtQkFUQUMsZ0JB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QUduQyxPQURBMkMsUUFBUUYsS0FDRFosVUFBVTVGLEtBQUtLLEtBQUssS0FFM0IsU0FBU3FHLFFBQVFQLE1BcExyQixJQUFzQjdFLE1BQ2hCckIsSUFvTEtrRyxNQUdMbkcsS0FBSytCLE1BeExXVCxNQXdMTzZFLEtBdExkOUcsbUJBRFRZLElBQU0sR0FDMkJmLE1BQzlCb0MsTUFBTUEsT0FDTnJCLElBQUlJLEtBQUssTUF1TGQsU0FBU3VHLFFBQVFOLElBQUtILE1BQ3BCLElBQUkvRCxJQUFLMEUsZUFBaUJQLGFBQWFELEtBR3ZDLElBQUtsRSxPQUZMcEMsS0FBSytCLEtBQUssT0FFRStFLGVBQ1Y5RyxLQUFLK0IsS0FBS0ssSUFBTSxLQUFPMEUsZUFBZTFFLEtBQU8sTUFHM0NwRCxVQUFVb0gsV0FBYSxXQUFZVSxpQkFDckM5RyxLQUFLK0IsS0FBSyxXQUNBcUUsT0FDQSxNQUVacEcsS0FBSytCLEtBQUssU0FDQXVFLElBQUlsQyxRQUFRLEtBQU0sVUFDbEIsTUFDVnNDLFFBQVFQLE1BQ1JuRyxLQUFLK0IsS0FBSyxhQXh1QmhCLENBOHVCR3BELE9BQVFBLE9BQU9DIiwiZmlsZSI6InBsdWdpbnMvYW5ndWxhci1zYW5pdGl6ZS9hbmd1bGFyLXNhbml0aXplLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuNi40XG4gKiAoYykgMjAxMC0yMDE3IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuICogTGljZW5zZTogTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIpIHsndXNlIHN0cmljdCc7XG5cbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXG5cbnZhciAkc2FuaXRpemVNaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyKCckc2FuaXRpemUnKTtcbnZhciBiaW5kO1xudmFyIGV4dGVuZDtcbnZhciBmb3JFYWNoO1xudmFyIGlzRGVmaW5lZDtcbnZhciBsb3dlcmNhc2U7XG52YXIgbm9vcDtcbnZhciBub2RlQ29udGFpbnM7XG52YXIgaHRtbFBhcnNlcjtcbnZhciBodG1sU2FuaXRpemVXcml0ZXI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbmdTYW5pdGl6ZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogIyBuZ1Nhbml0aXplXG4gKlxuICogVGhlIGBuZ1Nhbml0aXplYCBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBzYW5pdGl6ZSBIVE1MLlxuICpcbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nU2FuaXRpemVcIj48L2Rpdj5cbiAqXG4gKiBTZWUge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplIGAkc2FuaXRpemVgfSBmb3IgdXNhZ2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNhbml0aXplXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBTYW5pdGl6ZXMgYW4gaHRtbCBzdHJpbmcgYnkgc3RyaXBwaW5nIGFsbCBwb3RlbnRpYWxseSBkYW5nZXJvdXMgdG9rZW5zLlxuICpcbiAqICAgVGhlIGlucHV0IGlzIHNhbml0aXplZCBieSBwYXJzaW5nIHRoZSBIVE1MIGludG8gdG9rZW5zLiBBbGwgc2FmZSB0b2tlbnMgKGZyb20gYSB3aGl0ZWxpc3QpIGFyZVxuICogICB0aGVuIHNlcmlhbGl6ZWQgYmFjayB0byBwcm9wZXJseSBlc2NhcGVkIGh0bWwgc3RyaW5nLiBUaGlzIG1lYW5zIHRoYXQgbm8gdW5zYWZlIGlucHV0IGNhbiBtYWtlXG4gKiAgIGl0IGludG8gdGhlIHJldHVybmVkIHN0cmluZy5cbiAqXG4gKiAgIFRoZSB3aGl0ZWxpc3QgZm9yIFVSTCBzYW5pdGl6YXRpb24gb2YgYXR0cmlidXRlIHZhbHVlcyBpcyBjb25maWd1cmVkIHVzaW5nIHRoZSBmdW5jdGlvbnNcbiAqICAgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YCBhbmQgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGAgb2Yge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXJcbiAqICAgYCRjb21waWxlUHJvdmlkZXJgfS5cbiAqXG4gKiAgIFRoZSBpbnB1dCBtYXkgYWxzbyBjb250YWluIFNWRyBtYXJrdXAgaWYgdGhpcyBpcyBlbmFibGVkIHZpYSB7QGxpbmsgJHNhbml0aXplUHJvdmlkZXJ9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIEhUTUwgaW5wdXQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBTYW5pdGl6ZWQgSFRNTC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwic2FuaXRpemVFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIiBuYW1lPVwic2FuaXRpemUtc2VydmljZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzYW5pdGl6ZUV4YW1wbGUnLCBbJ25nU2FuaXRpemUnXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHNjZScsIGZ1bmN0aW9uKCRzY29wZSwgJHNjZSkge1xuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0ID1cbiAgICAgICAgICAgICAgICc8cCBzdHlsZT1cImNvbG9yOmJsdWVcIj5hbiBodG1sXFxuJyArXG4gICAgICAgICAgICAgICAnPGVtIG9ubW91c2VvdmVyPVwidGhpcy50ZXh0Q29udGVudD1cXCdQV04zRCFcXCdcIj5jbGljayBoZXJlPC9lbT5cXG4nICtcbiAgICAgICAgICAgICAgICdzbmlwcGV0PC9wPic7XG4gICAgICAgICAgICAgJHNjb3BlLmRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwoJHNjb3BlLnNuaXBwZXQpO1xuICAgICAgICAgICAgIH07XG4gICAgICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIFNuaXBwZXQ6IDx0ZXh0YXJlYSBuZy1tb2RlbD1cInNuaXBwZXRcIiBjb2xzPVwiNjBcIiByb3dzPVwiM1wiPjwvdGV4dGFyZWE+XG4gICAgICAgPHRhYmxlPlxuICAgICAgICAgPHRyPlxuICAgICAgICAgICA8dGQ+RGlyZWN0aXZlPC90ZD5cbiAgICAgICAgICAgPHRkPkhvdzwvdGQ+XG4gICAgICAgICAgIDx0ZD5Tb3VyY2U8L3RkPlxuICAgICAgICAgICA8dGQ+UmVuZGVyZWQ8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImJpbmQtaHRtbC13aXRoLXNhbml0aXplXCI+XG4gICAgICAgICAgIDx0ZD5uZy1iaW5kLWh0bWw8L3RkPlxuICAgICAgICAgICA8dGQ+QXV0b21hdGljYWxseSB1c2VzICRzYW5pdGl6ZTwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldFwiJmd0Ozxici8+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1odG1sLXdpdGgtdHJ1c3RcIj5cbiAgICAgICAgICAgPHRkPm5nLWJpbmQtaHRtbDwvdGQ+XG4gICAgICAgICAgIDx0ZD5CeXBhc3MgJHNhbml0aXplIGJ5IGV4cGxpY2l0bHkgdHJ1c3RpbmcgdGhlIGRhbmdlcm91cyB2YWx1ZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgPHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cImRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCgpXCImZ3Q7XG4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZC1odG1sPVwiZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0KClcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImJpbmQtZGVmYXVsdFwiPlxuICAgICAgICAgICA8dGQ+bmctYmluZDwvdGQ+XG4gICAgICAgICAgIDx0ZD5BdXRvbWF0aWNhbGx5IGVzY2FwZXM8L3RkPlxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCImZ3Q7PGJyLz4mbHQ7L2RpdiZndDs8L3ByZT48L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdGhlIGh0bWwgc25pcHBldCBieSBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtc2FuaXRpemUgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLlxuICAgICAgICAgdG9CZSgnPHA+YW4gaHRtbFxcbjxlbT5jbGljayBoZXJlPC9lbT5cXG5zbmlwcGV0PC9wPicpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIGlubGluZSByYXcgc25pcHBldCBpZiBib3VuZCB0byBhIHRydXN0ZWQgdmFsdWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC10cnVzdCBkaXYnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkuXG4gICAgICAgICB0b0JlKFwiPHAgc3R5bGU9XFxcImNvbG9yOmJsdWVcXFwiPmFuIGh0bWxcXG5cIiArXG4gICAgICAgICAgICAgIFwiPGVtIG9ubW91c2VvdmVyPVxcXCJ0aGlzLnRleHRDb250ZW50PSdQV04zRCEnXFxcIj5jbGljayBoZXJlPC9lbT5cXG5cIiArXG4gICAgICAgICAgICAgIFwic25pcHBldDwvcD5cIik7XG4gICAgIH0pO1xuXG4gICAgIGl0KCdzaG91bGQgZXNjYXBlIHNuaXBwZXQgd2l0aG91dCBhbnkgZmlsdGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1kZWZhdWx0IGRpdicpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS5cbiAgICAgICAgIHRvQmUoXCImbHQ7cCBzdHlsZT1cXFwiY29sb3I6Ymx1ZVxcXCImZ3Q7YW4gaHRtbFxcblwiICtcbiAgICAgICAgICAgICAgXCImbHQ7ZW0gb25tb3VzZW92ZXI9XFxcInRoaXMudGV4dENvbnRlbnQ9J1BXTjNEISdcXFwiJmd0O2NsaWNrIGhlcmUmbHQ7L2VtJmd0O1xcblwiICtcbiAgICAgICAgICAgICAgXCJzbmlwcGV0Jmx0Oy9wJmd0O1wiKTtcbiAgICAgfSk7XG5cbiAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLmNsZWFyKCk7XG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5zZW5kS2V5cygnbmV3IDxiIG9uY2xpY2s9XCJhbGVydCgxKVwiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtc2FuaXRpemUgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLlxuICAgICAgICAgdG9CZSgnbmV3IDxiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtdHJ1c3QgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLnRvQmUoXG4gICAgICAgICAnbmV3IDxiIG9uY2xpY2s9XCJhbGVydCgxKVwiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1kZWZhdWx0IGRpdicpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS50b0JlKFxuICAgICAgICAgXCJuZXcgJmx0O2Igb25jbGljaz1cXFwiYWxlcnQoMSlcXFwiJmd0O3RleHQmbHQ7L2ImZ3Q7XCIpO1xuICAgICB9KTtcbiAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkc2FuaXRpemVQcm92aWRlclxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW5kIGNvbmZpZ3VyZXMge0BsaW5rICRzYW5pdGl6ZX0gaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uICRTYW5pdGl6ZVByb3ZpZGVyKCkge1xuICB2YXIgc3ZnRW5hYmxlZCA9IGZhbHNlO1xuXG4gIHRoaXMuJGdldCA9IFsnJCRzYW5pdGl6ZVVyaScsIGZ1bmN0aW9uKCQkc2FuaXRpemVVcmkpIHtcbiAgICBpZiAoc3ZnRW5hYmxlZCkge1xuICAgICAgZXh0ZW5kKHZhbGlkRWxlbWVudHMsIHN2Z0VsZW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGh0bWwpIHtcbiAgICAgIHZhciBidWYgPSBbXTtcbiAgICAgIGh0bWxQYXJzZXIoaHRtbCwgaHRtbFNhbml0aXplV3JpdGVyKGJ1ZiwgZnVuY3Rpb24odXJpLCBpc0ltYWdlKSB7XG4gICAgICAgIHJldHVybiAhL151bnNhZmU6Ly50ZXN0KCQkc2FuaXRpemVVcmkodXJpLCBpc0ltYWdlKSk7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gYnVmLmpvaW4oJycpO1xuICAgIH07XG4gIH1dO1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNhbml0aXplUHJvdmlkZXIjZW5hYmxlU3ZnXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFbmFibGVzIGEgc3Vic2V0IG9mIHN2ZyB0byBiZSBzdXBwb3J0ZWQgYnkgdGhlIHNhbml0aXplci5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogICA8cD5CeSBlbmFibGluZyB0aGlzIHNldHRpbmcgd2l0aG91dCB0YWtpbmcgb3RoZXIgcHJlY2F1dGlvbnMsIHlvdSBtaWdodCBleHBvc2UgeW91clxuICAgKiAgIGFwcGxpY2F0aW9uIHRvIGNsaWNrLWhpamFja2luZyBhdHRhY2tzLiBJbiB0aGVzZSBhdHRhY2tzLCBzYW5pdGl6ZWQgc3ZnIGVsZW1lbnRzIGNvdWxkIGJlIHBvc2l0aW9uZWRcbiAgICogICBvdXRzaWRlIG9mIHRoZSBjb250YWluaW5nIGVsZW1lbnQgYW5kIGJlIHJlbmRlcmVkIG92ZXIgb3RoZXIgZWxlbWVudHMgb24gdGhlIHBhZ2UgKGUuZy4gYSBsb2dpblxuICAgKiAgIGxpbmspLiBTdWNoIGJlaGF2aW9yIGNhbiB0aGVuIHJlc3VsdCBpbiBwaGlzaGluZyBpbmNpZGVudHMuPC9wPlxuICAgKlxuICAgKiAgIDxwPlRvIHByb3RlY3QgYWdhaW5zdCB0aGVzZSwgZXhwbGljaXRseSBzZXR1cCBgb3ZlcmZsb3c6IGhpZGRlbmAgY3NzIHJ1bGUgZm9yIGFsbCBwb3RlbnRpYWwgc3ZnXG4gICAqICAgdGFncyB3aXRoaW4gdGhlIHNhbml0aXplZCBjb250ZW50OjwvcD5cbiAgICpcbiAgICogICA8YnI+XG4gICAqXG4gICAqICAgPHByZT48Y29kZT5cbiAgICogICAucm9vdE9mVGhlSW5jbHVkZWRDb250ZW50IHN2ZyB7XG4gICAqICAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XG4gICAqICAgfVxuICAgKiAgIDwvY29kZT48L3ByZT5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGZsYWcgRW5hYmxlIG9yIGRpc2FibGUgU1ZHIHN1cHBvcnQgaW4gdGhlIHNhbml0aXplci5cbiAgICogQHJldHVybnMge2Jvb2xlYW58bmcuJHNhbml0aXplUHJvdmlkZXJ9IFJldHVybnMgdGhlIGN1cnJlbnRseSBjb25maWd1cmVkIHZhbHVlIGlmIGNhbGxlZFxuICAgKiAgICB3aXRob3V0IGFuIGFyZ3VtZW50IG9yIHNlbGYgZm9yIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuZW5hYmxlU3ZnID0gZnVuY3Rpb24oZW5hYmxlU3ZnKSB7XG4gICAgaWYgKGlzRGVmaW5lZChlbmFibGVTdmcpKSB7XG4gICAgICBzdmdFbmFibGVkID0gZW5hYmxlU3ZnO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdmdFbmFibGVkO1xuICAgIH1cbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBQcml2YXRlIHN0dWZmXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgYmluZCA9IGFuZ3VsYXIuYmluZDtcbiAgZXh0ZW5kID0gYW5ndWxhci5leHRlbmQ7XG4gIGZvckVhY2ggPSBhbmd1bGFyLmZvckVhY2g7XG4gIGlzRGVmaW5lZCA9IGFuZ3VsYXIuaXNEZWZpbmVkO1xuICBsb3dlcmNhc2UgPSBhbmd1bGFyLmxvd2VyY2FzZTtcbiAgbm9vcCA9IGFuZ3VsYXIubm9vcDtcblxuICBodG1sUGFyc2VyID0gaHRtbFBhcnNlckltcGw7XG4gIGh0bWxTYW5pdGl6ZVdyaXRlciA9IGh0bWxTYW5pdGl6ZVdyaXRlckltcGw7XG5cbiAgbm9kZUNvbnRhaW5zID0gd2luZG93Lk5vZGUucHJvdG90eXBlLmNvbnRhaW5zIHx8IC8qKiBAdGhpcyAqLyBmdW5jdGlvbihhcmcpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgIHJldHVybiAhISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGFyZykgJiAxNik7XG4gIH07XG5cbiAgLy8gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgcGFyc2luZyB0YWdzIGFuZCBhdHRyaWJ1dGVzXG4gIHZhciBTVVJST0dBVEVfUEFJUl9SRUdFWFAgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nLFxuICAgIC8vIE1hdGNoIGV2ZXJ5dGhpbmcgb3V0c2lkZSBvZiBub3JtYWwgY2hhcnMgYW5kIFwiIChxdW90ZSBjaGFyYWN0ZXIpXG4gICAgTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAgPSAvKFteIy1+IHwhXSkvZztcblxuXG4gIC8vIEdvb2Qgc291cmNlIG9mIGluZm8gYWJvdXQgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXNcbiAgLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3NlbWFudGljc1xuICAvLyBodHRwOi8vc2ltb24uaHRtbDUub3JnL2h0bWwtZWxlbWVudHNcblxuICAvLyBTYWZlIFZvaWQgRWxlbWVudHMgLSBIVE1MNVxuICAvLyBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjdm9pZC1lbGVtZW50c1xuICB2YXIgdm9pZEVsZW1lbnRzID0gdG9NYXAoJ2FyZWEsYnIsY29sLGhyLGltZyx3YnInKTtcblxuICAvLyBFbGVtZW50cyB0aGF0IHlvdSBjYW4sIGludGVudGlvbmFsbHksIGxlYXZlIG9wZW4gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxuICAvLyBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjb3B0aW9uYWwtdGFnc1xuICB2YXIgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzID0gdG9NYXAoJ2NvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHInKSxcbiAgICAgIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMgPSB0b01hcCgncnAscnQnKSxcbiAgICAgIG9wdGlvbmFsRW5kVGFnRWxlbWVudHMgPSBleHRlbmQoe30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxFbmRUYWdJbmxpbmVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEVuZFRhZ0Jsb2NrRWxlbWVudHMpO1xuXG4gIC8vIFNhZmUgQmxvY2sgRWxlbWVudHMgLSBIVE1MNVxuICB2YXIgYmxvY2tFbGVtZW50cyA9IGV4dGVuZCh7fSwgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzLCB0b01hcCgnYWRkcmVzcyxhcnRpY2xlLCcgK1xuICAgICAgICAgICdhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSwnICtcbiAgICAgICAgICAnaDYsaGVhZGVyLGhncm91cCxocixpbnMsbWFwLG1lbnUsbmF2LG9sLHByZSxzZWN0aW9uLHRhYmxlLHVsJykpO1xuXG4gIC8vIElubGluZSBFbGVtZW50cyAtIEhUTUw1XG4gIHZhciBpbmxpbmVFbGVtZW50cyA9IGV4dGVuZCh7fSwgb3B0aW9uYWxFbmRUYWdJbmxpbmVFbGVtZW50cywgdG9NYXAoJ2EsYWJicixhY3JvbnltLGIsJyArXG4gICAgICAgICAgJ2JkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxxLHJ1YnkscnAscnQscywnICtcbiAgICAgICAgICAnc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHR0LHUsdmFyJykpO1xuXG4gIC8vIFNWRyBFbGVtZW50c1xuICAvLyBodHRwczovL3dpa2kud2hhdHdnLm9yZy93aWtpL1Nhbml0aXphdGlvbl9ydWxlcyNzdmdfRWxlbWVudHNcbiAgLy8gTm90ZTogdGhlIGVsZW1lbnRzIGFuaW1hdGUsYW5pbWF0ZUNvbG9yLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxzZXQgYXJlIGludGVudGlvbmFsbHkgb21pdHRlZC5cbiAgLy8gVGhleSBjYW4gcG90ZW50aWFsbHkgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkLiBTZWUgIzExMjkwXG4gIHZhciBzdmdFbGVtZW50cyA9IHRvTWFwKCdjaXJjbGUsZGVmcyxkZXNjLGVsbGlwc2UsZm9udC1mYWNlLGZvbnQtZmFjZS1uYW1lLGZvbnQtZmFjZS1zcmMsZyxnbHlwaCwnICtcbiAgICAgICAgICAnaGtlcm4saW1hZ2UsbGluZWFyR3JhZGllbnQsbGluZSxtYXJrZXIsbWV0YWRhdGEsbWlzc2luZy1nbHlwaCxtcGF0aCxwYXRoLHBvbHlnb24scG9seWxpbmUsJyArXG4gICAgICAgICAgJ3JhZGlhbEdyYWRpZW50LHJlY3Qsc3RvcCxzdmcsc3dpdGNoLHRleHQsdGl0bGUsdHNwYW4nKTtcblxuICAvLyBCbG9ja2VkIEVsZW1lbnRzICh3aWxsIGJlIHN0cmlwcGVkKVxuICB2YXIgYmxvY2tlZEVsZW1lbnRzID0gdG9NYXAoJ3NjcmlwdCxzdHlsZScpO1xuXG4gIHZhciB2YWxpZEVsZW1lbnRzID0gZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWRFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0VsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRW5kVGFnRWxlbWVudHMpO1xuXG4gIC8vQXR0cmlidXRlcyB0aGF0IGhhdmUgaHJlZiBhbmQgaGVuY2UgbmVlZCB0byBiZSBzYW5pdGl6ZWRcbiAgdmFyIHVyaUF0dHJzID0gdG9NYXAoJ2JhY2tncm91bmQsY2l0ZSxocmVmLGxvbmdkZXNjLHNyYyx4bGluazpocmVmJyk7XG5cbiAgdmFyIGh0bWxBdHRycyA9IHRvTWFwKCdhYmJyLGFsaWduLGFsdCxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLCcgK1xuICAgICAgJ2NvbG9yLGNvbHMsY29sc3Bhbixjb21wYWN0LGNvb3JkcyxkaXIsZmFjZSxoZWFkZXJzLGhlaWdodCxocmVmbGFuZyxoc3BhY2UsJyArXG4gICAgICAnaXNtYXAsbGFuZyxsYW5ndWFnZSxub2hyZWYsbm93cmFwLHJlbCxyZXYscm93cyxyb3dzcGFuLHJ1bGVzLCcgK1xuICAgICAgJ3Njb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNwYW4sc3RhcnQsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHlwZSwnICtcbiAgICAgICd2YWxpZ24sdmFsdWUsdnNwYWNlLHdpZHRoJyk7XG5cbiAgLy8gU1ZHIGF0dHJpYnV0ZXMgKHdpdGhvdXQgXCJpZFwiIGFuZCBcIm5hbWVcIiBhdHRyaWJ1dGVzKVxuICAvLyBodHRwczovL3dpa2kud2hhdHdnLm9yZy93aWtpL1Nhbml0aXphdGlvbl9ydWxlcyNzdmdfQXR0cmlidXRlc1xuICB2YXIgc3ZnQXR0cnMgPSB0b01hcCgnYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFscGhhYmV0aWMsYXJhYmljLWZvcm0sYXNjZW50LCcgK1xuICAgICAgJ2Jhc2VQcm9maWxlLGJib3gsYmVnaW4sYnksY2FsY01vZGUsY2FwLWhlaWdodCxjbGFzcyxjb2xvcixjb2xvci1yZW5kZXJpbmcsY29udGVudCwnICtcbiAgICAgICdjeCxjeSxkLGR4LGR5LGRlc2NlbnQsZGlzcGxheSxkdXIsZW5kLGZpbGwsZmlsbC1ydWxlLGZvbnQtZmFtaWx5LGZvbnQtc2l6ZSxmb250LXN0cmV0Y2gsJyArXG4gICAgICAnZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZnJvbSxmeCxmeSxnMSxnMixnbHlwaC1uYW1lLGdyYWRpZW50VW5pdHMsaGFuZ2luZywnICtcbiAgICAgICdoZWlnaHQsaG9yaXotYWR2LXgsaG9yaXotb3JpZ2luLXgsaWRlb2dyYXBoaWMsayxrZXlQb2ludHMsa2V5U3BsaW5lcyxrZXlUaW1lcyxsYW5nLCcgK1xuICAgICAgJ21hcmtlci1lbmQsbWFya2VyLW1pZCxtYXJrZXItc3RhcnQsbWFya2VySGVpZ2h0LG1hcmtlclVuaXRzLG1hcmtlcldpZHRoLG1hdGhlbWF0aWNhbCwnICtcbiAgICAgICdtYXgsbWluLG9mZnNldCxvcGFjaXR5LG9yaWVudCxvcmlnaW4sb3ZlcmxpbmUtcG9zaXRpb24sb3ZlcmxpbmUtdGhpY2tuZXNzLHBhbm9zZS0xLCcgK1xuICAgICAgJ3BhdGgscGF0aExlbmd0aCxwb2ludHMscHJlc2VydmVBc3BlY3RSYXRpbyxyLHJlZlgscmVmWSxyZXBlYXRDb3VudCxyZXBlYXREdXIsJyArXG4gICAgICAncmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyb3RhdGUscngscnksc2xvcGUsc3RlbWgsc3RlbXYsc3RvcC1jb2xvciwnICtcbiAgICAgICdzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJva2Usc3Ryb2tlLWRhc2hhcnJheSwnICtcbiAgICAgICdzdHJva2UtZGFzaG9mZnNldCxzdHJva2UtbGluZWNhcCxzdHJva2UtbGluZWpvaW4sc3Ryb2tlLW1pdGVybGltaXQsc3Ryb2tlLW9wYWNpdHksJyArXG4gICAgICAnc3Ryb2tlLXdpZHRoLHN5c3RlbUxhbmd1YWdlLHRhcmdldCx0ZXh0LWFuY2hvcix0byx0cmFuc2Zvcm0sdHlwZSx1MSx1Mix1bmRlcmxpbmUtcG9zaXRpb24sJyArXG4gICAgICAndW5kZXJsaW5lLXRoaWNrbmVzcyx1bmljb2RlLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHZhbHVlcyx2ZXJzaW9uLHZpZXdCb3gsdmlzaWJpbGl0eSwnICtcbiAgICAgICd3aWR0aCx3aWR0aHMseCx4LWhlaWdodCx4MSx4Mix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6cm9sZSx4bGluazpzaG93LHhsaW5rOnRpdGxlLCcgK1xuICAgICAgJ3hsaW5rOnR5cGUseG1sOmJhc2UseG1sOmxhbmcseG1sOnNwYWNlLHhtbG5zLHhtbG5zOnhsaW5rLHkseTEseTIsem9vbUFuZFBhbicsIHRydWUpO1xuXG4gIHZhciB2YWxpZEF0dHJzID0gZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVyaUF0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2Z0F0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxBdHRycyk7XG5cbiAgZnVuY3Rpb24gdG9NYXAoc3RyLCBsb3dlcmNhc2VLZXlzKSB7XG4gICAgdmFyIG9iaiA9IHt9LCBpdGVtcyA9IHN0ci5zcGxpdCgnLCcpLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqW2xvd2VyY2FzZUtleXMgPyBsb3dlcmNhc2UoaXRlbXNbaV0pIDogaXRlbXNbaV1dID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciBpbmVydEJvZHlFbGVtZW50O1xuICAoZnVuY3Rpb24od2luZG93KSB7XG4gICAgdmFyIGRvYztcbiAgICBpZiAod2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbikge1xuICAgICAgZG9jID0gd2luZG93LmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnaW5lcnQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgJHNhbml0aXplTWluRXJyKCdub2luZXJ0JywgJ0NhblxcJ3QgY3JlYXRlIGFuIGluZXJ0IGh0bWwgZG9jdW1lbnQnKTtcbiAgICB9XG4gICAgdmFyIGRvY0VsZW1lbnQgPSBkb2MuZG9jdW1lbnRFbGVtZW50IHx8IGRvYy5nZXREb2N1bWVudEVsZW1lbnQoKTtcbiAgICB2YXIgYm9keUVsZW1lbnRzID0gZG9jRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpO1xuXG4gICAgLy8gdXN1YWxseSB0aGVyZSBzaG91bGQgYmUgb25seSBvbmUgYm9keSBlbGVtZW50IGluIHRoZSBkb2N1bWVudCwgYnV0IElFIGRvZXNuJ3QgaGF2ZSBhbnksIHNvIHdlIG5lZWQgdG8gY3JlYXRlIG9uZVxuICAgIGlmIChib2R5RWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBpbmVydEJvZHlFbGVtZW50ID0gYm9keUVsZW1lbnRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaHRtbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgICBpbmVydEJvZHlFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoaW5lcnRCb2R5RWxlbWVudCk7XG4gICAgICBkb2MuYXBwZW5kQ2hpbGQoaHRtbCk7XG4gICAgfVxuICB9KSh3aW5kb3cpO1xuXG4gIC8qKlxuICAgKiBAZXhhbXBsZVxuICAgKiBodG1sUGFyc2VyKGh0bWxTdHJpbmcsIHtcbiAgICogICAgIHN0YXJ0OiBmdW5jdGlvbih0YWcsIGF0dHJzKSB7fSxcbiAgICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAgICogICAgIGNoYXJzOiBmdW5jdGlvbih0ZXh0KSB7fSxcbiAgICogICAgIGNvbW1lbnQ6IGZ1bmN0aW9uKHRleHQpIHt9XG4gICAqIH0pO1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaHRtbCBzdHJpbmdcbiAgICogQHBhcmFtIHtvYmplY3R9IGhhbmRsZXJcbiAgICovXG4gIGZ1bmN0aW9uIGh0bWxQYXJzZXJJbXBsKGh0bWwsIGhhbmRsZXIpIHtcbiAgICBpZiAoaHRtbCA9PT0gbnVsbCB8fCBodG1sID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGh0bWwgPSAnJztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBodG1sICE9PSAnc3RyaW5nJykge1xuICAgICAgaHRtbCA9ICcnICsgaHRtbDtcbiAgICB9XG4gICAgaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgLy9tWFNTIHByb3RlY3Rpb25cbiAgICB2YXIgbVhTU0F0dGVtcHRzID0gNTtcbiAgICBkbyB7XG4gICAgICBpZiAobVhTU0F0dGVtcHRzID09PSAwKSB7XG4gICAgICAgIHRocm93ICRzYW5pdGl6ZU1pbkVycigndWlucHV0JywgJ0ZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGlucHV0IGlzIHVuc3RhYmxlJyk7XG4gICAgICB9XG4gICAgICBtWFNTQXR0ZW1wdHMtLTtcblxuICAgICAgLy8gc3RyaXAgY3VzdG9tLW5hbWVzcGFjZWQgYXR0cmlidXRlcyBvbiBJRTw9MTFcbiAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgIHN0cmlwQ3VzdG9tTnNBdHRycyhpbmVydEJvZHlFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGh0bWwgPSBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTDsgLy90cmlnZ2VyIG1YU1NcbiAgICAgIGluZXJ0Qm9keUVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9IHdoaWxlIChodG1sICE9PSBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTCk7XG5cbiAgICB2YXIgbm9kZSA9IGluZXJ0Qm9keUVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMTogLy8gRUxFTUVOVF9OT0RFXG4gICAgICAgICAgaGFuZGxlci5zdGFydChub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIGF0dHJUb01hcChub2RlLmF0dHJpYnV0ZXMpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOiAvLyBURVhUIE5PREVcbiAgICAgICAgICBoYW5kbGVyLmNoYXJzKG5vZGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV4dE5vZGU7XG4gICAgICBpZiAoIShuZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICBoYW5kbGVyLmVuZChub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIG5leHROb2RlID0gZ2V0Tm9uRGVzY2VuZGFudCgnbmV4dFNpYmxpbmcnLCBub2RlKTtcbiAgICAgICAgaWYgKCFuZXh0Tm9kZSkge1xuICAgICAgICAgIHdoaWxlIChuZXh0Tm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlID0gZ2V0Tm9uRGVzY2VuZGFudCgncGFyZW50Tm9kZScsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IGluZXJ0Qm9keUVsZW1lbnQpIGJyZWFrO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBnZXROb25EZXNjZW5kYW50KCduZXh0U2libGluZycsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgaGFuZGxlci5lbmQobm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICB9XG5cbiAgICB3aGlsZSAoKG5vZGUgPSBpbmVydEJvZHlFbGVtZW50LmZpcnN0Q2hpbGQpKSB7XG4gICAgICBpbmVydEJvZHlFbGVtZW50LnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dHJUb01hcChhdHRycykge1xuICAgIHZhciBtYXAgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhdHRycy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgYXR0ciA9IGF0dHJzW2ldO1xuICAgICAgbWFwW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9XG5cblxuICAvKipcbiAgICogRXNjYXBlcyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNoYXJhY3RlcnMsIHNvIHRoYXQgdGhlXG4gICAqIHJlc3VsdGluZyBzdHJpbmcgY2FuIGJlIHNhZmVseSBpbnNlcnRlZCBpbnRvIGF0dHJpYnV0ZSBvclxuICAgKiBlbGVtZW50IHRleHQuXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBlc2NhcGVkIHRleHRcbiAgICovXG4gIGZ1bmN0aW9uIGVuY29kZUVudGl0aWVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLlxuICAgICAgcmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5cbiAgICAgIHJlcGxhY2UoU1VSUk9HQVRFX1BBSVJfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaGkgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgbG93ID0gdmFsdWUuY2hhckNvZGVBdCgxKTtcbiAgICAgICAgcmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xuICAgICAgfSkuXG4gICAgICByZXBsYWNlKE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJyYjJyArIHZhbHVlLmNoYXJDb2RlQXQoMCkgKyAnOyc7XG4gICAgICB9KS5cbiAgICAgIHJlcGxhY2UoLzwvZywgJyZsdDsnKS5cbiAgICAgIHJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjcmVhdGUgYW4gSFRNTC9YTUwgd3JpdGVyIHdoaWNoIHdyaXRlcyB0byBidWZmZXJcbiAgICogQHBhcmFtIHtBcnJheX0gYnVmIHVzZSBidWYuam9pbignJykgdG8gZ2V0IG91dCBzYW5pdGl6ZWQgaHRtbCBzdHJpbmdcbiAgICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge1xuICAgKiAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMpIHt9LFxuICAgKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxuICAgKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxuICAgKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAgICogfVxuICAgKi9cbiAgZnVuY3Rpb24gaHRtbFNhbml0aXplV3JpdGVySW1wbChidWYsIHVyaVZhbGlkYXRvcikge1xuICAgIHZhciBpZ25vcmVDdXJyZW50RWxlbWVudCA9IGZhbHNlO1xuICAgIHZhciBvdXQgPSBiaW5kKGJ1ZiwgYnVmLnB1c2gpO1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycykge1xuICAgICAgICB0YWcgPSBsb3dlcmNhc2UodGFnKTtcbiAgICAgICAgaWYgKCFpZ25vcmVDdXJyZW50RWxlbWVudCAmJiBibG9ja2VkRWxlbWVudHNbdGFnXSkge1xuICAgICAgICAgIGlnbm9yZUN1cnJlbnRFbGVtZW50ID0gdGFnO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaWdub3JlQ3VycmVudEVsZW1lbnQgJiYgdmFsaWRFbGVtZW50c1t0YWddID09PSB0cnVlKSB7XG4gICAgICAgICAgb3V0KCc8Jyk7XG4gICAgICAgICAgb3V0KHRhZyk7XG4gICAgICAgICAgZm9yRWFjaChhdHRycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgdmFyIGxrZXkgPSBsb3dlcmNhc2Uoa2V5KTtcbiAgICAgICAgICAgIHZhciBpc0ltYWdlID0gKHRhZyA9PT0gJ2ltZycgJiYgbGtleSA9PT0gJ3NyYycpIHx8IChsa2V5ID09PSAnYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgaWYgKHZhbGlkQXR0cnNbbGtleV0gPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgKHVyaUF0dHJzW2xrZXldICE9PSB0cnVlIHx8IHVyaVZhbGlkYXRvcih2YWx1ZSwgaXNJbWFnZSkpKSB7XG4gICAgICAgICAgICAgIG91dCgnICcpO1xuICAgICAgICAgICAgICBvdXQoa2V5KTtcbiAgICAgICAgICAgICAgb3V0KCc9XCInKTtcbiAgICAgICAgICAgICAgb3V0KGVuY29kZUVudGl0aWVzKHZhbHVlKSk7XG4gICAgICAgICAgICAgIG91dCgnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvdXQoJz4nKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVuZDogZnVuY3Rpb24odGFnKSB7XG4gICAgICAgIHRhZyA9IGxvd2VyY2FzZSh0YWcpO1xuICAgICAgICBpZiAoIWlnbm9yZUN1cnJlbnRFbGVtZW50ICYmIHZhbGlkRWxlbWVudHNbdGFnXSA9PT0gdHJ1ZSAmJiB2b2lkRWxlbWVudHNbdGFnXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgIG91dCgnPC8nKTtcbiAgICAgICAgICBvdXQodGFnKTtcbiAgICAgICAgICBvdXQoJz4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIGlmICh0YWcgPT0gaWdub3JlQ3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICBpZ25vcmVDdXJyZW50RWxlbWVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hhcnM6IGZ1bmN0aW9uKGNoYXJzKSB7XG4gICAgICAgIGlmICghaWdub3JlQ3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICBvdXQoZW5jb2RlRW50aXRpZXMoY2hhcnMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuXG4gIC8qKlxuICAgKiBXaGVuIElFOS0xMSBjb21lcyBhY3Jvc3MgYW4gdW5rbm93biBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBlLmcuICd4bGluazpmb28nIGl0IGFkZHMgJ3htbG5zOm5zMScgYXR0cmlidXRlIHRvIGRlY2xhcmVcbiAgICogbnMxIG5hbWVzcGFjZSBhbmQgcHJlZml4ZXMgdGhlIGF0dHJpYnV0ZSB3aXRoICduczEnIChlLmcuICduczE6eGxpbms6Zm9vJykuIFRoaXMgaXMgdW5kZXNpcmFibGUgc2luY2Ugd2UgZG9uJ3Qgd2FudFxuICAgKiB0byBhbGxvdyBhbnkgb2YgdGhlc2UgY3VzdG9tIGF0dHJpYnV0ZXMuIFRoaXMgbWV0aG9kIHN0cmlwcyB0aGVtIGFsbC5cbiAgICpcbiAgICogQHBhcmFtIG5vZGUgUm9vdCBlbGVtZW50IHRvIHByb2Nlc3NcbiAgICovXG4gIGZ1bmN0aW9uIHN0cmlwQ3VzdG9tTnNBdHRycyhub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSB3aW5kb3cuTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgdmFyIGF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBhdHRyTm9kZSA9IGF0dHJzW2ldO1xuICAgICAgICAgIHZhciBhdHRyTmFtZSA9IGF0dHJOb2RlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd4bWxuczpuczEnIHx8IGF0dHJOYW1lLmxhc3RJbmRleE9mKCduczE6JywgMCkgPT09IDApIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlTm9kZShhdHRyTm9kZSk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBsLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIGlmIChuZXh0Tm9kZSkge1xuICAgICAgICBzdHJpcEN1c3RvbU5zQXR0cnMobmV4dE5vZGUpO1xuICAgICAgfVxuXG4gICAgICBub2RlID0gZ2V0Tm9uRGVzY2VuZGFudCgnbmV4dFNpYmxpbmcnLCBub2RlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXROb25EZXNjZW5kYW50KHByb3BOYW1lLCBub2RlKSB7XG4gICAgLy8gQW4gZWxlbWVudCBpcyBjbG9iYmVyZWQgaWYgaXRzIGBwcm9wTmFtZWAgcHJvcGVydHkgcG9pbnRzIHRvIG9uZSBvZiBpdHMgZGVzY2VuZGFudHNcbiAgICB2YXIgbmV4dE5vZGUgPSBub2RlW3Byb3BOYW1lXTtcbiAgICBpZiAobmV4dE5vZGUgJiYgbm9kZUNvbnRhaW5zLmNhbGwobm9kZSwgbmV4dE5vZGUpKSB7XG4gICAgICB0aHJvdyAkc2FuaXRpemVNaW5FcnIoJ2VsY2xvYicsICdGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBlbGVtZW50IGlzIGNsb2JiZXJlZDogezB9Jywgbm9kZS5vdXRlckhUTUwgfHwgbm9kZS5vdXRlclRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dE5vZGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FuaXRpemVUZXh0KGNoYXJzKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgdmFyIHdyaXRlciA9IGh0bWxTYW5pdGl6ZVdyaXRlcihidWYsIG5vb3ApO1xuICB3cml0ZXIuY2hhcnMoY2hhcnMpO1xuICByZXR1cm4gYnVmLmpvaW4oJycpO1xufVxuXG5cbi8vIGRlZmluZSBuZ1Nhbml0aXplIG1vZHVsZSBhbmQgcmVnaXN0ZXIgJHNhbml0aXplIHNlcnZpY2VcbmFuZ3VsYXIubW9kdWxlKCduZ1Nhbml0aXplJywgW10pXG4gIC5wcm92aWRlcignJHNhbml0aXplJywgJFNhbml0aXplUHJvdmlkZXIpXG4gIC5pbmZvKHsgYW5ndWxhclZlcnNpb246ICcxLjYuNCcgfSk7XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbGlua3lcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGaW5kcyBsaW5rcyBpbiB0ZXh0IGlucHV0IGFuZCB0dXJucyB0aGVtIGludG8gaHRtbCBsaW5rcy4gU3VwcG9ydHMgYGh0dHAvaHR0cHMvZnRwL21haWx0b2AgYW5kXG4gKiBwbGFpbiBlbWFpbCBhZGRyZXNzIGxpbmtzLlxuICpcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSBgbmdTYW5pdGl6ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgSW5wdXQgdGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXQgV2luZG93IChgX2JsYW5rfF9zZWxmfF9wYXJlbnR8X3RvcGApIG9yIG5hbWVkIGZyYW1lIHRvIG9wZW4gbGlua3MgaW4uXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbih1cmwpfSBbYXR0cmlidXRlc10gQWRkIGN1c3RvbSBhdHRyaWJ1dGVzIHRvIHRoZSBsaW5rIGVsZW1lbnQuXG4gKlxuICogICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgICAtIGBvYmplY3RgOiBBIG1hcCBvZiBhdHRyaWJ1dGVzXG4gKiAgICAtIGBmdW5jdGlvbmA6IFRha2VzIHRoZSB1cmwgYXMgYSBwYXJhbWV0ZXIgYW5kIHJldHVybnMgYSBtYXAgb2YgYXR0cmlidXRlc1xuICpcbiAqICAgIElmIHRoZSBtYXAgb2YgYXR0cmlidXRlcyBjb250YWlucyBhIHZhbHVlIGZvciBgdGFyZ2V0YCwgaXQgb3ZlcnJpZGVzIHRoZSB2YWx1ZSBvZlxuICogICAgdGhlIHRhcmdldCBwYXJhbWV0ZXIuXG4gKlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEh0bWwtbGlua2lmaWVkIGFuZCB7QGxpbmsgJHNhbml0aXplIHNhbml0aXplZH0gdGV4dC5cbiAqXG4gKiBAdXNhZ2VcbiAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cImxpbmt5X2V4cHJlc3Npb24gfCBsaW5reVwiPjwvc3Bhbj5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGlua3lFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIiBuYW1lPVwibGlua3ktZmlsdGVyXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICBTbmlwcGV0OiA8dGV4dGFyZWEgbmctbW9kZWw9XCJzbmlwcGV0XCIgY29scz1cIjYwXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPlxuICAgICAgIDx0YWJsZT5cbiAgICAgICAgIDx0cj5cbiAgICAgICAgICAgPHRoPkZpbHRlcjwvdGg+XG4gICAgICAgICAgIDx0aD5Tb3VyY2U8L3RoPlxuICAgICAgICAgICA8dGg+UmVuZGVyZWQ8L3RoPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImxpbmt5LWZpbHRlclwiPlxuICAgICAgICAgICA8dGQ+bGlua3kgZmlsdGVyPC90ZD5cbiAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0IHwgbGlua3lcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICA8ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXQgfCBsaW5reVwiPjwvZGl2PlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImxpbmt5LXRhcmdldFwiPlxuICAgICAgICAgIDx0ZD5saW5reSB0YXJnZXQ8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFNpbmdsZVVSTCB8IGxpbmt5OidfYmxhbmsnXCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFNpbmdsZVVSTCB8IGxpbmt5OidfYmxhbmsnXCI+PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS1jdXN0b20tYXR0cmlidXRlc1wiPlxuICAgICAgICAgIDx0ZD5saW5reSBjdXN0b20gYXR0cmlidXRlczwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRXaXRoU2luZ2xlVVJMIHwgbGlua3k6J19zZWxmJzp7cmVsOiAnbm9mb2xsb3cnfVwiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX3NlbGYnOntyZWw6ICdub2ZvbGxvdyd9XCI+PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJlc2NhcGVkLWh0bWxcIj5cbiAgICAgICAgICAgPHRkPm5vIGZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZD1cInNuaXBwZXRcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZD1cInNuaXBwZXRcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbGlua3lFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAkc2NvcGUuc25pcHBldCA9XG4gICAgICAgICAgICAgJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczpcXG4nICtcbiAgICAgICAgICAgICAnaHR0cDovL2FuZ3VsYXJqcy5vcmcvLFxcbicgK1xuICAgICAgICAgICAgICdtYWlsdG86dXNAc29tZXdoZXJlLm9yZyxcXG4nICtcbiAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLFxcbicgK1xuICAgICAgICAgICAgICdhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJztcbiAgICAgICAgICAgJHNjb3BlLnNuaXBwZXRXaXRoU2luZ2xlVVJMID0gJ2h0dHA6Ly9hbmd1bGFyanMub3JnLyc7XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgbGlua2lmeSB0aGUgc25pcHBldCB3aXRoIHVybHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS1maWx0ZXInKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0IHwgbGlua3knKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgICB0b0JlKCdQcmV0dHkgdGV4dCB3aXRoIHNvbWUgbGlua3M6IGh0dHA6Ly9hbmd1bGFyanMub3JnLywgdXNAc29tZXdoZXJlLm9yZywgJyArXG4gICAgICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLCBhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjbGlua3ktZmlsdGVyIGEnKSkuY291bnQoKSkudG9FcXVhbCg0KTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgbm90IGxpbmtpZnkgc25pcHBldCB3aXRob3V0IHRoZSBsaW5reSBmaWx0ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdlc2NhcGVkLWh0bWwnKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIG1haWx0bzp1c0Bzb21ld2hlcmUub3JnLCAnICtcbiAgICAgICAgICAgICAgICAgICdhbm90aGVyQHNvbWV3aGVyZS5vcmcsIGFuZCBvbmUgbW9yZTogZnRwOi8vMTI3LjAuMC4xLy4nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJyNlc2NhcGVkLWh0bWwgYScpKS5jb3VudCgpKS50b0VxdWFsKDApO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuc2VuZEtleXMoJ25ldyBodHRwOi8vbGluay4nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS1maWx0ZXInKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0IHwgbGlua3knKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgICB0b0JlKCduZXcgaHR0cDovL2xpbmsuJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjbGlua3ktZmlsdGVyIGEnKSkuY291bnQoKSkudG9FcXVhbCgxKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdlc2NhcGVkLWh0bWwnKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0JykpLmdldFRleHQoKSlcbiAgICAgICAgICAgICAudG9CZSgnbmV3IGh0dHA6Ly9saW5rLicpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggdGhlIHRhcmdldCBwcm9wZXJ0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktdGFyZ2V0JykpLlxuICAgICAgICAgICAgZWxlbWVudChieS5iaW5kaW5nKFwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX2JsYW5rJ1wiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvQmUoJ2h0dHA6Ly9hbmd1bGFyanMub3JnLycpO1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNsaW5reS10YXJnZXQgYScpKS5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpKS50b0VxdWFsKCdfYmxhbmsnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgb3B0aW9uYWxseSBhZGQgY3VzdG9tIGF0dHJpYnV0ZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LWN1c3RvbS1hdHRyaWJ1dGVzJykpLlxuICAgICAgICAgICAgZWxlbWVudChieS5iaW5kaW5nKFwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX3NlbGYnOntyZWw6ICdub2ZvbGxvdyd9XCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9CZSgnaHR0cDovL2FuZ3VsYXJqcy5vcmcvJyk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2xpbmt5LWN1c3RvbS1hdHRyaWJ1dGVzIGEnKSkuZ2V0QXR0cmlidXRlKCdyZWwnKSkudG9FcXVhbCgnbm9mb2xsb3cnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbmdTYW5pdGl6ZScpLmZpbHRlcignbGlua3knLCBbJyRzYW5pdGl6ZScsIGZ1bmN0aW9uKCRzYW5pdGl6ZSkge1xuICB2YXIgTElOS1lfVVJMX1JFR0VYUCA9XG4gICAgICAgIC8oKGZ0cHxodHRwcz8pOlxcL1xcL3wod3d3XFwuKXwobWFpbHRvOik/W0EtWmEtejAtOS5fJSstXStAKVxcUypbXlxccy47LCgpe308PlwiXFx1MjAxZFxcdTIwMTldL2ksXG4gICAgICBNQUlMVE9fUkVHRVhQID0gL15tYWlsdG86L2k7XG5cbiAgdmFyIGxpbmt5TWluRXJyID0gYW5ndWxhci4kJG1pbkVycignbGlua3knKTtcbiAgdmFyIGlzRGVmaW5lZCA9IGFuZ3VsYXIuaXNEZWZpbmVkO1xuICB2YXIgaXNGdW5jdGlvbiA9IGFuZ3VsYXIuaXNGdW5jdGlvbjtcbiAgdmFyIGlzT2JqZWN0ID0gYW5ndWxhci5pc09iamVjdDtcbiAgdmFyIGlzU3RyaW5nID0gYW5ndWxhci5pc1N0cmluZztcblxuICByZXR1cm4gZnVuY3Rpb24odGV4dCwgdGFyZ2V0LCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHRleHQgPT0gbnVsbCB8fCB0ZXh0ID09PSAnJykgcmV0dXJuIHRleHQ7XG4gICAgaWYgKCFpc1N0cmluZyh0ZXh0KSkgdGhyb3cgbGlua3lNaW5FcnIoJ25vdHN0cmluZycsICdFeHBlY3RlZCBzdHJpbmcgYnV0IHJlY2VpdmVkOiB7MH0nLCB0ZXh0KTtcblxuICAgIHZhciBhdHRyaWJ1dGVzRm4gPVxuICAgICAgaXNGdW5jdGlvbihhdHRyaWJ1dGVzKSA/IGF0dHJpYnV0ZXMgOlxuICAgICAgaXNPYmplY3QoYXR0cmlidXRlcykgPyBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVzT2JqZWN0KCkge3JldHVybiBhdHRyaWJ1dGVzO30gOlxuICAgICAgZnVuY3Rpb24gZ2V0RW1wdHlBdHRyaWJ1dGVzT2JqZWN0KCkge3JldHVybiB7fTt9O1xuXG4gICAgdmFyIG1hdGNoO1xuICAgIHZhciByYXcgPSB0ZXh0O1xuICAgIHZhciBodG1sID0gW107XG4gICAgdmFyIHVybDtcbiAgICB2YXIgaTtcbiAgICB3aGlsZSAoKG1hdGNoID0gcmF3Lm1hdGNoKExJTktZX1VSTF9SRUdFWFApKSkge1xuICAgICAgLy8gV2UgY2FuIG5vdCBlbmQgaW4gdGhlc2UgYXMgdGhleSBhcmUgc29tZXRpbWVzIGZvdW5kIGF0IHRoZSBlbmQgb2YgdGhlIHNlbnRlbmNlXG4gICAgICB1cmwgPSBtYXRjaFswXTtcbiAgICAgIC8vIGlmIHdlIGRpZCBub3QgbWF0Y2ggZnRwL2h0dHAvd3d3L21haWx0byB0aGVuIGFzc3VtZSBtYWlsdG9cbiAgICAgIGlmICghbWF0Y2hbMl0gJiYgIW1hdGNoWzRdKSB7XG4gICAgICAgIHVybCA9IChtYXRjaFszXSA/ICdodHRwOi8vJyA6ICdtYWlsdG86JykgKyB1cmw7XG4gICAgICB9XG4gICAgICBpID0gbWF0Y2guaW5kZXg7XG4gICAgICBhZGRUZXh0KHJhdy5zdWJzdHIoMCwgaSkpO1xuICAgICAgYWRkTGluayh1cmwsIG1hdGNoWzBdLnJlcGxhY2UoTUFJTFRPX1JFR0VYUCwgJycpKTtcbiAgICAgIHJhdyA9IHJhdy5zdWJzdHJpbmcoaSArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgfVxuICAgIGFkZFRleHQocmF3KTtcbiAgICByZXR1cm4gJHNhbml0aXplKGh0bWwuam9pbignJykpO1xuXG4gICAgZnVuY3Rpb24gYWRkVGV4dCh0ZXh0KSB7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaHRtbC5wdXNoKHNhbml0aXplVGV4dCh0ZXh0KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTGluayh1cmwsIHRleHQpIHtcbiAgICAgIHZhciBrZXksIGxpbmtBdHRyaWJ1dGVzID0gYXR0cmlidXRlc0ZuKHVybCk7XG4gICAgICBodG1sLnB1c2goJzxhICcpO1xuXG4gICAgICBmb3IgKGtleSBpbiBsaW5rQXR0cmlidXRlcykge1xuICAgICAgICBodG1sLnB1c2goa2V5ICsgJz1cIicgKyBsaW5rQXR0cmlidXRlc1trZXldICsgJ1wiICcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEZWZpbmVkKHRhcmdldCkgJiYgISgndGFyZ2V0JyBpbiBsaW5rQXR0cmlidXRlcykpIHtcbiAgICAgICAgaHRtbC5wdXNoKCd0YXJnZXQ9XCInLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgJ1wiICcpO1xuICAgICAgfVxuICAgICAgaHRtbC5wdXNoKCdocmVmPVwiJyxcbiAgICAgICAgICAgICAgICB1cmwucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLFxuICAgICAgICAgICAgICAgICdcIj4nKTtcbiAgICAgIGFkZFRleHQodGV4dCk7XG4gICAgICBodG1sLnB1c2goJzwvYT4nKTtcbiAgICB9XG4gIH07XG59XSk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG4iXX0=
