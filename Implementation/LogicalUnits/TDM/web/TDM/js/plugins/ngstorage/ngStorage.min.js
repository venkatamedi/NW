/*! ngstorage 0.3.10 | Copyright (c) 2015 Gias Kay Lee | MIT License */!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):a.hasOwnProperty("angular")?b(a.angular):"object"==typeof exports&&(module.exports=b(require("angular")))}(this,(function(a){"use strict";function b(b){return function(){var c="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setKeyPrefix() expects a String.");c=a};var d=a.toJson,e=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setSerializer expects a function.");d=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setDeserializer expects a function.");e=a},this.get=function(a){return e(window[b].getItem(c+a))},this.set=function(a,e){return window[b].setItem(c+a,d(e))},this.$get=["$rootScope","$window","$log","$timeout","$document",function(f,g,h,i,j){var l,m,n=c.length,o=function(a){var b;try{b=g[a]}catch(c){b=!1}if(b&&"localStorage"===a){var d="__"+Math.round(1e7*Math.random());try{localStorage.setItem(d,d),localStorage.removeItem(d)}catch(c){b=!1}}return b}(b)||(h.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop,removeItem:a.noop}),p={$default:function(b){for(var c in b)a.isDefined(p[c])||(p[c]=a.copy(b[c]));return p.$sync(),p},$reset:function(a){for(var b in p)"$"===b[0]||delete p[b]&&o.removeItem(c+b);return p.$default(a)},$sync:function(){for(var a,b=0,d=o.length;d>b;b++)(a=o.key(b))&&c===a.slice(0,n)&&(p[a.slice(n)]=e(o.getItem(a)))},$apply:function(){var b;if(m=null,!a.equals(p,l)){for(var e in b=a.copy(l),a.forEach(p,(function(e,f){a.isDefined(e)&&"$"!==f[0]&&(o.setItem(c+f,d(e)),delete b[f])})),b)o.removeItem(c+e);l=a.copy(p)}}};return p.$sync(),l=a.copy(p),f.$watch((function(){m||(m=i(p.$apply,100,!1))})),g.addEventListener&&g.addEventListener("storage",(function(b){if(b.key){var d=j[0];d.hasFocus&&d.hasFocus()||c!==b.key.slice(0,n)||(b.newValue?p[b.key.slice(n)]=e(b.newValue):delete p[b.key.slice(n)],l=a.copy(p),f.$apply())}})),g.addEventListener&&g.addEventListener("beforeunload",(function(){p.$apply()})),p}]}}return(a=a&&a.module?a:window.angular).module("ngStorage",[]).provider("$localStorage",b("localStorage")).provider("$sessionStorage",b("sessionStorage"))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMvbmdzdG9yYWdlL25nU3RvcmFnZS5taW4uanMiXSwibmFtZXMiOlsiYSIsImIiLCJkZWZpbmUiLCJhbWQiLCJoYXNPd25Qcm9wZXJ0eSIsImFuZ3VsYXIiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsInRoaXMiLCJjIiwic2V0S2V5UHJlZml4IiwiVHlwZUVycm9yIiwiZCIsInRvSnNvbiIsImUiLCJmcm9tSnNvbiIsInNldFNlcmlhbGl6ZXIiLCJzZXREZXNlcmlhbGl6ZXIiLCJnZXQiLCJ3aW5kb3ciLCJnZXRJdGVtIiwic2V0Iiwic2V0SXRlbSIsIiRnZXQiLCJmIiwiZyIsImgiLCJpIiwiaiIsImwiLCJtIiwibiIsImxlbmd0aCIsIm8iLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiayIsIndhcm4iLCJub29wIiwicCIsIiRkZWZhdWx0IiwiaXNEZWZpbmVkIiwiY29weSIsIiRzeW5jIiwiJHJlc2V0Iiwia2V5Iiwic2xpY2UiLCIkYXBwbHkiLCJlcXVhbHMiLCJmb3JFYWNoIiwiJHdhdGNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhc0ZvY3VzIiwibmV3VmFsdWUiLCJwcm92aWRlciJdLCJtYXBwaW5ncyI6IndFQUF3RSxTQUFTQSxFQUFFQyxHQUFHLGFBQWEsbUJBQW1CQyxRQUFRQSxPQUFPQyxJQUFJRCxPQUFPLENBQUMsV0FBV0QsR0FBR0QsRUFBRUksZUFBZSxXQUFXSCxFQUFFRCxFQUFFSyxTQUFTLGlCQUFpQkMsVUFBVUMsT0FBT0QsUUFBUUwsRUFBRU8sUUFBUSxhQUFwTCxDQUFrTUMsTUFBSyxTQUFTVCxHQUFHLGFBQWEsU0FBU0MsRUFBRUEsR0FBRyxPQUFPLFdBQVcsSUFBSVMsRUFBRSxhQUFhRCxLQUFLRSxhQUFhLFNBQVNYLEdBQUcsR0FBRyxpQkFBaUJBLEVBQUUsTUFBTSxJQUFJWSxVQUFVLGlCQUFpQlgsRUFBRSw2Q0FBNkNTLEVBQUVWLEdBQUcsSUFBSWEs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QUlULEVBQUVnRCxJQUFJQyxNQUFNLEVBQUVsQixLQUFLL0IsRUFBRXdELFNBQVNkLEVBQUUxQyxFQUFFZ0QsSUFBSUMsTUFBTWxCLElBQUlqQixFQUFFZCxFQUFFd0QsaUJBQWlCZCxFQUFFMUMsRUFBRWdELElBQUlDLE1BQU1sQixJQUFJRixFQUFFOUIsRUFBRThDLEtBQUtILEdBQUdsQixFQUFFMEIsY0FBYXpCLEVBQUU2QixrQkFBa0I3QixFQUFFNkIsaUJBQWlCLGdCQUFlLFdBQVdaLEVBQUVRLFlBQVdSLEtBQUssT0FBTzNDLEVBQUVBLEdBQUdBLEVBQUVPLE9BQU9QLEVBQUVvQixPQUFPZixTQUFVRSxPQUFPLFlBQVksSUFBSW1ELFNBQVMsZ0JBQWdCekQsRUFBRSxpQkFBaUJ5RCxTQUFTLGtCQUFrQnpELEVBQUUiLCJmaWxlIjoicGx1Z2lucy9uZ3N0b3JhZ2UvbmdTdG9yYWdlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBuZ3N0b3JhZ2UgMC4zLjEwIHwgQ29weXJpZ2h0IChjKSAyMDE1IEdpYXMgS2F5IExlZSB8IE1JVCBMaWNlbnNlICovIWZ1bmN0aW9uKGEsYil7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJhbmd1bGFyXCJdLGIpOmEuaGFzT3duUHJvcGVydHkoXCJhbmd1bGFyXCIpP2IoYS5hbmd1bGFyKTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPWIocmVxdWlyZShcImFuZ3VsYXJcIikpKX0odGhpcyxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPVwibmdTdG9yYWdlLVwiO3RoaXMuc2V0S2V5UHJlZml4PWZ1bmN0aW9uKGEpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXRocm93IG5ldyBUeXBlRXJyb3IoXCJbbmdTdG9yYWdlXSAtIFwiK2IrXCJQcm92aWRlci5zZXRLZXlQcmVmaXgoKSBleHBlY3RzIGEgU3RyaW5nLlwiKTtjPWF9O3ZhciBkPWEudG9Kc29uLGU9YS5mcm9tSnNvbjt0aGlzLnNldFNlcmlhbGl6ZXI9ZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiW25nU3RvcmFnZV0gLSBcIitiK1wiUHJvdmlkZXIuc2V0U2VyaWFsaXplciBleHBlY3RzIGEgZnVuY3Rpb24uXCIpO2Q9YX0sdGhpcy5zZXREZXNlcmlhbGl6ZXI9ZnVuY3Rpb24oYSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiW25nU3RvcmFnZV0gLSBcIitiK1wiUHJvdmlkZXIuc2V0RGVzZXJpYWxpemVyIGV4cGVjdHMgYSBmdW5jdGlvbi5cIik7ZT1hfSx0aGlzLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gZSh3aW5kb3dbYl0uZ2V0SXRlbShjK2EpKX0sdGhpcy5zZXQ9ZnVuY3Rpb24oYSxlKXtyZXR1cm4gd2luZG93W2JdLnNldEl0ZW0oYythLGQoZSkpfSx0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJHdpbmRvd1wiLFwiJGxvZ1wiLFwiJHRpbWVvdXRcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGYsZyxoLGksail7ZnVuY3Rpb24gayhhKXt2YXIgYjt0cnl7Yj1nW2FdfWNhdGNoKGMpe2I9ITF9aWYoYiYmXCJsb2NhbFN0b3JhZ2VcIj09PWEpe3ZhciBkPVwiX19cIitNYXRoLnJvdW5kKDFlNypNYXRoLnJhbmRvbSgpKTt0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0oZCxkKSxsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShkKX1jYXRjaChjKXtiPSExfX1yZXR1cm4gYn12YXIgbCxtLG49Yy5sZW5ndGgsbz1rKGIpfHwoaC53YXJuKFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgV2ViIFN0b3JhZ2UhXCIpLHtzZXRJdGVtOmEubm9vcCxnZXRJdGVtOmEubm9vcCxyZW1vdmVJdGVtOmEubm9vcH0pLHA9eyRkZWZhdWx0OmZ1bmN0aW9uKGIpe2Zvcih2YXIgYyBpbiBiKWEuaXNEZWZpbmVkKHBbY10pfHwocFtjXT1hLmNvcHkoYltjXSkpO3JldHVybiBwLiRzeW5jKCkscH0sJHJlc2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBwKVwiJFwiPT09YlswXXx8ZGVsZXRlIHBbYl0mJm8ucmVtb3ZlSXRlbShjK2IpO3JldHVybiBwLiRkZWZhdWx0KGEpfSwkc3luYzpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTAsZD1vLmxlbmd0aDtkPmI7YisrKShhPW8ua2V5KGIpKSYmYz09PWEuc2xpY2UoMCxuKSYmKHBbYS5zbGljZShuKV09ZShvLmdldEl0ZW0oYSkpKX0sJGFwcGx5OmZ1bmN0aW9uKCl7dmFyIGI7aWYobT1udWxsLCFhLmVxdWFscyhwLGwpKXtiPWEuY29weShsKSxhLmZvckVhY2gocCxmdW5jdGlvbihlLGYpe2EuaXNEZWZpbmVkKGUpJiZcIiRcIiE9PWZbMF0mJihvLnNldEl0ZW0oYytmLGQoZSkpLGRlbGV0ZSBiW2ZdKX0pO2Zvcih2YXIgZSBpbiBiKW8ucmVtb3ZlSXRlbShjK2UpO2w9YS5jb3B5KHApfX19O3JldHVybiBwLiRzeW5jKCksbD1hLmNvcHkocCksZi4kd2F0Y2goZnVuY3Rpb24oKXttfHwobT1pKHAuJGFwcGx5LDEwMCwhMSkpfSksZy5hZGRFdmVudExpc3RlbmVyJiZnLmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsZnVuY3Rpb24oYil7aWYoYi5rZXkpe3ZhciBkPWpbMF07ZC5oYXNGb2N1cyYmZC5oYXNGb2N1cygpfHxjIT09Yi5rZXkuc2xpY2UoMCxuKXx8KGIubmV3VmFsdWU/cFtiLmtleS5zbGljZShuKV09ZShiLm5ld1ZhbHVlKTpkZWxldGUgcFtiLmtleS5zbGljZShuKV0sbD1hLmNvcHkocCksZi4kYXBwbHkoKSl9fSksZy5hZGRFdmVudExpc3RlbmVyJiZnLmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIixmdW5jdGlvbigpe3AuJGFwcGx5KCl9KSxwfV19fXJldHVybiBhPWEmJmEubW9kdWxlP2E6d2luZG93LmFuZ3VsYXIsYS5tb2R1bGUoXCJuZ1N0b3JhZ2VcIixbXSkucHJvdmlkZXIoXCIkbG9jYWxTdG9yYWdlXCIsYihcImxvY2FsU3RvcmFnZVwiKSkucHJvdmlkZXIoXCIkc2Vzc2lvblN0b3JhZ2VcIixiKFwic2Vzc2lvblN0b3JhZ2VcIikpfSk7Il19
