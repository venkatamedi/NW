"use strict";!function(angular){(Module=angular.module("datePicker",[])).constant("datePickerConfig",{template:"templates/datepicker.html",view:"month",views:["year","month","date","hours","minutes"],momentNames:{year:"year",month:"month",date:"day",hours:"hours",minutes:"minutes"},viewConfig:{year:["years","isSameYear"],month:["months","isSameMonth"],hours:["hours","isSameHour"],minutes:["minutes","isSameMinutes"]},step:5,firstDay:0}),Module.filter("mFormat",(function(){return function(m,format,tz){if(m)return moment.isMoment(m)?tz?moment.tz(m,tz).format(format):m.format(format):moment(m).format(format)}})),Module.directive("datePicker",["datePickerConfig","datePickerUtils",function(datePickerConfig,datePickerUtils){return{require:"?ngModel",template:'<div ng-include="template"></div>',scope:{model:"=datePicker",after:"=?",before:"=?"},link:function(scope,element,attrs,ngModel){function prepareViews(){scope.views=datePickerConfig.views.concat(),scope.view=attrs.view||datePickerConfig.view,scope.views=scope.views.slice(scope.views.indexOf(attrs.maxView||"year"),scope.views.indexOf(attrs.minView||"minutes")+1),1!==scope.views.length&&-1!==scope.views.indexOf(scope.view)||(scope.view=scope.views[0])}function getDate(name){return datePickerUtils.getDate(scope,attrs,name)}var arrowClick=!1,tz=scope.tz=attrs.timezone,createMoment=datePickerUtils.createMoment,eventIsForPicker=datePickerUtils.eventIsForPicker,step=parseInt(attrs.step||datePickerConfig.step,10),partial=!!attrs.partial,minDate=getDate("minDate"),maxDate=getDate("maxDate"),pickerID=element[0].id,now=scope.now=createMoment(),selected=scope.date=createMoment(scope.model||now),autoclose="true"===attrs.autoClose,firstDay=attrs.firstDay&&attrs.firstDay>=0&&attrs.firstDay<=6?parseInt(attrs.firstDay,10):datePickerConfig.firstDay;function setDate(date){date&&(scope.model=date,ngModel&&ngModel.$setViewValue(date)),scope.$emit("setDate",scope.model,scope.view),scope.callbackOnSetDate&&scope.callbackOnSetDate(attrs.datePicker,scope.date)}function update(){var view=scope.view;datePickerUtils.setParams(tz,firstDay),scope.model&&!arrowClick&&(scope.date=createMoment(scope.model),arrowClick=!1);var date=scope.date;switch(view){case"year":scope.years=datePickerUtils.getVisibleYears(date);break;case"month":scope.months=datePickerUtils.getVisibleMonths(date);break;case"date":scope.weekdays=scope.weekdays||datePickerUtils.getDaysOfWeek(),scope.weeks=datePickerUtils.getVisibleWeeks(date);break;case"hours":scope.hours=datePickerUtils.getVisibleHours(date);break;case"minutes":scope.minutes=datePickerUtils.getVisibleMinutes(date,step)}prepareViewData()}function prepareViewData(){var i,j,view=scope.view,date=scope.date,classes=[],classList="";if(datePickerUtils.setParams(tz,firstDay),"date"===view){var week,weeks=scope.weeks;for(i=0;i<weeks.length;i++)for(week=weeks[i],classes.push([]),j=0;j<week.length;j++)classList="",datePickerUtils.isSameDay(date,week[j])&&(classList+="active"),isNow(week[j],view)&&(classList+=" now"),week[j].month()===date.month()&&inValidRange(week[j])||(classList+=" disabled"),classes[i].push(classList)}else{var params=datePickerConfig.viewConfig[view],dates=scope[params[0]],compareFunc=params[1];for(i=0;i<dates.length;i++)classList="",datePickerUtils[compareFunc](date,dates[i])&&(classList+="active"),isNow(dates[i],view)&&(classList+=" now"),inValidRange(dates[i])||(classList+=" disabled"),classes.push(classList)}scope.classes=classes}function inValidRange(date){var valid=!0;return minDate&&minDate.isAfter(date)&&(valid=isSame(minDate,date)),maxDate&&maxDate.isBefore(date)&&(valid&=isSame(maxDate,date)),valid}function isSame(date1,date2){return!!date1.isSame(date2,datePickerConfig.momentNames[scope.view])}function clipDate(date){return minDate&&minDate.isAfter(date)?minDate:maxDate&&maxDate.isBefore(date)?maxDate:date}function isNow(date,view){var is=!0;switch(view){case"minutes":is&=~~(now.minutes()/step)==~~(date.minutes()/step);case"hours":is&=now.hours()===date.hours();case"date":is&=now.date()===date.date();case"month":is&=now.month()===date.month();case"year":is&=now.year()===date.year()}return is}datePickerUtils.setParams(tz,firstDay),scope.model||selected.minute(Math.ceil(selected.minute()/step)*step).second(0),scope.template=attrs.template||datePickerConfig.template,scope.watchDirectChanges=void 0!==attrs.watchDirectChanges,scope.callbackOnSetDate=attrs.dateChange?datePickerUtils.findFunction(scope,attrs.dateChange):void 0,prepareViews(),scope.setView=function(nextView){-1!==scope.views.indexOf(nextView)&&(scope.view=nextView)},scope.selectDate=function(date){if(attrs.disabled)return!1;if(isSame(scope.date,date)&&(date=scope.date),!(date=clipDate(date)))return!1;scope.date=date;var nextView=scope.views[scope.views.indexOf(scope.view)+1];(!nextView||partial||scope.model)&&setDate(date),nextView?(setDate(date),scope.setView(nextView)):autoclose?(element.addClass("hidden"),scope.$emit("hidePicker")):prepareViewData()},scope.$watch((function(){return"date"!==scope.view?scope.view:scope.date?scope.date.month():null}),update),scope.watchDirectChanges&&scope.$watch("model",(function(){arrowClick=!1,update()})),scope.next=function(delta){var date=moment(scope.date);switch(delta=delta||1,scope.view){case"year":case"month":date.year(date.year()+delta);break;case"date":date.month(date.month()+delta);break;case"hours":case"minutes":date.hours(date.hours()+delta)}(date=clipDate(date))&&(scope.date=date,setDate(date),arrowClick=!0,update())},scope.prev=function(delta){return scope.next(-delta||-1)},pickerID&&scope.$on("pickerUpdate",(function(event,pickerIDs,data){if(eventIsForPicker(pickerIDs,pickerID)){var updateViews=!1,updateViewData=!1;angular.isDefined(data.minDate)&&(minDate=!!data.minDate&&data.minDate,updateViewData=!0),angular.isDefined(data.maxDate)&&(maxDate=!!data.maxDate&&data.maxDate,updateViewData=!0),angular.isDefined(data.minView)&&(attrs.minView=data.minView,updateViews=!0),angular.isDefined(data.maxView)&&(attrs.maxView=data.maxView,updateViews=!0),attrs.view=data.view||attrs.view,updateViews&&prepareViews(),updateViewData&&update()}}))}}}]),angular.module("datePicker").factory("datePickerUtils",(function(){var tz,firstDay,createNewDate=function(year,month,day,hour,minute){var utc=Date.UTC(0|year,0|month,0|day,0|hour,0|minute);return tz?moment.tz(utc,tz):moment(utc)};return{getVisibleMinutes:function(m,step){var pushedDate,minute,year=m.year(),month=m.month(),day=m.date(),hour=m.hours(),offset=m.utcOffset()/60,minutes=[];for(minute=0;minute<60;minute+=step)pushedDate=createNewDate(year,month,day,hour-offset,minute),minutes.push(pushedDate);return minutes},getVisibleWeeks:function(m){var startYear=(m=moment(m)).year(),startMonth=m.month();m.date(1);var day=m.day();m.date(firstDay-(day+(firstDay>=day?6:-1)));for(var weeks=[];weeks.length<6&&!(m.year()===startYear&&m.month()>startMonth);)weeks.push(this.getDaysOfWeek(m)),m.add(7,"d");return weeks},getVisibleYears:function(d){var m=moment(d),year=m.year();m.year(year-year%10),year=m.year();for(var pushedDate,actualOffset,offset=m.utcOffset()/60,years=[],i=0;i<12;i++)(actualOffset=(pushedDate=createNewDate(year,0,1,0-offset)).utcOffset()/60)!==offset&&(pushedDate=createNewDate(year,0,1,0-actualOffset),offset=actualOffset),years.push(pushedDate),year++;return years},getDaysOfWeek:function(m){for(var pushedDate,actualOffset,year=(m=m||(tz?moment.tz(tz).day(firstDay):moment().day(firstDay))).year(),month=m.month(),day=m.date(),days=[],offset=m.utcOffset()/60,i=0;i<7;i++)(actualOffset=(pushedDate=createNewDate(year,month,day,0-offset,0)).utcOffset()/60)!==offset&&(pushedDate=createNewDate(year,month,day,0-actualOffset,0)),days.push(pushedDate),day++;return days},getVisibleMonths:function(m){for(var pushedDate,actualOffset,year=m.year(),offset=m.utcOffset()/60,months=[],month=0;month<12;month++)(actualOffset=(pushedDate=createNewDate(year,month,1,0-offset,0)).utcOffset()/60)!==offset&&(pushedDate=createNewDate(year,month,1,0-actualOffset,0)),months.push(pushedDate);return months},getVisibleHours:function(m){var hour,pushedDate,actualOffset,year=m.year(),month=m.month(),day=m.date(),hours=[],offset=m.utcOffset()/60;for(hour=0;hour<24;hour++)(actualOffset=(pushedDate=createNewDate(year,month,day,hour-offset,0)).utcOffset()/60)!==offset&&(pushedDate=createNewDate(year,month,day,hour-actualOffset,0)),hours.push(pushedDate);return hours},isAfter:function(model,date){return model&&model.unix()>=date.unix()},isBefore:function(model,date){return model.unix()<=date.unix()},isSameYear:function(model,date){return model&&model.year()===date.year()},isSameMonth:function(model,date){return this.isSameYear(model,date)&&model.month()===date.month()},isSameDay:function(model,date){return this.isSameMonth(model,date)&&model.date()===date.date()},isSameHour:function(model,date){return this.isSameDay(model,date)&&model.hours()===date.hours()},isSameMinutes:function(model,date){return this.isSameHour(model,date)&&model.minutes()===date.minutes()},setParams:function(zone,fd){tz=zone,firstDay=fd},scopeSearch:function(scope,name,comparisonFn){var target,i,parentScope=scope,nameArray=name.split("."),j=nameArray.length;do{for(target=parentScope=parentScope.$parent,i=0;i<j;i++)target=target[nameArray[i]];if(target&&comparisonFn(target))return target}while(parentScope.$parent);return!1},findFunction:function(scope,name){return this.scopeSearch(scope,name,(function(target){return angular.isFunction(target)}))},findParam:function(scope,name){return this.scopeSearch(scope,name,(function(){return!0}))},createMoment:function(m){return tz?moment.tz(m,tz):moment.isMoment(m)?moment.unix(m.unix()):moment(m)},getDate:function(scope,attrs,name){var result=!1;return attrs[name]&&((result=this.createMoment(attrs[name])).isValid()||(result=this.findParam(scope,attrs[name]))&&(result=this.createMoment(result))),result},eventIsForPicker:function(targetIDs,pickerID){return angular.isArray(targetIDs)&&targetIDs.indexOf(pickerID)>-1||targetIDs===pickerID}}})),(Module=angular.module("datePicker")).directive("dateRange",["$compile","datePickerUtils","dateTimeConfig",function($compile,datePickerUtils,dateTimeConfig){function getTemplate(attrs,id,model,min,max){return dateTimeConfig.template(angular.extend(attrs,{ngModel:model,minDate:!(!min||!moment.isMoment(min))&&min.format(),maxDate:!(!max||!moment.isMoment(max))&&max.format()}),id)}function randomName(){return"picker"+Math.random().toString().substr(2)}return{scope:{start:"=",end:"="},link:function(scope,element,attrs){var dateChange=null,pickerRangeID=element[0].id,pickerIDs=[randomName(),randomName()],createMoment=datePickerUtils.createMoment,eventIsForPicker=datePickerUtils.eventIsForPicker;scope.dateChange=function(modelName,newDate){dateChange&&dateChange(modelName,newDate)},pickerRangeID&&scope.$on("pickerUpdate",(function(event,targetIDs,data){eventIsForPicker(targetIDs,pickerRangeID)&&scope.$broadcast("pickerUpdate",pickerIDs,data)})),datePickerUtils.setParams(attrs.timezone),scope.start=createMoment(scope.start),scope.end=createMoment(scope.end),scope.$watchGroup(["start","end"],(function(dates){var date;date=dates[0],scope.$broadcast("pickerUpdate",pickerIDs[1],{minDate:date}),function(date){scope.$broadcast("pickerUpdate",pickerIDs[0],{maxDate:date})}(dates[1])})),angular.isDefined(attrs.dateChange)&&(dateChange=datePickerUtils.findFunction(scope,attrs.dateChange)),attrs.onSetDate="dateChange";var template='<div><table class="date-range"><tr><td valign="top">'+getTemplate(attrs,pickerIDs[0],"start",!1,scope.end)+'</td><td valign="top">'+getTemplate(attrs,pickerIDs[1],"end",scope.start,!1)+"</td></tr></table></div>",picker=$compile(template)(scope);element.append(picker)}}}]);var Module;(Module=angular.module("datePicker")).constant("dateTimeConfig",{template:function(attrs,id){return"<div "+(id?'id="'+id+'" ':"")+'date-picker="'+attrs.ngModel+'" '+(attrs.view?'view="'+attrs.view+'" ':"")+(attrs.maxView?'max-view="'+attrs.maxView+'" ':"")+(attrs.maxDate?'max-date="'+attrs.maxDate+'" ':"")+(attrs.autoClose?'auto-close="'+attrs.autoClose+'" ':"")+(attrs.template?'template="'+attrs.template+'" ':"")+(attrs.minView?'min-view="'+attrs.minView+'" ':"")+(attrs.minDate?'min-date="'+attrs.minDate+'" ':"")+(attrs.partial?'partial="'+attrs.partial+'" ':"")+(attrs.step?'step="'+attrs.step+'" ':"")+(attrs.onSetDate?'date-change="'+attrs.onSetDate+'" ':"")+(attrs.ngModel?'ng-model="'+attrs.ngModel+'" ':"")+(attrs.firstDay?'first-day="'+attrs.firstDay+'" ':"")+(attrs.timezone?'timezone="'+attrs.timezone+'" ':"")+'class="date-picker-date-time"></div>'},format:"YYYY-MM-DD HH:mm",views:["date","year","month","hours","minutes"],autoClose:!1,position:"relative"}),Module.directive("dateTimeAppend",(function(){return{link:function(scope,element){element.bind("click",(function(){element.find("input")[0].focus()}))}}})),Module.directive("dateTime",["$compile","$document","$filter","dateTimeConfig","$parse","datePickerUtils",function($compile,$document,$filter,dateTimeConfig,$parse,datePickerUtils){var body=$document.find("body"),dateFilter=$filter("mFormat");return{require:"ngModel",scope:!0,link:function(scope,element,attrs,ngModel){var template,format=attrs.format||dateTimeConfig.format,parentForm=element.inheritedData("$formController"),views=$parse(attrs.views)(scope)||dateTimeConfig.views.concat(),view=attrs.view||views[0],index=views.indexOf(view),dismiss=attrs.autoClose?$parse(attrs.autoClose)(scope):dateTimeConfig.autoClose,picker=null,pickerID=element[0].id,position=attrs.position||dateTimeConfig.position,container=null,minDate=null,minValid=null,maxDate=null,maxValid=null,timezone=attrs.timezone||!1,eventIsForPicker=datePickerUtils.eventIsForPicker,dateChange=null,shownOnce=!1;function setMin(date){minDate=date,attrs.minDate=date?date.format():date,minValid=moment.isMoment(date)}function setMax(date){maxDate=date,attrs.maxDate=date?date.format():date,maxValid=moment.isMoment(date)}function getTemplate(){template=dateTimeConfig.template(attrs)}function clear(){picker&&(picker.remove(),picker=null),container&&(container.remove(),container=null)}-1===index&&views.splice(index,1),views.unshift(view),ngModel.$formatters.push((function(value){return dateFilter(value,format,timezone)})),ngModel.$parsers.unshift((function(viewValue){if(viewValue.length===format.length)return viewValue})),angular.isDefined(attrs.minDate)&&(setMin(datePickerUtils.findParam(scope,attrs.minDate)),ngModel.$validators.min=function(value){return!minValid||moment.isMoment(value)&&(minDate.isSame(value)||minDate.isBefore(value))}),angular.isDefined(attrs.maxDate)&&(setMax(datePickerUtils.findParam(scope,attrs.maxDate)),ngModel.$validators.max=function(value){return!maxValid||moment.isMoment(value)&&(maxDate.isSame(value)||maxDate.isAfter(value))}),angular.isDefined(attrs.dateChange)&&(dateChange=datePickerUtils.findFunction(scope,attrs.dateChange)),pickerID&&scope.$on("pickerUpdate",(function(event,pickerIDs,data){if(eventIsForPicker(pickerIDs,pickerID))if(picker);else{var validateRequired=!1;angular.isDefined(data.minDate)&&(setMin(data.minDate),validateRequired=!0),angular.isDefined(data.maxDate)&&(setMax(data.maxDate),validateRequired=!0),angular.isDefined(data.minView)&&(attrs.minView=data.minView),angular.isDefined(data.maxView)&&(attrs.maxView=data.maxView),attrs.view=data.view||attrs.view,validateRequired&&ngModel.$validate(),angular.isDefined(data.format)&&(format=attrs.format=data.format||dateTimeConfig.format,ngModel.$modelValue=-1),getTemplate()}})),element.bind("focus",(function(){if(!picker){if(picker=$compile(template)(scope),scope.$digest(),shownOnce||(scope.$on("setDate",(function(event,date,view){!function(event){event.stopPropagation(),ngModel.$pristine&&(ngModel.$dirty=!0,ngModel.$pristine=!1,element.removeClass("ng-pristine").addClass("ng-dirty"),parentForm&&parentForm.$setDirty(),ngModel.$render())}(event),dateChange&&dateChange(attrs.ngModel,date),dismiss&&views[views.length-1]===view&&clear()})),scope.$on("hidePicker",(function(){element.triggerHandler("blur")})),scope.$on("$destroy",clear),shownOnce=!0),"absolute"===position){var pos=element[0].getBoundingClientRect(),height=pos.height||element[0].offsetHeight;picker.css({top:pos.top+height+"px",left:pos.left+"px",display:"block",position:position}),body.append(picker)}else{container=angular.element("<div date-picker-wrapper></div>"),element[0].parentElement.insertBefore(container[0],element[0]),container.append(picker);var rectPageBottom=element[0].getBoundingClientRect().bottom,pageHieght=document.body.clientHeight;picker.height()+rectPageBottom>=pageHieght?picker.css({bottom:"0px",display:"block"}):picker.css({top:element[0].offsetHeight+"px",display:"block"})}picker.bind("mousedown",(function(evt){evt.preventDefault()}))}})),element.bind("blur",clear),getTemplate()}}}]),angular.module("datePicker").run(["$templateCache",function($templateCache){$templateCache.put("templates/datepicker.html",'<div ng-switch="view">\r\n  <div ng-switch-when="date">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;</th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'month\')" ng-bind="date|mFormat:\'YYYY MMMM\':tz"></th>\r\n        <th ng-click="next()">&rsaquo;</i></th>\r\n      </tr>\r\n      <tr>\r\n        <th ng-repeat="day in weekdays" style="overflow: hidden" ng-bind="day|mFormat:\'ddd\':tz"></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr ng-repeat="week in weeks" ng-init="$index2 = $index">\r\n        <td ng-repeat="day in week">\r\n          <span\r\n            ng-class="classes[$index2][$index]"\r\n            ng-click="selectDate(day)" ng-bind="day|mFormat:\'DD\':tz"></span>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div ng-switch-when="year">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev(10)">&lsaquo;</th>\r\n        <th colspan="5" class="switch"ng-bind="years[0].year()+\' - \'+years[years.length-1].year()"></th>\r\n        <th ng-click="next(10)">&rsaquo;</i></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-class="classes[$index]"\r\n                ng-repeat="year in years"\r\n                ng-click="selectDate(year)" ng-bind="year.year()"></span>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div ng-switch-when="month">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;</th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'year\')" ng-bind="date|mFormat:\'YYYY\':tz"></th>\r\n        <th ng-click="next()">&rsaquo;</i></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="month in months"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(month)"\r\n                ng-bind="month|mFormat:\'MMM\':tz"></span>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div ng-switch-when="hours">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev(24)">&lsaquo;</th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'date\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"></th>\r\n        <th ng-click="next(24)">&rsaquo;</i></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="hour in hours"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(hour)" ng-bind="hour|mFormat:\'HH:mm\':tz"></span>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div ng-switch-when="minutes">\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th ng-click="prev()">&lsaquo;</th>\r\n        <th colspan="5" class="switch" ng-click="setView(\'hours\')" ng-bind="date|mFormat:\'DD MMMM YYYY\':tz"></th>\r\n        <th ng-click="next()">&rsaquo;</i></th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr>\r\n        <td colspan="7">\r\n          <span ng-repeat="minute in minutes"\r\n                ng-class="classes[$index]"\r\n                ng-click="selectDate(minute)"\r\n                ng-bind="minute|mFormat:\'HH:mm\':tz"></span>\r\n        </td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>')}])}(angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMvZGF0YXBpY2tlci9hbmd1bGFyLWRhdGVwaWNrZXIuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIk1vZHVsZSIsIm1vZHVsZSIsImNvbnN0YW50IiwidGVtcGxhdGUiLCJ2aWV3Iiwidmlld3MiLCJtb21lbnROYW1lcyIsInllYXIiLCJtb250aCIsImRhdGUiLCJob3VycyIsIm1pbnV0ZXMiLCJ2aWV3Q29uZmlnIiwic3RlcCIsImZpcnN0RGF5IiwiZmlsdGVyIiwibSIsImZvcm1hdCIsInR6IiwibW9tZW50IiwiaXNNb21lbnQiLCJkaXJlY3RpdmUiLCJkYXRlUGlja2VyQ29uZmlnIiwiZGF0ZVBpY2tlclV0aWxzIiwicmVxdWlyZSIsInNjb3BlIiwibW9kZWwiLCJhZnRlciIsImJlZm9yZSIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJuZ01vZGVsIiwicHJlcGFyZVZpZXdzIiwiY29uY2F0Iiwic2xpY2UiLCJpbmRleE9mIiwibWF4VmlldyIsIm1pblZpZXciLCJsZW5ndGgiLCJnZXREYXRlIiwibmFtZSIsImFycm93Q2xpY2siLCJ0aW1lem9uZSIsImNyZWF0ZU1vbWVudCIsImV2ZW50SXNGb3JQaWNrZXIiLCJwYXJzZUludCIsInBhcnRpYWwiLCJtaW5EYXRlIiwibWF4RGF0ZSIsInBpY2tlcklEIiwiaWQiLCJub3ciLCJzZWxlY3RlZCIsImF1dG9jbG9zZSIsImF1dG9DbG9zZSIsInNldERhdGUiLCIkc2V0Vmlld1ZhbHVlIiwiJGVtaXQiLCJjYWxsYmFja09uU2V0RGF0ZSIsImRhdGVQaWNrZXIiLCJ1cGRhdGUiLCJzZXRQYXJhbXMiLCJ5ZWFycyIsImdldFZpc2libGVZZWFycyIsIm1vbnRocyIsImdldFZpc2libGVNb250aHMiLCJ3ZWVrZGF5cyIsImdldERheXNPZldlZWsiLCJ3ZWVrcyIsImdldFZpc2libGVXZWVrcyIsImdldFZpc2libGVIb3VycyIsImdldFZpc2libGVNaW51dGVzIiwicHJlcGFyZVZpZXdEYXRhIiwiaSIsImoiLCJjbGFzc2VzIiwiY2xhc3NMaXN0Iiwid2VlayIsInB1c2giLCJpc1NhbWVEYXkiLCJpc05vdyIsImluVmFsaWRSYW5nZSIsInBhcmFtcyIsImRhdGVzIiwiY29tcGFyZUZ1bmMiLCJ2YWxpZCIsImlzQWZ0ZXIiLCJpc1NhbWUiLCJpc0JlZm9yZSIsImRhdGUxIiwiZGF0ZTIiLCJjbGlwRGF0ZSIsImlzIiwibWludXRlIiwiTWF0aCIsImNlaWwiLCJzZWNvbmQiLCJ3YXRjaERpcmVjdENoYW5nZXMiLCJ1bmRlZmluZWQiLCJkYXRlQ2hhbmdlIiwiZmluZEZ1bmN0aW9uIiwic2V0VmlldyIsIm5leHRWaWV3Iiwic2VsZWN0RGF0ZSIsImRpc2FibGVkIiwiYWRkQ2xhc3MiLCIkd2F0Y2giLCJuZXh0IiwiZGVsdGEiLCJwcmV2IiwiJG9uIiwiZXZlbnQiLCJwaWNrZXJJRHMiLCJkYXRhIiwidXBkYXRlVmlld3MiLCJ1cGRhdGVWaWV3RGF0YSIsImlzRGVmaW5lZCIsImZhY3RvcnkiLCJjcmVhdGVOZXdEYXRlIiwiZGF5IiwiaG91ciIsInV0YyIsIkRhdGUiLCJVVEMiLCJwdXNoZWREYXRlIiwib2Zmc2V0IiwidXRjT2Zmc2V0Iiwic3RhcnRZZWFyIiwic3RhcnRNb250aCIsInRoaXMiLCJhZGQiLCJkIiwiYWN0dWFsT2Zmc2V0IiwiZGF5cyIsInVuaXgiLCJpc1NhbWVZZWFyIiwiaXNTYW1lTW9udGgiLCJpc1NhbWVIb3VyIiwiaXNTYW1lTWludXRlcyIsInpvbmUiLCJmZCIsInNjb3BlU2VhcmNoIiwiY29tcGFyaXNvbkZuIiwidGFyZ2V0IiwicGFyZW50U2NvcGUiLCJuYW1lQXJyYXkiLCJzcGxpdCIsIiRwYXJlbnQiLCJpc0Z1bmN0aW9uIiwiZmluZFBhcmFtIiwicmVzdWx0IiwiaXNWYWxpZCIsInRhcmdldElEcyIsImlzQXJyYXkiLCIkY29tcGlsZSIsImRhdGVUaW1lQ29uZmlnIiwiZ2V0VGVtcGxhdGUiLCJtaW4iLCJtYXgiLCJleHRlbmQiLCJyYW5kb21OYW1lIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJzdGFydCIsImVuZCIsInBpY2tlclJhbmdlSUQiLCJtb2RlbE5hbWUiLCJuZXdEYXRlIiwiJGJyb2FkY2FzdCIsIiR3YXRjaEdyb3VwIiwic2V0TWF4Iiwib25TZXREYXRlIiwicGlja2VyIiwiYXBwZW5kIiwicG9zaXRpb24iLCJiaW5kIiwiZmluZCIsImZvY3VzIiwiJGRvY3VtZW50IiwiJGZpbHRlciIsIiRwYXJzZSIsImJvZHkiLCJkYXRlRmlsdGVyIiwicGFyZW50Rm9ybSIsImluaGVyaXRlZERhdGEiLCJpbmRleCIsImRpc21pc3MiLCJjb250YWluZXIiLCJtaW5WYWxpZCIsIm1heFZhbGlkIiwic2hvd25PbmNlIiwic2V0TWluIiwiY2xlYXIiLCJyZW1vdmUiLCJzcGxpY2UiLCJ1bnNoaWZ0IiwiJGZvcm1hdHRlcnMiLCJ2YWx1ZSIsIiRwYXJzZXJzIiwidmlld1ZhbHVlIiwiJHZhbGlkYXRvcnMiLCJ2YWxpZGF0ZVJlcXVpcmVkIiwiJHZhbGlkYXRlIiwiJG1vZGVsVmFsdWUiLCIkZGlnZXN0Iiwic3RvcFByb3BhZ2F0aW9uIiwiJHByaXN0aW5lIiwiJGRpcnR5IiwicmVtb3ZlQ2xhc3MiLCIkc2V0RGlydHkiLCIkcmVuZGVyIiwidXBkYXRlSW5wdXQiLCJ0cmlnZ2VySGFuZGxlciIsInBvcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsImNzcyIsInRvcCIsImxlZnQiLCJkaXNwbGF5IiwicGFyZW50RWxlbWVudCIsImluc2VydEJlZm9yZSIsInJlY3RQYWdlQm90dG9tIiwiYm90dG9tIiwicGFnZUhpZWdodCIsImRvY3VtZW50IiwiY2xpZW50SGVpZ2h0IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJydW4iLCIkdGVtcGxhdGVDYWNoZSIsInB1dCJdLCJtYXBwaW5ncyI6IkFBQUEsY0FDQSxTQUFVQSxVQUVGQyxPQUFTRCxRQUFRRSxPQUFPLGFBQWMsS0FFbkNDLFNBQVMsbUJBQW9CLENBQ2hDQyxTQUFVLDRCQUNW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QyxpQkFBa0IsU0FBU0MsZ0JBQ3pEQSxlQUFlQyxJQUFJLDRCQUNmLDI1R0F4NkJaLENBZ29DRzNPIiwiZmlsZSI6InBsdWdpbnMvZGF0YXBpY2tlci9hbmd1bGFyLWRhdGVwaWNrZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4oZnVuY3Rpb24oYW5ndWxhcil7XG4gICAgLyogZ2xvYmFsIG1vbWVudCAqL1xuICAgIHZhciBNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnZGF0ZVBpY2tlcicsIFtdKTtcblxuICAgIE1vZHVsZS5jb25zdGFudCgnZGF0ZVBpY2tlckNvbmZpZycsIHtcbiAgICAgICAgdGVtcGxhdGU6ICd0ZW1wbGF0ZXMvZGF0ZXBpY2tlci5odG1sJyxcbiAgICAgICAgdmlldzogJ21vbnRoJyxcbiAgICAgICAgdmlld3M6IFsneWVhcicsICdtb250aCcsICdkYXRlJywgJ2hvdXJzJywgJ21pbnV0ZXMnXSxcbiAgICAgICAgbW9tZW50TmFtZXM6IHtcbiAgICAgICAgICAgIHllYXI6ICd5ZWFyJyxcbiAgICAgICAgICAgIG1vbnRoOiAnbW9udGgnLFxuICAgICAgICAgICAgZGF0ZTogJ2RheScsXG4gICAgICAgICAgICBob3VyczogJ2hvdXJzJyxcbiAgICAgICAgICAgIG1pbnV0ZXM6ICdtaW51dGVzJyxcbiAgICAgICAgfSxcbiAgICAgICAgdmlld0NvbmZpZzoge1xuICAgICAgICAgICAgeWVhcjogWyd5ZWFycycsICdpc1NhbWVZZWFyJ10sXG4gICAgICAgICAgICBtb250aDogWydtb250aHMnLCAnaXNTYW1lTW9udGgnXSxcbiAgICAgICAgICAgIGhvdXJzOiBbJ2hvdXJzJywgJ2lzU2FtZUhvdXInXSxcbiAgICAgICAgICAgIG1pbnV0ZXM6IFsnbWludXRlcycsICdpc1NhbWVNaW51dGVzJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHN0ZXA6IDUsXG4gICAgICAgIGZpcnN0RGF5OiAwIC8vU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgYnkgZGVmYXVsdC5cbiAgICB9KTtcblxuLy9Nb21lbnQgZm9ybWF0IGZpbHRlci5cbiAgICBNb2R1bGUuZmlsdGVyKCdtRm9ybWF0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG0sIGZvcm1hdCwgdHopIHtcbiAgICAgICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShtb21lbnQuaXNNb21lbnQobSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbWVudChtKS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0eiA/IG1vbWVudC50eihtLCB0eikuZm9ybWF0KGZvcm1hdCkgOiBtLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgTW9kdWxlLmRpcmVjdGl2ZSgnZGF0ZVBpY2tlcicsIFsnZGF0ZVBpY2tlckNvbmZpZycsICdkYXRlUGlja2VyVXRpbHMnLCBmdW5jdGlvbiBkYXRlUGlja2VyRGlyZWN0aXZlKGRhdGVQaWNrZXJDb25maWcsIGRhdGVQaWNrZXJVdGlscykge1xuXG4gICAgICAgIC8vbm9pbnNwZWN0aW9uIEpTVW51c2VkTG9jYWxTeW1ib2xzXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIGEgYnVnID9cbiAgICAgICAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgbmctaW5jbHVkZT1cInRlbXBsYXRlXCI+PC9kaXY+JyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6ICc9ZGF0ZVBpY2tlcicsXG4gICAgICAgICAgICAgICAgYWZ0ZXI6ICc9PycsXG4gICAgICAgICAgICAgICAgYmVmb3JlOiAnPT8nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVWaWV3cygpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUudmlld3MgPSBkYXRlUGlja2VyQ29uZmlnLnZpZXdzLmNvbmNhdCgpO1xuICAgICAgICAgICAgICAgICAgICBzY29wZS52aWV3ID0gYXR0cnMudmlldyB8fCBkYXRlUGlja2VyQ29uZmlnLnZpZXc7XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUudmlld3MgPSBzY29wZS52aWV3cy5zbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnZpZXdzLmluZGV4T2YoYXR0cnMubWF4VmlldyB8fCAneWVhcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudmlld3MuaW5kZXhPZihhdHRycy5taW5WaWV3IHx8ICdtaW51dGVzJykgKyAxXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnZpZXdzLmxlbmd0aCA9PT0gMSB8fCBzY29wZS52aWV3cy5pbmRleE9mKHNjb3BlLnZpZXcpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudmlldyA9IHNjb3BlLnZpZXdzWzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RGF0ZShuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlUGlja2VyVXRpbHMuZ2V0RGF0ZShzY29wZSwgYXR0cnMsIG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBhcnJvd0NsaWNrID0gZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHR6ID0gc2NvcGUudHogPSBhdHRycy50aW1lem9uZSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTW9tZW50ID0gZGF0ZVBpY2tlclV0aWxzLmNyZWF0ZU1vbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJc0ZvclBpY2tlciA9IGRhdGVQaWNrZXJVdGlscy5ldmVudElzRm9yUGlja2VyLFxuICAgICAgICAgICAgICAgICAgICBzdGVwID0gcGFyc2VJbnQoYXR0cnMuc3RlcCB8fCBkYXRlUGlja2VyQ29uZmlnLnN0ZXAsIDEwKSxcbiAgICAgICAgICAgICAgICAgICAgcGFydGlhbCA9ICEhYXR0cnMucGFydGlhbCxcbiAgICAgICAgICAgICAgICAgICAgbWluRGF0ZSA9IGdldERhdGUoJ21pbkRhdGUnKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4RGF0ZSA9IGdldERhdGUoJ21heERhdGUnKSxcbiAgICAgICAgICAgICAgICAgICAgcGlja2VySUQgPSBlbGVtZW50WzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICBub3cgPSBzY29wZS5ub3cgPSBjcmVhdGVNb21lbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBzY29wZS5kYXRlID0gY3JlYXRlTW9tZW50KHNjb3BlLm1vZGVsIHx8IG5vdyksXG4gICAgICAgICAgICAgICAgICAgIGF1dG9jbG9zZSA9IGF0dHJzLmF1dG9DbG9zZSA9PT0gJ3RydWUnLFxuICAgICAgICAgICAgICAgICAgICBmaXJzdERheSA9IGF0dHJzLmZpcnN0RGF5ICYmIGF0dHJzLmZpcnN0RGF5ID49IDAgJiYgYXR0cnMuZmlyc3REYXkgPD0gNiA/IHBhcnNlSW50KGF0dHJzLmZpcnN0RGF5LCAxMCkgOiBkYXRlUGlja2VyQ29uZmlnLmZpcnN0RGF5O1xuXG4gICAgICAgICAgICAgICAgZGF0ZVBpY2tlclV0aWxzLnNldFBhcmFtcyh0eiwgZmlyc3REYXkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZS5tb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5taW51dGUoTWF0aC5jZWlsKHNlbGVjdGVkLm1pbnV0ZSgpIC8gc3RlcCkgKiBzdGVwKS5zZWNvbmQoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUudGVtcGxhdGUgPSBhdHRycy50ZW1wbGF0ZSB8fCBkYXRlUGlja2VyQ29uZmlnLnRlbXBsYXRlO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUud2F0Y2hEaXJlY3RDaGFuZ2VzID0gYXR0cnMud2F0Y2hEaXJlY3RDaGFuZ2VzICE9PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgc2NvcGUuY2FsbGJhY2tPblNldERhdGUgPSBhdHRycy5kYXRlQ2hhbmdlID8gZGF0ZVBpY2tlclV0aWxzLmZpbmRGdW5jdGlvbihzY29wZSwgYXR0cnMuZGF0ZUNoYW5nZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBwcmVwYXJlVmlld3MoKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLnNldFZpZXcgPSBmdW5jdGlvbiAobmV4dFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLnZpZXdzLmluZGV4T2YobmV4dFZpZXcpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudmlldyA9IG5leHRWaWV3O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTYW1lKHNjb3BlLmRhdGUsIGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gc2NvcGUuZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkYXRlID0gY2xpcERhdGUoZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGUgPSBkYXRlO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0VmlldyA9IHNjb3BlLnZpZXdzW3Njb3BlLnZpZXdzLmluZGV4T2Yoc2NvcGUudmlldykgKyAxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCghbmV4dFZpZXcgfHwgcGFydGlhbCkgfHwgc2NvcGUubW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERhdGUoZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldERhdGUoZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zZXRWaWV3KG5leHRWaWV3KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdXRvY2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJ2hpZGVQaWNrZXInKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVwYXJlVmlld0RhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXREYXRlKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLm1vZGVsID0gZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZ01vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCdzZXREYXRlJywgc2NvcGUubW9kZWwsIHNjb3BlLnZpZXcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vVGhpcyBpcyBkdXBsaWNhdGVkIGluIHRoZSBuZXcgZnVuY3Rpb25hbGl0eS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLmNhbGxiYWNrT25TZXREYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5jYWxsYmFja09uU2V0RGF0ZShhdHRycy5kYXRlUGlja2VyLCBzY29wZS5kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBzY29wZS52aWV3O1xuICAgICAgICAgICAgICAgICAgICBkYXRlUGlja2VyVXRpbHMuc2V0UGFyYW1zKHR6LCBmaXJzdERheSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjb3BlLm1vZGVsICYmICFhcnJvd0NsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRlID0gY3JlYXRlTW9tZW50KHNjb3BlLm1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycm93Q2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gc2NvcGUuZGF0ZTtcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnllYXJzID0gZGF0ZVBpY2tlclV0aWxzLmdldFZpc2libGVZZWFycyhkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5tb250aHMgPSBkYXRlUGlja2VyVXRpbHMuZ2V0VmlzaWJsZU1vbnRocyhkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLndlZWtkYXlzID0gc2NvcGUud2Vla2RheXMgfHwgZGF0ZVBpY2tlclV0aWxzLmdldERheXNPZldlZWsoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS53ZWVrcyA9IGRhdGVQaWNrZXJVdGlscy5nZXRWaXNpYmxlV2Vla3MoZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdob3Vycyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaG91cnMgPSBkYXRlUGlja2VyVXRpbHMuZ2V0VmlzaWJsZUhvdXJzKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbWludXRlcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubWludXRlcyA9IGRhdGVQaWNrZXJVdGlscy5nZXRWaXNpYmxlTWludXRlcyhkYXRlLCBzdGVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmVWaWV3RGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHdhdGNoKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUudmlldyAhPT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUudmlldztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuZGF0ZSA/IHNjb3BlLmRhdGUubW9udGgoKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoLCB1cGRhdGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLndhdGNoRGlyZWN0Q2hhbmdlcykge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goJ21vZGVsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dDbGljayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVWaWV3RGF0YSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBzY29wZS52aWV3LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHNjb3BlLmRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzID0gW10sIGNsYXNzTGlzdCA9ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSwgajtcblxuICAgICAgICAgICAgICAgICAgICBkYXRlUGlja2VyVXRpbHMuc2V0UGFyYW1zKHR6LCBmaXJzdERheSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZXcgPT09ICdkYXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdlZWtzID0gc2NvcGUud2Vla3MsIHdlZWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgd2Vla3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWVrID0gd2Vla3NbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgd2Vlay5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3QgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVQaWNrZXJVdGlscy5pc1NhbWVEYXkoZGF0ZSwgd2Vla1tqXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdCArPSAnYWN0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOb3cod2Vla1tqXSwgdmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdCArPSAnIG5vdyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiAod2Vla1tqXS5tb250aCgpICE9PSBkYXRlLm1vbnRoKCkpIGNsYXNzTGlzdCArPSAnIGRpc2FibGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlZWtbal0ubW9udGgoKSAhPT0gZGF0ZS5tb250aCgpIHx8ICFpblZhbGlkUmFuZ2Uod2Vla1tqXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdCArPSAnIGRpc2FibGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzW2ldLnB1c2goY2xhc3NMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gZGF0ZVBpY2tlckNvbmZpZy52aWV3Q29uZmlnW3ZpZXddLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVzID0gc2NvcGVbcGFyYW1zWzBdXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlRnVuYyA9IHBhcmFtc1sxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRhdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVQaWNrZXJVdGlsc1tjb21wYXJlRnVuY10oZGF0ZSwgZGF0ZXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdCArPSAnYWN0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTm93KGRhdGVzW2ldLCB2aWV3KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3QgKz0gJyBub3cnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWluVmFsaWRSYW5nZShkYXRlc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0ICs9ICcgZGlzYWJsZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goY2xhc3NMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY29wZS5jbGFzc2VzID0gY2xhc3NlcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5uZXh0ID0gZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbW9tZW50KHNjb3BlLmRhdGUpO1xuICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IGRlbHRhIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc2NvcGUudmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgICAgICAgICAgICAvKmZhbGxzIHRocm91Z2gqL1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUueWVhcihkYXRlLnllYXIoKSArIGRlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUubW9udGgoZGF0ZS5tb250aCgpICsgZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaG91cnMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLypmYWxscyB0aHJvdWdoKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUuaG91cnMoZGF0ZS5ob3VycygpICsgZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRhdGUgPSBjbGlwRGF0ZShkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmRhdGUgPSBkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGF0ZShkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycm93Q2xpY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gaW5WYWxpZFJhbmdlKGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbkRhdGUgJiYgbWluRGF0ZS5pc0FmdGVyKGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGlzU2FtZShtaW5EYXRlLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWF4RGF0ZSAmJiBtYXhEYXRlLmlzQmVmb3JlKGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCAmPSBpc1NhbWUobWF4RGF0ZSwgZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlzU2FtZShkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUxLmlzU2FtZShkYXRlMiwgZGF0ZVBpY2tlckNvbmZpZy5tb21lbnROYW1lc1tzY29wZS52aWV3XSkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xpcERhdGUoZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWluRGF0ZSAmJiBtaW5EYXRlLmlzQWZ0ZXIoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtaW5EYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1heERhdGUgJiYgbWF4RGF0ZS5pc0JlZm9yZShkYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heERhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGlzTm93KGRhdGUsIHZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzICY9IH5+KG5vdy5taW51dGVzKCkgLyBzdGVwKSA9PT0gfn4oZGF0ZS5taW51dGVzKCkgLyBzdGVwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hvdXJzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpcyAmPSBub3cuaG91cnMoKSA9PT0gZGF0ZS5ob3VycygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgJj0gbm93LmRhdGUoKSA9PT0gZGF0ZS5kYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXMgJj0gbm93Lm1vbnRoKCkgPT09IGRhdGUubW9udGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzICY9IG5vdy55ZWFyKCkgPT09IGRhdGUueWVhcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpcztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzY29wZS5wcmV2ID0gZnVuY3Rpb24gKGRlbHRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS5uZXh0KC1kZWx0YSB8fCAtMSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChwaWNrZXJJRCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oJ3BpY2tlclVwZGF0ZScsIGZ1bmN0aW9uIChldmVudCwgcGlja2VySURzLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRJc0ZvclBpY2tlcihwaWNrZXJJRHMsIHBpY2tlcklEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVWaWV3cyA9IGZhbHNlLCB1cGRhdGVWaWV3RGF0YSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWluRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZSA9IGRhdGEubWluRGF0ZSA/IGRhdGEubWluRGF0ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVWaWV3RGF0YSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1heERhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heERhdGUgPSBkYXRhLm1heERhdGUgPyBkYXRhLm1heERhdGUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmlld0RhdGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1pblZpZXcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzLm1pblZpZXcgPSBkYXRhLm1pblZpZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXdzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWF4VmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMubWF4VmlldyA9IGRhdGEubWF4VmlldztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmlld3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRycy52aWV3ID0gZGF0YS52aWV3IHx8IGF0dHJzLnZpZXc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlVmlld3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlcGFyZVZpZXdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZVZpZXdEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1dKTtcbiAgICAvKiBnbG9iYWwgbW9tZW50ICovXG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZVBpY2tlcicpLmZhY3RvcnkoJ2RhdGVQaWNrZXJVdGlscycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHR6LCBmaXJzdERheTtcbiAgICAgICAgdmFyIGNyZWF0ZU5ld0RhdGUgPSBmdW5jdGlvbiAoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlKSB7XG4gICAgICAgICAgICB2YXIgdXRjID0gRGF0ZS5VVEMoeWVhciB8IDAsIG1vbnRoIHwgMCwgZGF5IHwgMCwgaG91ciB8IDAsIG1pbnV0ZSB8IDApO1xuICAgICAgICAgICAgcmV0dXJuIHR6ID8gbW9tZW50LnR6KHV0YywgdHopIDogbW9tZW50KHV0Yyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldFZpc2libGVNaW51dGVzOiBmdW5jdGlvbiAobSwgc3RlcCkge1xuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gbS55ZWFyKCksXG4gICAgICAgICAgICAgICAgICAgIG1vbnRoID0gbS5tb250aCgpLFxuICAgICAgICAgICAgICAgICAgICBkYXkgPSBtLmRhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgaG91ciA9IG0uaG91cnMoKSwgcHVzaGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbS51dGNPZmZzZXQoKSAvIDYwLFxuICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gW10sIG1pbnV0ZTtcblxuICAgICAgICAgICAgICAgIGZvciAobWludXRlID0gMCA7IG1pbnV0ZSA8IDYwIDsgbWludXRlICs9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgbW9udGgsIGRheSwgaG91ciAtIG9mZnNldCwgbWludXRlKTtcbiAgICAgICAgICAgICAgICAgICAgbWludXRlcy5wdXNoKHB1c2hlZERhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWludXRlcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRWaXNpYmxlV2Vla3M6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgbSA9IG1vbWVudChtKTtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRZZWFyID0gbS55ZWFyKCksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TW9udGggPSBtLm1vbnRoKCk7XG5cbiAgICAgICAgICAgICAgICAvL1NldCBkYXRlIHRvIHRoZSBmaXJzdCBkYXkgb2YgdGhlIG1vbnRoXG4gICAgICAgICAgICAgICAgbS5kYXRlKDEpO1xuXG4gICAgICAgICAgICAgICAgLy9HcmFiIGRheSBvZiB0aGUgd2Vla1xuICAgICAgICAgICAgICAgIHZhciBkYXkgPSBtLmRheSgpO1xuXG4gICAgICAgICAgICAgICAgLy9HbyBiYWNrIHRoZSByZXF1aXJlZCBudW1iZXIgb2YgZGF5cyB0byBhcnJpdmUgYXQgdGhlIHByZXZpb3VzIHdlZWsgc3RhcnRcbiAgICAgICAgICAgICAgICBtLmRhdGUoZmlyc3REYXkgLSAoZGF5ICsgKGZpcnN0RGF5ID49IGRheSA/IDYgOiAtMSkpKTtcblxuICAgICAgICAgICAgICAgIHZhciB3ZWVrcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKHdlZWtzLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0ueWVhcigpID09PSBzdGFydFllYXIgJiYgbS5tb250aCgpID4gc3RhcnRNb250aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2Vla3MucHVzaCh0aGlzLmdldERheXNPZldlZWsobSkpO1xuICAgICAgICAgICAgICAgICAgICBtLmFkZCg3LCAnZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gd2Vla3M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0VmlzaWJsZVllYXJzOiBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIHZhciBtID0gbW9tZW50KGQpLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyID0gbS55ZWFyKCk7XG5cbiAgICAgICAgICAgICAgICBtLnllYXIoeWVhciAtICh5ZWFyICUgMTApKTtcbiAgICAgICAgICAgICAgICB5ZWFyID0gbS55ZWFyKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gbS51dGNPZmZzZXQoKSAvIDYwLFxuICAgICAgICAgICAgICAgICAgICB5ZWFycyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBwdXNoZWREYXRlLFxuICAgICAgICAgICAgICAgICAgICBhY3R1YWxPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgMCwgMSwgMCAtIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbE9mZnNldCA9IHB1c2hlZERhdGUudXRjT2Zmc2V0KCkgLyA2MDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdHVhbE9mZnNldCAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCAwLCAxLCAwIC0gYWN0dWFsT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGFjdHVhbE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB5ZWFycy5wdXNoKHB1c2hlZERhdGUpO1xuICAgICAgICAgICAgICAgICAgICB5ZWFyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB5ZWFycztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXREYXlzT2ZXZWVrOiBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgIG0gPSBtID8gbSA6ICh0eiA/IG1vbWVudC50eih0eikuZGF5KGZpcnN0RGF5KSA6IG1vbWVudCgpLmRheShmaXJzdERheSkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBtLnllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgbW9udGggPSBtLm1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgIGRheSA9IG0uZGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBkYXlzID0gW10sXG4gICAgICAgICAgICAgICAgICAgIHB1c2hlZERhdGUsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IG0udXRjT2Zmc2V0KCkgLyA2MCxcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsT2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgbW9udGgsIGRheSwgMCAtIG9mZnNldCwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxPZmZzZXQgPSBwdXNoZWREYXRlLnV0Y09mZnNldCgpIC8gNjA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3R1YWxPZmZzZXQgIT09IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgbW9udGgsIGRheSwgMCAtIGFjdHVhbE9mZnNldCwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRheXMucHVzaChwdXNoZWREYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgZGF5Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFZpc2libGVNb250aHM6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBtLnllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbS51dGNPZmZzZXQoKSAvIDYwLFxuICAgICAgICAgICAgICAgICAgICBtb250aHMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgcHVzaGVkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsT2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbW9udGggPSAwOyBtb250aCA8IDEyOyBtb250aCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hlZERhdGUgPSBjcmVhdGVOZXdEYXRlKHllYXIsIG1vbnRoLCAxLCAwIC0gb2Zmc2V0LCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbE9mZnNldCA9IHB1c2hlZERhdGUudXRjT2Zmc2V0KCkgLyA2MDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdHVhbE9mZnNldCAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgMSwgMCAtIGFjdHVhbE9mZnNldCwgMCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1vbnRocy5wdXNoKHB1c2hlZERhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbW9udGhzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFZpc2libGVIb3VyczogZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IG0ueWVhcigpLFxuICAgICAgICAgICAgICAgICAgICBtb250aCA9IG0ubW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgZGF5ID0gbS5kYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGhvdXJzID0gW10sXG4gICAgICAgICAgICAgICAgICAgIGhvdXIsIHB1c2hlZERhdGUsIGFjdHVhbE9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gbS51dGNPZmZzZXQoKSAvIDYwO1xuXG4gICAgICAgICAgICAgICAgZm9yIChob3VyID0gMCA7IGhvdXIgPCAyNCA7IGhvdXIrKykge1xuICAgICAgICAgICAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyIC0gb2Zmc2V0LCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbE9mZnNldCA9IHB1c2hlZERhdGUudXRjT2Zmc2V0KCkgLyA2MDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdHVhbE9mZnNldCAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyIC0gYWN0dWFsT2Zmc2V0LCAwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaG91cnMucHVzaChwdXNoZWREYXRlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gaG91cnM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNBZnRlcjogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsICYmIG1vZGVsLnVuaXgoKSA+PSBkYXRlLnVuaXgoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0JlZm9yZTogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsLnVuaXgoKSA8PSBkYXRlLnVuaXgoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1NhbWVZZWFyOiBmdW5jdGlvbiAobW9kZWwsIGRhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kZWwgJiYgbW9kZWwueWVhcigpID09PSBkYXRlLnllYXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1NhbWVNb250aDogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lWWVhcihtb2RlbCwgZGF0ZSkgJiYgbW9kZWwubW9udGgoKSA9PT0gZGF0ZS5tb250aCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzU2FtZURheTogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lTW9udGgobW9kZWwsIGRhdGUpICYmIG1vZGVsLmRhdGUoKSA9PT0gZGF0ZS5kYXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNTYW1lSG91cjogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lRGF5KG1vZGVsLCBkYXRlKSAmJiBtb2RlbC5ob3VycygpID09PSBkYXRlLmhvdXJzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNTYW1lTWludXRlczogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lSG91cihtb2RlbCwgZGF0ZSkgJiYgbW9kZWwubWludXRlcygpID09PSBkYXRlLm1pbnV0ZXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRQYXJhbXM6IGZ1bmN0aW9uICh6b25lLCBmZCkge1xuICAgICAgICAgICAgICAgIHR6ID0gem9uZTtcbiAgICAgICAgICAgICAgICBmaXJzdERheSA9IGZkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjb3BlU2VhcmNoOiBmdW5jdGlvbiAoc2NvcGUsIG5hbWUsIGNvbXBhcmlzb25Gbikge1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRTY29wZSA9IHNjb3BlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lQXJyYXkgPSBuYW1lLnNwbGl0KCcuJyksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCwgaSwgaiA9IG5hbWVBcnJheS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHBhcmVudFNjb3BlID0gcGFyZW50U2NvcGUuJHBhcmVudDtcblxuICAgICAgICAgICAgICAgICAgICAvL0xvb3AgdGhyb3VnaCBwcm92aWRlZCBuYW1lcy5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W25hbWVBcnJheVtpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy9JZiB3ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIGxpc3QgZm9yIHRoaXMgc2NvcGUsXG4gICAgICAgICAgICAgICAgICAgIC8vYW5kIHNvbWV0aGluZyB3YXMgZm91bmQsIHRyaWdnZXIgdGhlIGNvbXBhcmlzb25cbiAgICAgICAgICAgICAgICAgICAgLy9mdW5jdGlvbi4gSWYgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gaXMgaGFwcHksIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAvL2ZvdW5kIHJlc3VsdC4gT3RoZXJ3aXNlLCBjb250aW51ZSB0byB0aGUgbmV4dCBwYXJlbnQgc2NvcGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCAmJiBjb21wYXJpc29uRm4odGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAocGFyZW50U2NvcGUuJHBhcmVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluZEZ1bmN0aW9uOiBmdW5jdGlvbiAoc2NvcGUsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICAvL1NlYXJjaCBzY29wZSBhbmNlc3RvcnMgZm9yIGEgbWF0Y2hpbmcgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGVTZWFyY2goc2NvcGUsIG5hbWUsIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAvL1Byb3BlcnR5IG11c3QgYWxzbyBiZSBhIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmd1bGFyLmlzRnVuY3Rpb24odGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5kUGFyYW06IGZ1bmN0aW9uIChzY29wZSwgbmFtZSkge1xuICAgICAgICAgICAgICAgIC8vU2VhcmNoIHNjb3BlIGFuY2VzdG9ycyBmb3IgYSBtYXRjaGluZyBwYXJhbWV0ZXIuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGVTZWFyY2goc2NvcGUsIG5hbWUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAvL0FzIGxvbmcgYXMgdGhlIHByb3BlcnR5IGV4aXN0cywgd2UncmUgZ29vZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjcmVhdGVNb21lbnQ6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR6KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb21lbnQudHoobSwgdHopO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vSWYgaW5wdXQgaXMgYSBtb21lbnQsIGFuZCB3ZSBoYXZlIG5vIFRaIGluZm8sIHdlIG5lZWQgdG8gcmVtb3ZlIFRaXG4gICAgICAgICAgICAgICAgICAgIC8vaW5mbyBmcm9tIHRoZSBtb21lbnQsIG90aGVyd2lzZSB0aGUgbmV3bHkgY3JlYXRlZCBtb21lbnQgd2lsbCB0YWtlXG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIHRpbWV6b25lIG9mIHRoZSBpbnB1dCBtb21lbnQuIFRoZSBlYXNpZXN0IHdheSB0byBkbyB0aGF0IGlzIHRvXG4gICAgICAgICAgICAgICAgICAgIC8vdGFrZSB0aGUgdW5peCB0aW1lc3RhbXAsIGFuZCB1c2UgdGhhdCB0byBjcmVhdGUgYSBuZXcgbW9tZW50LlxuICAgICAgICAgICAgICAgICAgICAvL1RoZSBuZXcgbW9tZW50IHdpbGwgdXNlIHRoZSBsb2NhbCB0aW1lem9uZSBvZiB0aGUgdXNlciBtYWNoaW5lLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9tZW50LmlzTW9tZW50KG0pID8gbW9tZW50LnVuaXgobS51bml4KCkpIDogbW9tZW50KG0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXREYXRlOiBmdW5jdGlvbiAoc2NvcGUsIGF0dHJzLCBuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNyZWF0ZU1vbWVudChhdHRyc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5maW5kUGFyYW0oc2NvcGUsIGF0dHJzW25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNyZWF0ZU1vbWVudChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBldmVudElzRm9yUGlja2VyOiBmdW5jdGlvbiAodGFyZ2V0SURzLCBwaWNrZXJJRCkge1xuICAgICAgICAgICAgICAgIC8vQ2hlY2tzIGlmIGFuIGV2ZW50IHRhcmdldGVkIGF0IGEgc3BlY2lmaWMgcGlja2VyLCB2aWEgZWl0aGVyIGEgc3RyaW5nIG5hbWUsIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gICAgICAgICAgICAgICAgcmV0dXJuIChhbmd1bGFyLmlzQXJyYXkodGFyZ2V0SURzKSAmJiB0YXJnZXRJRHMuaW5kZXhPZihwaWNrZXJJRCkgPiAtMSB8fCB0YXJnZXRJRHMgPT09IHBpY2tlcklEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICAvKiBnbG9iYWwgbW9tZW50ICovXG4gICAgdmFyIE1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdkYXRlUGlja2VyJyk7XG5cbiAgICBNb2R1bGUuZGlyZWN0aXZlKCdkYXRlUmFuZ2UnLCBbJyRjb21waWxlJywgJ2RhdGVQaWNrZXJVdGlscycsICdkYXRlVGltZUNvbmZpZycsIGZ1bmN0aW9uICgkY29tcGlsZSwgZGF0ZVBpY2tlclV0aWxzLCBkYXRlVGltZUNvbmZpZykge1xuICAgICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZShhdHRycywgaWQsIG1vZGVsLCBtaW4sIG1heCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVUaW1lQ29uZmlnLnRlbXBsYXRlKGFuZ3VsYXIuZXh0ZW5kKGF0dHJzLCB7XG4gICAgICAgICAgICAgICAgbmdNb2RlbDogbW9kZWwsXG4gICAgICAgICAgICAgICAgbWluRGF0ZTogbWluICYmIG1vbWVudC5pc01vbWVudChtaW4pID8gbWluLmZvcm1hdCgpIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWF4RGF0ZTogbWF4ICYmIG1vbWVudC5pc01vbWVudChtYXgpID8gbWF4LmZvcm1hdCgpIDogZmFsc2VcbiAgICAgICAgICAgIH0pLCBpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByYW5kb21OYW1lKCkge1xuICAgICAgICAgICAgcmV0dXJuICdwaWNrZXInICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnN1YnN0cigyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiAnPScsXG4gICAgICAgICAgICAgICAgZW5kOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGVDaGFuZ2UgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBwaWNrZXJSYW5nZUlEID0gZWxlbWVudFswXS5pZCxcbiAgICAgICAgICAgICAgICAgICAgcGlja2VySURzID0gW3JhbmRvbU5hbWUoKSwgcmFuZG9tTmFtZSgpXSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlTW9tZW50ID0gZGF0ZVBpY2tlclV0aWxzLmNyZWF0ZU1vbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRJc0ZvclBpY2tlciA9IGRhdGVQaWNrZXJVdGlscy5ldmVudElzRm9yUGlja2VyO1xuXG4gICAgICAgICAgICAgICAgc2NvcGUuZGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChtb2RlbE5hbWUsIG5ld0RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9Ob3RpZnkgdXNlciBpZiBjYWxsYmFjayBleGlzdHMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlQ2hhbmdlKG1vZGVsTmFtZSwgbmV3RGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0TWF4KGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgncGlja2VyVXBkYXRlJywgcGlja2VySURzWzBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhEYXRlOiBkYXRlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldE1pbihkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3BpY2tlclVwZGF0ZScsIHBpY2tlcklEc1sxXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWluRGF0ZTogZGF0ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGlja2VyUmFuZ2VJRCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oJ3BpY2tlclVwZGF0ZScsIGZ1bmN0aW9uIChldmVudCwgdGFyZ2V0SURzLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRJc0ZvclBpY2tlcih0YXJnZXRJRHMsIHBpY2tlclJhbmdlSUQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiB3ZSByZWNlaXZlZCBhbiB1cGRhdGUgZXZlbnQsIGRpc3BhdGNoIGl0IHRvIHRoZSBpbm5lciBwaWNrZXJzIHVzaW5nIHRoZWlyIElEcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdwaWNrZXJVcGRhdGUnLCBwaWNrZXJJRHMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXRlUGlja2VyVXRpbHMuc2V0UGFyYW1zKGF0dHJzLnRpbWV6b25lKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLnN0YXJ0ID0gY3JlYXRlTW9tZW50KHNjb3BlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBzY29wZS5lbmQgPSBjcmVhdGVNb21lbnQoc2NvcGUuZW5kKTtcblxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaEdyb3VwKFsnc3RhcnQnLCAnZW5kJ10sIGZ1bmN0aW9uIChkYXRlcykge1xuICAgICAgICAgICAgICAgICAgICAvL1Njb3BlIGRhdGEgY2hhbmdlZCwgdXBkYXRlIHBpY2tlciBtaW4vbWF4XG4gICAgICAgICAgICAgICAgICAgIHNldE1pbihkYXRlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIHNldE1heChkYXRlc1sxXSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZUNoYW5nZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUNoYW5nZSA9IGRhdGVQaWNrZXJVdGlscy5maW5kRnVuY3Rpb24oc2NvcGUsIGF0dHJzLmRhdGVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGF0dHJzLm9uU2V0RGF0ZSA9ICdkYXRlQ2hhbmdlJztcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2Pjx0YWJsZSBjbGFzcz1cImRhdGUtcmFuZ2VcIj48dHI+PHRkIHZhbGlnbj1cInRvcFwiPicgK1xuICAgICAgICAgICAgICAgICAgICBnZXRUZW1wbGF0ZShhdHRycywgcGlja2VySURzWzBdLCAnc3RhcnQnLCBmYWxzZSwgc2NvcGUuZW5kKSArXG4gICAgICAgICAgICAgICAgICAgICc8L3RkPjx0ZCB2YWxpZ249XCJ0b3BcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgZ2V0VGVtcGxhdGUoYXR0cnMsIHBpY2tlcklEc1sxXSwgJ2VuZCcsIHNjb3BlLnN0YXJ0LCBmYWxzZSkgK1xuICAgICAgICAgICAgICAgICAgICAnPC90ZD48L3RyPjwvdGFibGU+PC9kaXY+JztcblxuICAgICAgICAgICAgICAgIHZhciBwaWNrZXIgPSAkY29tcGlsZSh0ZW1wbGF0ZSkoc2NvcGUpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kKHBpY2tlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfV0pO1xuICAgIC8qIGdsb2JhbCBtb21lbnQgKi9cbiAgICB2YXIgUFJJU1RJTkVfQ0xBU1MgPSAnbmctcHJpc3RpbmUnLFxuICAgICAgICBESVJUWV9DTEFTUyA9ICduZy1kaXJ0eSc7XG5cbiAgICB2YXIgTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2RhdGVQaWNrZXInKTtcblxuICAgIE1vZHVsZS5jb25zdGFudCgnZGF0ZVRpbWVDb25maWcnLCB7XG4gICAgICAgIHRlbXBsYXRlOiBmdW5jdGlvbiAoYXR0cnMsIGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gJycgK1xuICAgICAgICAgICAgICAgICc8ZGl2ICcgK1xuICAgICAgICAgICAgICAgIChpZCA/ICdpZD1cIicgKyBpZCArICdcIiAnIDogJycpICtcbiAgICAgICAgICAgICAgICAnZGF0ZS1waWNrZXI9XCInICsgYXR0cnMubmdNb2RlbCArICdcIiAnICtcbiAgICAgICAgICAgICAgICAoYXR0cnMudmlldyA/ICd2aWV3PVwiJyArIGF0dHJzLnZpZXcgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgKGF0dHJzLm1heFZpZXcgPyAnbWF4LXZpZXc9XCInICsgYXR0cnMubWF4VmlldyArICdcIiAnIDogJycpICtcbiAgICAgICAgICAgICAgICAoYXR0cnMubWF4RGF0ZSA/ICdtYXgtZGF0ZT1cIicgKyBhdHRycy5tYXhEYXRlICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAgICAgICAgIChhdHRycy5hdXRvQ2xvc2UgPyAnYXV0by1jbG9zZT1cIicgKyBhdHRycy5hdXRvQ2xvc2UgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgKGF0dHJzLnRlbXBsYXRlID8gJ3RlbXBsYXRlPVwiJyArIGF0dHJzLnRlbXBsYXRlICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAgICAgICAgIChhdHRycy5taW5WaWV3ID8gJ21pbi12aWV3PVwiJyArIGF0dHJzLm1pblZpZXcgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgKGF0dHJzLm1pbkRhdGUgPyAnbWluLWRhdGU9XCInICsgYXR0cnMubWluRGF0ZSArICdcIiAnIDogJycpICtcbiAgICAgICAgICAgICAgICAoYXR0cnMucGFydGlhbCA/ICdwYXJ0aWFsPVwiJyArIGF0dHJzLnBhcnRpYWwgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgKGF0dHJzLnN0ZXAgPyAnc3RlcD1cIicgKyBhdHRycy5zdGVwICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAgICAgICAgIChhdHRycy5vblNldERhdGUgPyAnZGF0ZS1jaGFuZ2U9XCInICsgYXR0cnMub25TZXREYXRlICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAgICAgICAgIChhdHRycy5uZ01vZGVsID8gJ25nLW1vZGVsPVwiJyArIGF0dHJzLm5nTW9kZWwgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgKGF0dHJzLmZpcnN0RGF5ID8gJ2ZpcnN0LWRheT1cIicgKyBhdHRycy5maXJzdERheSArICdcIiAnIDogJycpICtcbiAgICAgICAgICAgICAgICAoYXR0cnMudGltZXpvbmUgPyAndGltZXpvbmU9XCInICsgYXR0cnMudGltZXpvbmUgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgJ2NsYXNzPVwiZGF0ZS1waWNrZXItZGF0ZS10aW1lXCI+PC9kaXY+JztcbiAgICAgICAgfSxcbiAgICAgICAgZm9ybWF0OiAnWVlZWS1NTS1ERCBISDptbScsXG4gICAgICAgIHZpZXdzOiBbJ2RhdGUnLCAneWVhcicsICdtb250aCcsICdob3VycycsICdtaW51dGVzJ10sXG4gICAgICAgIGF1dG9DbG9zZTogZmFsc2UsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgfSk7XG5cbiAgICBNb2R1bGUuZGlyZWN0aXZlKCdkYXRlVGltZUFwcGVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXQnKVswXS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgTW9kdWxlLmRpcmVjdGl2ZSgnZGF0ZVRpbWUnLCBbJyRjb21waWxlJywgJyRkb2N1bWVudCcsICckZmlsdGVyJywgJ2RhdGVUaW1lQ29uZmlnJywgJyRwYXJzZScsICdkYXRlUGlja2VyVXRpbHMnLCBmdW5jdGlvbiAoJGNvbXBpbGUsICRkb2N1bWVudCwgJGZpbHRlciwgZGF0ZVRpbWVDb25maWcsICRwYXJzZSwgZGF0ZVBpY2tlclV0aWxzKSB7XG4gICAgICAgIHZhciBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKTtcbiAgICAgICAgdmFyIGRhdGVGaWx0ZXIgPSAkZmlsdGVyKCdtRm9ybWF0Jyk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgICAgICAgIHNjb3BlOiB0cnVlLFxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBhdHRycy5mb3JtYXQgfHwgZGF0ZVRpbWVDb25maWcuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRGb3JtID0gZWxlbWVudC5pbmhlcml0ZWREYXRhKCckZm9ybUNvbnRyb2xsZXInKSxcbiAgICAgICAgICAgICAgICAgICAgdmlld3MgPSAkcGFyc2UoYXR0cnMudmlld3MpKHNjb3BlKSB8fCBkYXRlVGltZUNvbmZpZy52aWV3cy5jb25jYXQoKSxcbiAgICAgICAgICAgICAgICAgICAgdmlldyA9IGF0dHJzLnZpZXcgfHwgdmlld3NbMF0sXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdmlld3MuaW5kZXhPZih2aWV3KSxcbiAgICAgICAgICAgICAgICAgICAgZGlzbWlzcyA9IGF0dHJzLmF1dG9DbG9zZSA/ICRwYXJzZShhdHRycy5hdXRvQ2xvc2UpKHNjb3BlKSA6IGRhdGVUaW1lQ29uZmlnLmF1dG9DbG9zZSxcbiAgICAgICAgICAgICAgICAgICAgcGlja2VyID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcGlja2VySUQgPSBlbGVtZW50WzBdLmlkLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGF0dHJzLnBvc2l0aW9uIHx8IGRhdGVUaW1lQ29uZmlnLnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluVmFsaWQgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtYXhEYXRlID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsaWQgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0aW1lem9uZSA9IGF0dHJzLnRpbWV6b25lIHx8IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBldmVudElzRm9yUGlja2VyID0gZGF0ZVBpY2tlclV0aWxzLmV2ZW50SXNGb3JQaWNrZXIsXG4gICAgICAgICAgICAgICAgICAgIGRhdGVDaGFuZ2UgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzaG93bk9uY2UgPSBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmlld3MudW5zaGlmdCh2aWV3KTtcblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZUZpbHRlcih2YWx1ZSwgZm9ybWF0LCB0aW1lem9uZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VyKHZpZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlld1ZhbHVlLmxlbmd0aCA9PT0gZm9ybWF0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldE1pbihkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbkRhdGUgPSBkYXRlO1xuICAgICAgICAgICAgICAgICAgICBhdHRycy5taW5EYXRlID0gZGF0ZSA/IGRhdGUuZm9ybWF0KCkgOiBkYXRlO1xuICAgICAgICAgICAgICAgICAgICBtaW5WYWxpZCA9IG1vbWVudC5pc01vbWVudChkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZXRNYXgoZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBtYXhEYXRlID0gZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMubWF4RGF0ZSA9IGRhdGUgPyBkYXRlLmZvcm1hdCgpIDogZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbWF4VmFsaWQgPSBtb21lbnQuaXNNb21lbnQoZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy51bnNoaWZ0KHBhcnNlcik7XG5cbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMubWluRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TWluKGRhdGVQaWNrZXJVdGlscy5maW5kUGFyYW0oc2NvcGUsIGF0dHJzLm1pbkRhdGUpKTtcblxuICAgICAgICAgICAgICAgICAgICBuZ01vZGVsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiB3ZSBkb24ndCBoYXZlIGEgbWluIC8gbWF4IHZhbHVlLCB0aGVuIGFueSB2YWx1ZSBpcyB2YWxpZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtaW5WYWxpZCA/IG1vbWVudC5pc01vbWVudCh2YWx1ZSkgJiYgKG1pbkRhdGUuaXNTYW1lKHZhbHVlKSB8fCBtaW5EYXRlLmlzQmVmb3JlKHZhbHVlKSkgOiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5tYXhEYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRNYXgoZGF0ZVBpY2tlclV0aWxzLmZpbmRQYXJhbShzY29wZSwgYXR0cnMubWF4RGF0ZSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF4VmFsaWQgPyBtb21lbnQuaXNNb21lbnQodmFsdWUpICYmIChtYXhEYXRlLmlzU2FtZSh2YWx1ZSkgfHwgbWF4RGF0ZS5pc0FmdGVyKHZhbHVlKSkgOiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlQ2hhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRlQ2hhbmdlID0gZGF0ZVBpY2tlclV0aWxzLmZpbmRGdW5jdGlvbihzY29wZSwgYXR0cnMuZGF0ZUNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VGVtcGxhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlID0gZGF0ZVRpbWVDb25maWcudGVtcGxhdGUoYXR0cnMpO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlSW5wdXQoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZ01vZGVsLiRwcmlzdGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kcHJpc3RpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKERJUlRZX0NMQVNTKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRGb3JtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwaWNrZXJJRCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oJ3BpY2tlclVwZGF0ZScsIGZ1bmN0aW9uIChldmVudCwgcGlja2VySURzLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRJc0ZvclBpY2tlcihwaWNrZXJJRHMsIHBpY2tlcklEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9OZWVkIHRvIGhhbmRsZSBzaXR1YXRpb24gd2hlcmUgdGhlIGRhdGEgY2hhbmdlZCBidXQgdGhlIHBpY2tlciBpcyBjdXJyZW50bHkgb3Blbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UbyBoYW5kbGUgdGhpcywgd2UgY2FuIGNyZWF0ZSB0aGUgaW5uZXIgcGlja2VyIHdpdGggYSByYW5kb20gSUQsIHRoZW4gZm9yd2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FueSBldmVudHMgcmVjZWl2ZWQgdG8gaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRlUmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWluRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1pbihkYXRhLm1pbkRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVSZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWF4RGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1heChkYXRhLm1heERhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVSZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZGF0YS5taW5WaWV3KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMubWluVmlldyA9IGRhdGEubWluVmlldztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZGF0YS5tYXhWaWV3KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMubWF4VmlldyA9IGRhdGEubWF4VmlldztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRycy52aWV3ID0gZGF0YS52aWV3IHx8IGF0dHJzLnZpZXc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEuZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gYXR0cnMuZm9ybWF0ID0gZGF0YS5mb3JtYXQgfHwgZGF0ZVRpbWVDb25maWcuZm9ybWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kbW9kZWxWYWx1ZSA9IC0xOyAvL1RyaWdnZXJzIGZvcm1hdHRlcnMuIFRoaXMgdmFsdWUgd2lsbCBiZSBkaXNjYXJkZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VGVtcGxhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dQaWNrZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgcGlja2VyIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgcGlja2VyID0gJGNvbXBpbGUodGVtcGxhdGUpKHNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vSWYgdGhlIHBpY2tlciBoYXMgYWxyZWFkeSBiZWVuIHNob3duIGJlZm9yZSB0aGVuIHdlIHNob3VsZG4ndCBiZSBiaW5kaW5nIHRvIGV2ZW50cywgYXMgdGhlc2UgZXZlbnRzIGFyZSBhbHJlYWR5IGJvdW5kIHRvIGluIHRoaXMgc2NvcGUuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvd25PbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oJ3NldERhdGUnLCBmdW5jdGlvbiAoZXZlbnQsIGRhdGUsIHZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJbnB1dChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZUNoYW5nZShhdHRycy5uZ01vZGVsLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpc21pc3MgJiYgdmlld3Nbdmlld3MubGVuZ3RoIC0gMV0gPT09IHZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJG9uKCdoaWRlUGlja2VyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJ2JsdXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgY2xlYXIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93bk9uY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlIHBpY2tlciBiZWxvdyBpbnB1dCBlbGVtZW50XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnYWJzb2x1dGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN1cHBvcnQgSUU4XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gcG9zLmhlaWdodCB8fCBlbGVtZW50WzBdLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci5jc3MoeyB0b3A6IChwb3MudG9wICsgaGVpZ2h0KSArICdweCcsIGxlZnQ6IHBvcy5sZWZ0ICsgJ3B4JywgZGlzcGxheTogJ2Jsb2NrJywgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5hcHBlbmQocGlja2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlbGF0aXZlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgZGF0ZS1waWNrZXItd3JhcHBlcj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoY29udGFpbmVyWzBdLCBlbGVtZW50WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQocGlja2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgIHRoaXMgYXBwcm9hY2ggZG9lc24ndCB3b3JrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICBlbGVtZW50LmJlZm9yZShwaWNrZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3RQYWdlQm90dG9tID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZUhpZWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpY2tlci5oZWlnaHQoKSArIHJlY3RQYWdlQm90dG9tID49IHBhZ2VIaWVnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNrZXIuY3NzKHtib3R0b206ICcwcHgnLCBkaXNwbGF5OiAnYmxvY2snfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY2tlci5jc3Moe3RvcDogZWxlbWVudFswXS5vZmZzZXRIZWlnaHQgKyAncHgnLCBkaXNwbGF5OiAnYmxvY2snfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGlja2VyLmJpbmQoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50LmJpbmQoJ2ZvY3VzJywgc2hvd1BpY2tlcik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCdibHVyJywgY2xlYXIpO1xuICAgICAgICAgICAgICAgIGdldFRlbXBsYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfV0pO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2RhdGVQaWNrZXInKS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCgndGVtcGxhdGVzL2RhdGVwaWNrZXIuaHRtbCcsXG4gICAgICAgICAgICBcIjxkaXYgbmctc3dpdGNoPVxcXCJ2aWV3XFxcIj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8ZGl2IG5nLXN3aXRjaC13aGVuPVxcXCJkYXRlXFxcIj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgIDx0YWJsZT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRoZWFkPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCJwcmV2KClcXFwiPiZsc2FxdW87PC90aD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8dGggY29sc3Bhbj1cXFwiNVxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgbmctY2xpY2s9XFxcInNldFZpZXcoJ21vbnRoJylcXFwiIG5nLWJpbmQ9XFxcImRhdGV8bUZvcm1hdDonWVlZWSBNTU1NJzp0elxcXCI+PC90aD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcIm5leHQoKVxcXCI+JnJzYXF1bzs8L2k+PC90aD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPC90cj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0aCBuZy1yZXBlYXQ9XFxcImRheSBpbiB3ZWVrZGF5c1xcXCIgc3R5bGU9XFxcIm92ZXJmbG93OiBoaWRkZW5cXFwiIG5nLWJpbmQ9XFxcImRheXxtRm9ybWF0OidkZGQnOnR6XFxcIj48L3RoPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3RoZWFkPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8dGJvZHk+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcIndlZWsgaW4gd2Vla3NcXFwiIG5nLWluaXQ9XFxcIiRpbmRleDIgPSAkaW5kZXhcXFwiPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImRheSBpbiB3ZWVrXFxcIj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICAgIDxzcGFuXFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgICAgIG5nLWNsYXNzPVxcXCJjbGFzc2VzWyRpbmRleDJdWyRpbmRleF1cXFwiXFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJzZWxlY3REYXRlKGRheSlcXFwiIG5nLWJpbmQ9XFxcImRheXxtRm9ybWF0OidERCc6dHpcXFwiPjwvc3Bhbj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8L3RkPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3Rib2R5PlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgPC90YWJsZT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8L2Rpdj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8ZGl2IG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgIDx0YWJsZT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRoZWFkPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCJwcmV2KDEwKVxcXCI+JmxzYXF1bzs8L3RoPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0aCBjb2xzcGFuPVxcXCI1XFxcIiBjbGFzcz1cXFwic3dpdGNoXFxcIm5nLWJpbmQ9XFxcInllYXJzWzBdLnllYXIoKSsnIC0gJyt5ZWFyc1t5ZWFycy5sZW5ndGgtMV0ueWVhcigpXFxcIj48L3RoPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwibmV4dCgxMClcXFwiPiZyc2FxdW87PC9pPjwvdGg+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDwvdGhlYWQ+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDx0Ym9keT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCI3XFxcIj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICAgIDxzcGFuIG5nLWNsYXNzPVxcXCJjbGFzc2VzWyRpbmRleF1cXFwiXFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgICAgICAgICBuZy1yZXBlYXQ9XFxcInllYXIgaW4geWVhcnNcXFwiXFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwic2VsZWN0RGF0ZSh5ZWFyKVxcXCIgbmctYmluZD1cXFwieWVhci55ZWFyKClcXFwiPjwvc3Bhbj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8L3RkPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3Rib2R5PlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgPC90YWJsZT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8L2Rpdj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8ZGl2IG5nLXN3aXRjaC13aGVuPVxcXCJtb250aFxcXCI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICA8dGFibGU+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDx0aGVhZD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwicHJldigpXFxcIj4mbHNhcXVvOzwvdGg+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgPHRoIGNvbHNwYW49XFxcIjVcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwiIG5nLWNsaWNrPVxcXCJzZXRWaWV3KCd5ZWFyJylcXFwiIG5nLWJpbmQ9XFxcImRhdGV8bUZvcm1hdDonWVlZWSc6dHpcXFwiPjwvdGg+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCJuZXh0KClcXFwiPiZyc2FxdW87PC9pPjwvdGg+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDwvdGhlYWQ+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDx0Ym9keT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCI3XFxcIj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICAgIDxzcGFuIG5nLXJlcGVhdD1cXFwibW9udGggaW4gbW9udGhzXFxcIlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgICAgICAgICAgbmctY2xhc3M9XFxcImNsYXNzZXNbJGluZGV4XVxcXCJcXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJzZWxlY3REYXRlKG1vbnRoKVxcXCJcXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICAgICAgICAgIG5nLWJpbmQ9XFxcIm1vbnRofG1Gb3JtYXQ6J01NTSc6dHpcXFwiPjwvc3Bhbj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8L3RkPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3Rib2R5PlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgPC90YWJsZT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8L2Rpdj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8ZGl2IG5nLXN3aXRjaC13aGVuPVxcXCJob3Vyc1xcXCI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICA8dGFibGU+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDx0aGVhZD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwicHJldigyNClcXFwiPiZsc2FxdW87PC90aD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8dGggY29sc3Bhbj1cXFwiNVxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgbmctY2xpY2s9XFxcInNldFZpZXcoJ2RhdGUnKVxcXCIgbmctYmluZD1cXFwiZGF0ZXxtRm9ybWF0OidERCBNTU1NIFlZWVknOnR6XFxcIj48L3RoPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwibmV4dCgyNClcXFwiPiZyc2FxdW87PC9pPjwvdGg+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDwvdGhlYWQ+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDx0Ym9keT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCI3XFxcIj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICAgIDxzcGFuIG5nLXJlcGVhdD1cXFwiaG91ciBpbiBob3Vyc1xcXCJcXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsYXNzPVxcXCJjbGFzc2VzWyRpbmRleF1cXFwiXFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwic2VsZWN0RGF0ZShob3VyKVxcXCIgbmctYmluZD1cXFwiaG91cnxtRm9ybWF0OidISDptbSc6dHpcXFwiPjwvc3Bhbj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8L3RkPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8L3Rib2R5PlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgPC90YWJsZT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8L2Rpdj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICA8ZGl2IG5nLXN3aXRjaC13aGVuPVxcXCJtaW51dGVzXFxcIj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgIDx0YWJsZT5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRoZWFkPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCJwcmV2KClcXFwiPiZsc2FxdW87PC90aD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8dGggY29sc3Bhbj1cXFwiNVxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgbmctY2xpY2s9XFxcInNldFZpZXcoJ2hvdXJzJylcXFwiIG5nLWJpbmQ9XFxcImRhdGV8bUZvcm1hdDonREQgTU1NTSBZWVlZJzp0elxcXCI+PC90aD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcIm5leHQoKVxcXCI+JnJzYXF1bzs8L2k+PC90aD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPC90cj5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPC90aGVhZD5cXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgPHRib2R5PlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgPHRkIGNvbHNwYW49XFxcIjdcXFwiPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgICAgPHNwYW4gbmctcmVwZWF0PVxcXCJtaW51dGUgaW4gbWludXRlc1xcXCJcXHJcIiArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsYXNzPVxcXCJjbGFzc2VzWyRpbmRleF1cXFwiXFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwic2VsZWN0RGF0ZShtaW51dGUpXFxcIlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgICAgICAgICAgbmctYmluZD1cXFwibWludXRlfG1Gb3JtYXQ6J0hIOm1tJzp0elxcXCI+PC9zcGFuPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgICAgICAgIDwvdGQ+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICAgIDwvdGJvZHk+XFxyXCIgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICBcIiAgICA8L3RhYmxlPlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCIgIDwvZGl2PlxcclwiICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgXCI8L2Rpdj5cIlxuICAgICAgICApO1xuXG4gICAgfV0pO1xufSkoYW5ndWxhcik7Il19
